var z0=t=>{throw TypeError(t)};var Mp=(t,e,n)=>e.has(t)||z0("Cannot "+n);var P=(t,e,n)=>(Mp(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?z0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(Mp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Nt=(t,e,n)=>(Mp(t,e,"access private method"),n);var zc=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return P(t,e,r)}});function VP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function HT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qT={exports:{}},ff={},KT={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),jP=Symbol.for("react.portal"),FP=Symbol.for("react.fragment"),$P=Symbol.for("react.strict_mode"),UP=Symbol.for("react.profiler"),BP=Symbol.for("react.provider"),zP=Symbol.for("react.context"),WP=Symbol.for("react.forward_ref"),HP=Symbol.for("react.suspense"),qP=Symbol.for("react.memo"),KP=Symbol.for("react.lazy"),W0=Symbol.iterator;function GP(t){return t===null||typeof t!="object"?null:(t=W0&&t[W0]||t["@@iterator"],typeof t=="function"?t:null)}var GT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QT=Object.assign,YT={};function Ka(t,e,n){this.props=t,this.context=e,this.refs=YT,this.updater=n||GT}Ka.prototype.isReactComponent={};Ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZT(){}ZT.prototype=Ka.prototype;function Zy(t,e,n){this.props=t,this.context=e,this.refs=YT,this.updater=n||GT}var Xy=Zy.prototype=new ZT;Xy.constructor=Zy;QT(Xy,Ka.prototype);Xy.isPureReactComponent=!0;var H0=Array.isArray,XT=Object.prototype.hasOwnProperty,Jy={current:null},JT={key:!0,ref:!0,__self:!0,__source:!0};function e1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)XT.call(e,r)&&!JT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:dc,type:t,key:i,ref:o,props:s,_owner:Jy.current}}function QP(t,e){return{$$typeof:dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ev(t){return typeof t=="object"&&t!==null&&t.$$typeof===dc}function YP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var q0=/\/+/g;function Lp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YP(""+t.key):e.toString(36)}function Cd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dc:case jP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Lp(o,0):r,H0(s)?(n="",t!=null&&(n=t.replace(q0,"$&/")+"/"),Cd(s,e,n,"",function(u){return u})):s!=null&&(ev(s)&&(s=QP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(q0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",H0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Lp(i,a);o+=Cd(i,e,n,l,s)}else if(l=GP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Lp(i,a++),o+=Cd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wc(t,e,n){if(t==null)return t;var r=[],s=0;return Cd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ZP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Ad={transition:null},XP={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:Jy};function t1(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Wc,forEach:function(t,e,n){Wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wc(t,function(){e++}),e},toArray:function(t){return Wc(t,function(e){return e})||[]},only:function(t){if(!ev(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Ka;Te.Fragment=FP;Te.Profiler=UP;Te.PureComponent=Zy;Te.StrictMode=$P;Te.Suspense=HP;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XP;Te.act=t1;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Jy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)XT.call(e,l)&&!JT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dc,type:t.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:zP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BP,_context:t},t.Consumer=t};Te.createElement=e1;Te.createFactory=function(t){var e=e1.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:WP,render:t}};Te.isValidElement=ev;Te.lazy=function(t){return{$$typeof:KP,_payload:{_status:-1,_result:t},_init:ZP}};Te.memo=function(t,e){return{$$typeof:qP,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Ad.transition;Ad.transition={};try{t()}finally{Ad.transition=e}};Te.unstable_act=t1;Te.useCallback=function(t,e){return nn.current.useCallback(t,e)};Te.useContext=function(t){return nn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return nn.current.useEffect(t,e)};Te.useId=function(){return nn.current.useId()};Te.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return nn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};Te.useRef=function(t){return nn.current.useRef(t)};Te.useState=function(t){return nn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return nn.current.useTransition()};Te.version="18.3.1";KT.exports=Te;var y=KT.exports;const N=HT(y),n1=VP({__proto__:null,default:N},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP=y,eN=Symbol.for("react.element"),tN=Symbol.for("react.fragment"),nN=Object.prototype.hasOwnProperty,rN=JP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sN={key:!0,ref:!0,__self:!0,__source:!0};function r1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nN.call(e,r)&&!sN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:eN,type:t,key:i,ref:o,props:s,_owner:rN.current}}ff.Fragment=tN;ff.jsx=r1;ff.jsxs=r1;qT.exports=ff;var f=qT.exports,s1={exports:{}},Cn={},i1={exports:{}},o1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,B){var ee=A.length;A.push(B);e:for(;0<ee;){var Y=ee-1>>>1,oe=A[Y];if(0<s(oe,B))A[Y]=B,A[ee]=oe,ee=Y;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var B=A[0],ee=A.pop();if(ee!==B){A[0]=ee;e:for(var Y=0,oe=A.length,xe=oe>>>1;Y<xe;){var je=2*(Y+1)-1,Kt=A[je],Re=je+1,sn=A[Re];if(0>s(Kt,ee))Re<oe&&0>s(sn,Kt)?(A[Y]=sn,A[Re]=ee,Y=Re):(A[Y]=Kt,A[je]=ee,Y=je);else if(Re<oe&&0>s(sn,ee))A[Y]=sn,A[Re]=ee,Y=Re;else break e}}return B}function s(A,B){var ee=A.sortIndex-B.sortIndex;return ee!==0?ee:A.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,_=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(A){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=A)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function x(A){if(g=!1,E(A),!_)if(n(l)!==null)_=!0,Z(T);else{var B=n(u);B!==null&&le(x,B.startTime-A)}}function T(A,B){_=!1,g&&(g=!1,v(R),R=-1),p=!0;var ee=h;try{for(E(B),d=n(l);d!==null&&(!(d.expirationTime>B)||A&&!re());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var oe=Y(d.expirationTime<=B);B=t.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(l)&&r(l),E(B)}else r(l);d=n(l)}if(d!==null)var xe=!0;else{var je=n(u);je!==null&&le(x,je.startTime-B),xe=!1}return xe}finally{d=null,h=ee,p=!1}}var b=!1,C=null,R=-1,F=5,L=-1;function re(){return!(t.unstable_now()-L<F)}function D(){if(C!==null){var A=t.unstable_now();L=A;var B=!0;try{B=C(!0,A)}finally{B?q():(b=!1,C=null)}}else b=!1}var q;if(typeof m=="function")q=function(){m(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,se=$.port2;$.port1.onmessage=D,q=function(){se.postMessage(null)}}else q=function(){w(D,0)};function Z(A){C=A,b||(b=!0,q())}function le(A,B){R=w(function(){A(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,Z(T))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var ee=h;h=B;try{return A()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,B){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var ee=h;h=A;try{return B()}finally{h=ee}},t.unstable_scheduleCallback=function(A,B,ee){var Y=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Y+ee:Y):ee=Y,A){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,A={id:c++,callback:B,priorityLevel:A,startTime:ee,expirationTime:oe,sortIndex:-1},ee>Y?(A.sortIndex=ee,e(u,A),n(l)===null&&A===n(u)&&(g?(v(R),R=-1):g=!0,le(x,ee-Y))):(A.sortIndex=oe,e(l,A),_||p||(_=!0,Z(T))),A},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(A){var B=h;return function(){var ee=h;h=B;try{return A.apply(this,arguments)}finally{h=ee}}}})(o1);i1.exports=o1;var iN=i1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN=y,In=iN;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a1=new Set,iu={};function vo(t,e){ba(t,e),ba(t+"Capture",e)}function ba(t,e){for(iu[t]=e,t=0;t<e.length;t++)a1.add(e[t])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,aN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K0={},G0={};function lN(t){return Zm.call(G0,t)?!0:Zm.call(K0,t)?!1:aN.test(t)?G0[t]=!0:(K0[t]=!0,!1)}function uN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cN(t,e,n,r){if(e===null||typeof e>"u"||uN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var tv=/[\-:]([a-z])/g;function nv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tv,nv);Pt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tv,nv);Pt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tv,nv);Pt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function rv(t,e,n,r){var s=Pt.hasOwnProperty(e)?Pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cN(e,n,s,r)&&(n=null),r||s===null?lN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vs=oN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),$o=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),sv=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),l1=Symbol.for("react.provider"),u1=Symbol.for("react.context"),iv=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),eg=Symbol.for("react.suspense_list"),ov=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),c1=Symbol.for("react.offscreen"),Q0=Symbol.iterator;function dl(t){return t===null||typeof t!="object"?null:(t=Q0&&t[Q0]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Vp;function bl(t){if(Vp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vp=e&&e[1]||""}return`
`+Vp+t}var jp=!1;function Fp(t,e){if(!t||jp)return"";jp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{jp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bl(t):""}function dN(t){switch(t.tag){case 5:return bl(t.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 2:case 15:return t=Fp(t.type,!1),t;case 11:return t=Fp(t.type.render,!1),t;case 1:return t=Fp(t.type,!0),t;default:return""}}function tg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uo:return"Fragment";case $o:return"Portal";case Xm:return"Profiler";case sv:return"StrictMode";case Jm:return"Suspense";case eg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u1:return(t.displayName||"Context")+".Consumer";case l1:return(t._context.displayName||"Context")+".Provider";case iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ov:return e=t.displayName||null,e!==null?e:tg(t.type)||"Memo";case Ps:e=t._payload,t=t._init;try{return tg(t(e))}catch{}}return null}function hN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tg(e);case 8:return e===sv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fN(t){var e=d1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=fN(t))}function h1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ng(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Y0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f1(t,e){e=e.checked,e!=null&&rv(t,"checked",e,!1)}function rg(t,e){f1(t,e);var n=li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sg(t,e.type,n):e.hasOwnProperty("defaultValue")&&sg(t,e.type,li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Z0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sg(t,e,n){(e!=="number"||Jd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cl=Array.isArray;function ta(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ig(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function X0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(Cl(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:li(n)}}function p1(t,e){var n=li(e.value),r=li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function J0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function og(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kc,g1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ou(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pN=["Webkit","ms","Moz","O"];Object.keys(Fl).forEach(function(t){pN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fl[e]=Fl[t]})});function y1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fl.hasOwnProperty(t)&&Fl[t]?(""+e).trim():e+"px"}function v1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=y1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var mN=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ag(t,e){if(e){if(mN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function lg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=null;function av(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cg=null,na=null,ra=null;function ew(t){if(t=pc(t)){if(typeof cg!="function")throw Error(V(280));var e=t.stateNode;e&&(e=vf(e),cg(t.stateNode,t.type,e))}}function _1(t){na?ra?ra.push(t):ra=[t]:na=t}function w1(){if(na){var t=na,e=ra;if(ra=na=null,ew(t),e)for(t=0;t<e.length;t++)ew(e[t])}}function E1(t,e){return t(e)}function x1(){}var $p=!1;function T1(t,e,n){if($p)return t(e,n);$p=!0;try{return E1(t,e,n)}finally{$p=!1,(na!==null||ra!==null)&&(x1(),w1())}}function au(t,e){var n=t.stateNode;if(n===null)return null;var r=vf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var dg=!1;if(as)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){dg=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{dg=!1}function gN(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var $l=!1,eh=null,th=!1,hg=null,yN={onError:function(t){$l=!0,eh=t}};function vN(t,e,n,r,s,i,o,a,l){$l=!1,eh=null,gN.apply(yN,arguments)}function _N(t,e,n,r,s,i,o,a,l){if(vN.apply(this,arguments),$l){if($l){var u=eh;$l=!1,eh=null}else throw Error(V(198));th||(th=!0,hg=u)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function I1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tw(t){if(_o(t)!==t)throw Error(V(188))}function wN(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return tw(s),t;if(i===r)return tw(s),e;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function S1(t){return t=wN(t),t!==null?b1(t):null}function b1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b1(t);if(e!==null)return e;t=t.sibling}return null}var C1=In.unstable_scheduleCallback,nw=In.unstable_cancelCallback,EN=In.unstable_shouldYield,xN=In.unstable_requestPaint,ot=In.unstable_now,TN=In.unstable_getCurrentPriorityLevel,lv=In.unstable_ImmediatePriority,A1=In.unstable_UserBlockingPriority,nh=In.unstable_NormalPriority,IN=In.unstable_LowPriority,R1=In.unstable_IdlePriority,pf=null,Ar=null;function SN(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(pf,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:AN,bN=Math.log,CN=Math.LN2;function AN(t){return t>>>=0,t===0?32:31-(bN(t)/CN|0)|0}var Gc=64,Qc=4194304;function Al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Al(a):(i&=o,i!==0&&(r=Al(i)))}else o=n&~s,o!==0?r=Al(o):i!==0&&(r=Al(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),s=1<<n,r|=t[n],e&=~s;return r}function RN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=RN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k1(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function Up(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function PN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function uv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function P1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N1,cv,O1,D1,M1,pg=!1,Yc=[],Ys=null,Zs=null,Xs=null,lu=new Map,uu=new Map,Os=[],NN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rw(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(e.pointerId)}}function fl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pc(e),e!==null&&cv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ON(t,e,n,r,s){switch(e){case"focusin":return Ys=fl(Ys,t,e,n,r,s),!0;case"dragenter":return Zs=fl(Zs,t,e,n,r,s),!0;case"mouseover":return Xs=fl(Xs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return lu.set(i,fl(lu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,uu.set(i,fl(uu.get(i)||null,t,e,n,r,s)),!0}return!1}function L1(t){var e=Vi(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=I1(n),e!==null){t.blockedOn=e,M1(t.priority,function(){O1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ug=r,n.target.dispatchEvent(r),ug=null}else return e=pc(n),e!==null&&cv(e),t.blockedOn=n,!1;e.shift()}return!0}function sw(t,e,n){Rd(t)&&n.delete(e)}function DN(){pg=!1,Ys!==null&&Rd(Ys)&&(Ys=null),Zs!==null&&Rd(Zs)&&(Zs=null),Xs!==null&&Rd(Xs)&&(Xs=null),lu.forEach(sw),uu.forEach(sw)}function pl(t,e){t.blockedOn===e&&(t.blockedOn=null,pg||(pg=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,DN)))}function cu(t){function e(s){return pl(s,t)}if(0<Yc.length){pl(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ys!==null&&pl(Ys,t),Zs!==null&&pl(Zs,t),Xs!==null&&pl(Xs,t),lu.forEach(e),uu.forEach(e),n=0;n<Os.length;n++)r=Os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Os.length&&(n=Os[0],n.blockedOn===null);)L1(n),n.blockedOn===null&&Os.shift()}var sa=vs.ReactCurrentBatchConfig,sh=!0;function MN(t,e,n,r){var s=Me,i=sa.transition;sa.transition=null;try{Me=1,dv(t,e,n,r)}finally{Me=s,sa.transition=i}}function LN(t,e,n,r){var s=Me,i=sa.transition;sa.transition=null;try{Me=4,dv(t,e,n,r)}finally{Me=s,sa.transition=i}}function dv(t,e,n,r){if(sh){var s=mg(t,e,n,r);if(s===null)Zp(t,e,r,ih,n),rw(t,r);else if(ON(s,t,e,n,r))r.stopPropagation();else if(rw(t,r),e&4&&-1<NN.indexOf(t)){for(;s!==null;){var i=pc(s);if(i!==null&&N1(i),i=mg(t,e,n,r),i===null&&Zp(t,e,r,ih,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zp(t,e,r,null,n)}}var ih=null;function mg(t,e,n,r){if(ih=null,t=av(r),t=Vi(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=I1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ih=t,null}function V1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TN()){case lv:return 1;case A1:return 4;case nh:case IN:return 16;case R1:return 536870912;default:return 16}default:return 16}}var qs=null,hv=null,kd=null;function j1(){if(kd)return kd;var t,e=hv,n=e.length,r,s="value"in qs?qs.value:qs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return kd=s.slice(t,1<r?1-r:void 0)}function Pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zc(){return!0}function iw(){return!1}function An(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zc:iw,this.isPropagationStopped=iw,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=An(Ga),fc=Je({},Ga,{view:0,detail:0}),VN=An(fc),Bp,zp,ml,mf=Je({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ml&&(ml&&t.type==="mousemove"?(Bp=t.screenX-ml.screenX,zp=t.screenY-ml.screenY):zp=Bp=0,ml=t),Bp)},movementY:function(t){return"movementY"in t?t.movementY:zp}}),ow=An(mf),jN=Je({},mf,{dataTransfer:0}),FN=An(jN),$N=Je({},fc,{relatedTarget:0}),Wp=An($N),UN=Je({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),BN=An(UN),zN=Je({},Ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WN=An(zN),HN=Je({},Ga,{data:0}),aw=An(HN),qN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GN[t])?!!e[t]:!1}function pv(){return QN}var YN=Je({},fc,{key:function(t){if(t.key){var e=qN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pv,charCode:function(t){return t.type==="keypress"?Pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZN=An(YN),XN=Je({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lw=An(XN),JN=Je({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pv}),eO=An(JN),tO=Je({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),nO=An(tO),rO=Je({},mf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sO=An(rO),iO=[9,13,27,32],mv=as&&"CompositionEvent"in window,Ul=null;as&&"documentMode"in document&&(Ul=document.documentMode);var oO=as&&"TextEvent"in window&&!Ul,F1=as&&(!mv||Ul&&8<Ul&&11>=Ul),uw=" ",cw=!1;function $1(t,e){switch(t){case"keyup":return iO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bo=!1;function aO(t,e){switch(t){case"compositionend":return U1(e);case"keypress":return e.which!==32?null:(cw=!0,uw);case"textInput":return t=e.data,t===uw&&cw?null:t;default:return null}}function lO(t,e){if(Bo)return t==="compositionend"||!mv&&$1(t,e)?(t=j1(),kd=hv=qs=null,Bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F1&&e.locale!=="ko"?null:e.data;default:return null}}var uO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uO[t.type]:e==="textarea"}function B1(t,e,n,r){_1(r),e=oh(e,"onChange"),0<e.length&&(n=new fv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bl=null,du=null;function cO(t){J1(t,0)}function gf(t){var e=Ho(t);if(h1(e))return t}function dO(t,e){if(t==="change")return e}var z1=!1;if(as){var Hp;if(as){var qp="oninput"in document;if(!qp){var hw=document.createElement("div");hw.setAttribute("oninput","return;"),qp=typeof hw.oninput=="function"}Hp=qp}else Hp=!1;z1=Hp&&(!document.documentMode||9<document.documentMode)}function fw(){Bl&&(Bl.detachEvent("onpropertychange",W1),du=Bl=null)}function W1(t){if(t.propertyName==="value"&&gf(du)){var e=[];B1(e,du,t,av(t)),T1(cO,e)}}function hO(t,e,n){t==="focusin"?(fw(),Bl=e,du=n,Bl.attachEvent("onpropertychange",W1)):t==="focusout"&&fw()}function fO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gf(du)}function pO(t,e){if(t==="click")return gf(e)}function mO(t,e){if(t==="input"||t==="change")return gf(e)}function gO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:gO;function hu(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zm.call(e,s)||!tr(t[s],e[s]))return!1}return!0}function pw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mw(t,e){var n=pw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pw(n)}}function H1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q1(){for(var t=window,e=Jd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jd(t.document)}return e}function gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yO(t){var e=q1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&H1(n.ownerDocument.documentElement,n)){if(r!==null&&gv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=mw(n,i);var o=mw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vO=as&&"documentMode"in document&&11>=document.documentMode,zo=null,gg=null,zl=null,yg=!1;function gw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yg||zo==null||zo!==Jd(r)||(r=zo,"selectionStart"in r&&gv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zl&&hu(zl,r)||(zl=r,r=oh(gg,"onSelect"),0<r.length&&(e=new fv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zo)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wo={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},Kp={},K1={};as&&(K1=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function yf(t){if(Kp[t])return Kp[t];if(!Wo[t])return t;var e=Wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in K1)return Kp[t]=e[n];return t}var G1=yf("animationend"),Q1=yf("animationiteration"),Y1=yf("animationstart"),Z1=yf("transitionend"),X1=new Map,yw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){X1.set(t,e),vo(e,[t])}for(var Gp=0;Gp<yw.length;Gp++){var Qp=yw[Gp],_O=Qp.toLowerCase(),wO=Qp[0].toUpperCase()+Qp.slice(1);Ti(_O,"on"+wO)}Ti(G1,"onAnimationEnd");Ti(Q1,"onAnimationIteration");Ti(Y1,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(Z1,"onTransitionEnd");ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function vw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_N(r,e,void 0,t),t.currentTarget=null}function J1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;vw(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;vw(s,a,u),i=l}}}if(th)throw t=hg,th=!1,hg=null,t}function He(t,e){var n=e[xg];n===void 0&&(n=e[xg]=new Set);var r=t+"__bubble";n.has(r)||(eI(e,t,2,!1),n.add(r))}function Yp(t,e,n){var r=0;e&&(r|=4),eI(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function fu(t){if(!t[Jc]){t[Jc]=!0,a1.forEach(function(n){n!=="selectionchange"&&(EO.has(n)||Yp(n,!1,t),Yp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,Yp("selectionchange",!1,e))}}function eI(t,e,n,r){switch(V1(e)){case 1:var s=MN;break;case 4:s=LN;break;default:s=dv}n=s.bind(null,e,n,t),s=void 0,!dg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Vi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}T1(function(){var u=i,c=av(n),d=[];e:{var h=X1.get(t);if(h!==void 0){var p=fv,_=t;switch(t){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":p=ZN;break;case"focusin":_="focus",p=Wp;break;case"focusout":_="blur",p=Wp;break;case"beforeblur":case"afterblur":p=Wp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ow;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=eO;break;case G1:case Q1:case Y1:p=BN;break;case Z1:p=nO;break;case"scroll":p=VN;break;case"wheel":p=sO;break;case"copy":case"cut":case"paste":p=WN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lw}var g=(e&4)!==0,w=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var m=u,E;m!==null;){E=m;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,v!==null&&(x=au(m,v),x!=null&&g.push(pu(m,x,E)))),w)break;m=m.return}0<g.length&&(h=new p(h,_,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ug&&(_=n.relatedTarget||n.fromElement)&&(Vi(_)||_[ls]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Vi(_):null,_!==null&&(w=_o(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(g=ow,x="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=lw,x="onPointerLeave",v="onPointerEnter",m="pointer"),w=p==null?h:Ho(p),E=_==null?h:Ho(_),h=new g(x,m+"leave",p,n,c),h.target=w,h.relatedTarget=E,x=null,Vi(c)===u&&(g=new g(v,m+"enter",_,n,c),g.target=E,g.relatedTarget=w,x=g),w=x,p&&_)t:{for(g=p,v=_,m=0,E=g;E;E=ko(E))m++;for(E=0,x=v;x;x=ko(x))E++;for(;0<m-E;)g=ko(g),m--;for(;0<E-m;)v=ko(v),E--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=ko(g),v=ko(v)}g=null}else g=null;p!==null&&_w(d,h,p,g,!1),_!==null&&w!==null&&_w(d,w,_,g,!0)}}e:{if(h=u?Ho(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=dO;else if(dw(h))if(z1)T=mO;else{T=fO;var b=hO}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=pO);if(T&&(T=T(t,u))){B1(d,T,n,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&sg(h,"number",h.value)}switch(b=u?Ho(u):window,t){case"focusin":(dw(b)||b.contentEditable==="true")&&(zo=b,gg=u,zl=null);break;case"focusout":zl=gg=zo=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,gw(d,n,c);break;case"selectionchange":if(vO)break;case"keydown":case"keyup":gw(d,n,c)}var C;if(mv)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Bo?$1(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(F1&&n.locale!=="ko"&&(Bo||R!=="onCompositionStart"?R==="onCompositionEnd"&&Bo&&(C=j1()):(qs=c,hv="value"in qs?qs.value:qs.textContent,Bo=!0)),b=oh(u,R),0<b.length&&(R=new aw(R,t,null,n,c),d.push({event:R,listeners:b}),C?R.data=C:(C=U1(n),C!==null&&(R.data=C)))),(C=oO?aO(t,n):lO(t,n))&&(u=oh(u,"onBeforeInput"),0<u.length&&(c=new aw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}J1(d,e)})}function pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=au(t,n),i!=null&&r.unshift(pu(t,i,s)),i=au(t,e),i!=null&&r.push(pu(t,i,s))),t=t.return}return r}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _w(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=au(n,i),l!=null&&o.unshift(pu(n,l,a))):s||(l=au(n,i),l!=null&&o.push(pu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xO=/\r\n?/g,TO=/\u0000|\uFFFD/g;function ww(t){return(typeof t=="string"?t:""+t).replace(xO,`
`).replace(TO,"")}function ed(t,e,n){if(e=ww(e),ww(t)!==e&&n)throw Error(V(425))}function ah(){}var vg=null,_g=null;function wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,IO=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,SO=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(t){return Ew.resolve(null).then(t).catch(bO)}:Eg;function bO(t){setTimeout(function(){throw t})}function Xp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cu(e)}function Js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),wr="__reactFiber$"+Qa,mu="__reactProps$"+Qa,ls="__reactContainer$"+Qa,xg="__reactEvents$"+Qa,CO="__reactListeners$"+Qa,AO="__reactHandles$"+Qa;function Vi(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ls]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xw(t);t!==null;){if(n=t[wr])return n;t=xw(t)}return e}t=n,n=t.parentNode}return null}function pc(t){return t=t[wr]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function vf(t){return t[mu]||null}var Tg=[],qo=-1;function Ii(t){return{current:t}}function Ge(t){0>qo||(t.current=Tg[qo],Tg[qo]=null,qo--)}function $e(t,e){qo++,Tg[qo]=t.current,t.current=e}var ui={},Bt=Ii(ui),dn=Ii(!1),Ji=ui;function Ca(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function hn(t){return t=t.childContextTypes,t!=null}function lh(){Ge(dn),Ge(Bt)}function Tw(t,e,n){if(Bt.current!==ui)throw Error(V(168));$e(Bt,e),$e(dn,n)}function tI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(V(108,hN(t)||"Unknown",s));return Je({},n,r)}function uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,Ji=Bt.current,$e(Bt,t),$e(dn,dn.current),!0}function Iw(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=tI(t,e,Ji),r.__reactInternalMemoizedMergedChildContext=t,Ge(dn),Ge(Bt),$e(Bt,t)):Ge(dn),$e(dn,n)}var Xr=null,_f=!1,Jp=!1;function nI(t){Xr===null?Xr=[t]:Xr.push(t)}function RO(t){_f=!0,nI(t)}function Si(){if(!Jp&&Xr!==null){Jp=!0;var t=0,e=Me;try{var n=Xr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xr=null,_f=!1}catch(s){throw Xr!==null&&(Xr=Xr.slice(t+1)),C1(lv,Si),s}finally{Me=e,Jp=!1}}return null}var Ko=[],Go=0,ch=null,dh=0,Nn=[],On=0,eo=null,Jr=1,es="";function Di(t,e){Ko[Go++]=dh,Ko[Go++]=ch,ch=t,dh=e}function rI(t,e,n){Nn[On++]=Jr,Nn[On++]=es,Nn[On++]=eo,eo=t;var r=Jr;t=es;var s=32-Zn(r)-1;r&=~(1<<s),n+=1;var i=32-Zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Jr=1<<32-Zn(e)+s|n<<s|r,es=i+t}else Jr=1<<i|n<<s|r,es=t}function yv(t){t.return!==null&&(Di(t,1),rI(t,1,0))}function vv(t){for(;t===ch;)ch=Ko[--Go],Ko[Go]=null,dh=Ko[--Go],Ko[Go]=null;for(;t===eo;)eo=Nn[--On],Nn[On]=null,es=Nn[--On],Nn[On]=null,Jr=Nn[--On],Nn[On]=null}var En=null,_n=null,Qe=!1,qn=null;function sI(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,_n=Js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:Jr,overflow:es}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,_n=null,!0):!1;default:return!1}}function Ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sg(t){if(Qe){var e=_n;if(e){var n=e;if(!Sw(t,e)){if(Ig(t))throw Error(V(418));e=Js(n.nextSibling);var r=En;e&&Sw(t,e)?sI(r,n):(t.flags=t.flags&-4097|2,Qe=!1,En=t)}}else{if(Ig(t))throw Error(V(418));t.flags=t.flags&-4097|2,Qe=!1,En=t}}}function bw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function td(t){if(t!==En)return!1;if(!Qe)return bw(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wg(t.type,t.memoizedProps)),e&&(e=_n)){if(Ig(t))throw iI(),Error(V(418));for(;e;)sI(t,e),e=Js(e.nextSibling)}if(bw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=Js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=En?Js(t.stateNode.nextSibling):null;return!0}function iI(){for(var t=_n;t;)t=Js(t.nextSibling)}function Aa(){_n=En=null,Qe=!1}function _v(t){qn===null?qn=[t]:qn.push(t)}var kO=vs.ReactCurrentBatchConfig;function gl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function nd(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cw(t){var e=t._init;return e(t._payload)}function oI(t){function e(v,m){if(t){var E=v.deletions;E===null?(v.deletions=[m],v.flags|=16):E.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=ri(v,m),v.index=0,v.sibling=null,v}function i(v,m,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<m?(v.flags|=2,m):E):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,E,x){return m===null||m.tag!==6?(m=om(E,v.mode,x),m.return=v,m):(m=s(m,E),m.return=v,m)}function l(v,m,E,x){var T=E.type;return T===Uo?c(v,m,E.props.children,x,E.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ps&&Cw(T)===m.type)?(x=s(m,E.props),x.ref=gl(v,m,E),x.return=v,x):(x=jd(E.type,E.key,E.props,null,v.mode,x),x.ref=gl(v,m,E),x.return=v,x)}function u(v,m,E,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==E.containerInfo||m.stateNode.implementation!==E.implementation?(m=am(E,v.mode,x),m.return=v,m):(m=s(m,E.children||[]),m.return=v,m)}function c(v,m,E,x,T){return m===null||m.tag!==7?(m=Qi(E,v.mode,x,T),m.return=v,m):(m=s(m,E),m.return=v,m)}function d(v,m,E){if(typeof m=="string"&&m!==""||typeof m=="number")return m=om(""+m,v.mode,E),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hc:return E=jd(m.type,m.key,m.props,null,v.mode,E),E.ref=gl(v,null,m),E.return=v,E;case $o:return m=am(m,v.mode,E),m.return=v,m;case Ps:var x=m._init;return d(v,x(m._payload),E)}if(Cl(m)||dl(m))return m=Qi(m,v.mode,E,null),m.return=v,m;nd(v,m)}return null}function h(v,m,E,x){var T=m!==null?m.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(v,m,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:return E.key===T?l(v,m,E,x):null;case $o:return E.key===T?u(v,m,E,x):null;case Ps:return T=E._init,h(v,m,T(E._payload),x)}if(Cl(E)||dl(E))return T!==null?null:c(v,m,E,x,null);nd(v,E)}return null}function p(v,m,E,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(E)||null,a(m,v,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hc:return v=v.get(x.key===null?E:x.key)||null,l(m,v,x,T);case $o:return v=v.get(x.key===null?E:x.key)||null,u(m,v,x,T);case Ps:var b=x._init;return p(v,m,E,b(x._payload),T)}if(Cl(x)||dl(x))return v=v.get(E)||null,c(m,v,x,T,null);nd(m,x)}return null}function _(v,m,E,x){for(var T=null,b=null,C=m,R=m=0,F=null;C!==null&&R<E.length;R++){C.index>R?(F=C,C=null):F=C.sibling;var L=h(v,C,E[R],x);if(L===null){C===null&&(C=F);break}t&&C&&L.alternate===null&&e(v,C),m=i(L,m,R),b===null?T=L:b.sibling=L,b=L,C=F}if(R===E.length)return n(v,C),Qe&&Di(v,R),T;if(C===null){for(;R<E.length;R++)C=d(v,E[R],x),C!==null&&(m=i(C,m,R),b===null?T=C:b.sibling=C,b=C);return Qe&&Di(v,R),T}for(C=r(v,C);R<E.length;R++)F=p(C,v,R,E[R],x),F!==null&&(t&&F.alternate!==null&&C.delete(F.key===null?R:F.key),m=i(F,m,R),b===null?T=F:b.sibling=F,b=F);return t&&C.forEach(function(re){return e(v,re)}),Qe&&Di(v,R),T}function g(v,m,E,x){var T=dl(E);if(typeof T!="function")throw Error(V(150));if(E=T.call(E),E==null)throw Error(V(151));for(var b=T=null,C=m,R=m=0,F=null,L=E.next();C!==null&&!L.done;R++,L=E.next()){C.index>R?(F=C,C=null):F=C.sibling;var re=h(v,C,L.value,x);if(re===null){C===null&&(C=F);break}t&&C&&re.alternate===null&&e(v,C),m=i(re,m,R),b===null?T=re:b.sibling=re,b=re,C=F}if(L.done)return n(v,C),Qe&&Di(v,R),T;if(C===null){for(;!L.done;R++,L=E.next())L=d(v,L.value,x),L!==null&&(m=i(L,m,R),b===null?T=L:b.sibling=L,b=L);return Qe&&Di(v,R),T}for(C=r(v,C);!L.done;R++,L=E.next())L=p(C,v,R,L.value,x),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?R:L.key),m=i(L,m,R),b===null?T=L:b.sibling=L,b=L);return t&&C.forEach(function(D){return e(v,D)}),Qe&&Di(v,R),T}function w(v,m,E,x){if(typeof E=="object"&&E!==null&&E.type===Uo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:e:{for(var T=E.key,b=m;b!==null;){if(b.key===T){if(T=E.type,T===Uo){if(b.tag===7){n(v,b.sibling),m=s(b,E.props.children),m.return=v,v=m;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ps&&Cw(T)===b.type){n(v,b.sibling),m=s(b,E.props),m.ref=gl(v,b,E),m.return=v,v=m;break e}n(v,b);break}else e(v,b);b=b.sibling}E.type===Uo?(m=Qi(E.props.children,v.mode,x,E.key),m.return=v,v=m):(x=jd(E.type,E.key,E.props,null,v.mode,x),x.ref=gl(v,m,E),x.return=v,v=x)}return o(v);case $o:e:{for(b=E.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===E.containerInfo&&m.stateNode.implementation===E.implementation){n(v,m.sibling),m=s(m,E.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=am(E,v.mode,x),m.return=v,v=m}return o(v);case Ps:return b=E._init,w(v,m,b(E._payload),x)}if(Cl(E))return _(v,m,E,x);if(dl(E))return g(v,m,E,x);nd(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,E),m.return=v,v=m):(n(v,m),m=om(E,v.mode,x),m.return=v,v=m),o(v)):n(v,m)}return w}var Ra=oI(!0),aI=oI(!1),hh=Ii(null),fh=null,Qo=null,wv=null;function Ev(){wv=Qo=fh=null}function xv(t){var e=hh.current;Ge(hh),t._currentValue=e}function bg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ia(t,e){fh=t,wv=Qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(wv!==t)if(t={context:t,memoizedValue:e,next:null},Qo===null){if(fh===null)throw Error(V(308));Qo=t,fh.dependencies={lanes:0,firstContext:t}}else Qo=Qo.next=t;return e}var ji=null;function Tv(t){ji===null?ji=[t]:ji.push(t)}function lI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tv(e)):(n.next=s.next,s.next=n),e.interleaved=n,us(t,r)}function us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ns=!1;function Iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,us(t,n)}return s=r.interleaved,s===null?(e.next=e,Tv(r)):(e.next=s.next,s.next=e),r.interleaved=e,us(t,n)}function Nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uv(t,n)}}function Aw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ph(t,e,n,r){var s=t.updateQueue;Ns=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(h=e,p=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){d=_.call(p,d,h);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,h=typeof _=="function"?_.call(p,d,h):_,h==null)break e;d=Je({},d,h);break e;case 2:Ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);no|=o,t.lanes=o,t.memoizedState=d}}function Rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var mc={},Rr=Ii(mc),gu=Ii(mc),yu=Ii(mc);function Fi(t){if(t===mc)throw Error(V(174));return t}function Sv(t,e){switch($e(yu,e),$e(gu,t),$e(Rr,mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:og(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=og(e,t)}Ge(Rr),$e(Rr,e)}function ka(){Ge(Rr),Ge(gu),Ge(yu)}function cI(t){Fi(yu.current);var e=Fi(Rr.current),n=og(e,t.type);e!==n&&($e(gu,t),$e(Rr,n))}function bv(t){gu.current===t&&(Ge(Rr),Ge(gu))}var Ze=Ii(0);function mh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var em=[];function Cv(){for(var t=0;t<em.length;t++)em[t]._workInProgressVersionPrimary=null;em.length=0}var Od=vs.ReactCurrentDispatcher,tm=vs.ReactCurrentBatchConfig,to=0,Xe=null,yt=null,wt=null,gh=!1,Wl=!1,vu=0,PO=0;function Ot(){throw Error(V(321))}function Av(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Rv(t,e,n,r,s,i){if(to=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Od.current=t===null||t.memoizedState===null?MO:LO,t=n(r,s),Wl){i=0;do{if(Wl=!1,vu=0,25<=i)throw Error(V(301));i+=1,wt=yt=null,e.updateQueue=null,Od.current=VO,t=n(r,s)}while(Wl)}if(Od.current=yh,e=yt!==null&&yt.next!==null,to=0,wt=yt=Xe=null,gh=!1,e)throw Error(V(300));return t}function kv(){var t=vu!==0;return vu=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Xe.memoizedState=wt=t:wt=wt.next=t,wt}function Fn(){if(yt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=wt===null?Xe.memoizedState:wt.next;if(e!==null)wt=e,yt=t;else{if(t===null)throw Error(V(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},wt===null?Xe.memoizedState=wt=t:wt=wt.next=t}return wt}function _u(t,e){return typeof e=="function"?e(t):e}function nm(t){var e=Fn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((to&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Xe.lanes|=c,no|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xe.lanes|=i,no|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rm(t){var e=Fn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);tr(i,e.memoizedState)||(cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function dI(){}function hI(t,e){var n=Xe,r=Fn(),s=e(),i=!tr(r.memoizedState,s);if(i&&(r.memoizedState=s,cn=!0),r=r.queue,Pv(mI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,wu(9,pI.bind(null,n,r,s,e),void 0,null),Et===null)throw Error(V(349));to&30||fI(n,e,s)}return s}function fI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pI(t,e,n,r){e.value=n,e.getSnapshot=r,gI(e)&&yI(t)}function mI(t,e,n){return n(function(){gI(e)&&yI(t)})}function gI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function yI(t){var e=us(t,1);e!==null&&Xn(e,t,1,-1)}function kw(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:t},e.queue=t,t=t.dispatch=DO.bind(null,Xe,t),[e.memoizedState,t]}function wu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vI(){return Fn().memoizedState}function Dd(t,e,n,r){var s=gr();Xe.flags|=t,s.memoizedState=wu(1|e,n,void 0,r===void 0?null:r)}function wf(t,e,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&Av(r,o.deps)){s.memoizedState=wu(e,n,i,r);return}}Xe.flags|=t,s.memoizedState=wu(1|e,n,i,r)}function Pw(t,e){return Dd(8390656,8,t,e)}function Pv(t,e){return wf(2048,8,t,e)}function _I(t,e){return wf(4,2,t,e)}function wI(t,e){return wf(4,4,t,e)}function EI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xI(t,e,n){return n=n!=null?n.concat([t]):null,wf(4,4,EI.bind(null,e,t),n)}function Nv(){}function TI(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Av(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function II(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Av(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SI(t,e,n){return to&21?(tr(n,e)||(n=k1(),Xe.lanes|=n,no|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function NO(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=tm.transition;tm.transition={};try{t(!1),e()}finally{Me=n,tm.transition=r}}function bI(){return Fn().memoizedState}function OO(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CI(t))AI(e,n);else if(n=lI(t,e,n,r),n!==null){var s=Jt();Xn(n,t,r,s),RI(n,e,r)}}function DO(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CI(t))AI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(s.next=s,Tv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=lI(t,e,s,r),n!==null&&(s=Jt(),Xn(n,t,r,s),RI(n,e,r))}}function CI(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function AI(t,e){Wl=gh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uv(t,n)}}var yh={readContext:jn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},MO={readContext:jn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:Pw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dd(4194308,4,EI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dd(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OO.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:kw,useDebugValue:Nv,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=kw(!1),e=t[0];return t=NO.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=gr();if(Qe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),Et===null)throw Error(V(349));to&30||fI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Pw(mI.bind(null,r,i,t),[t]),r.flags|=2048,wu(9,pI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gr(),e=Et.identifierPrefix;if(Qe){var n=es,r=Jr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LO={readContext:jn,useCallback:TI,useContext:jn,useEffect:Pv,useImperativeHandle:xI,useInsertionEffect:_I,useLayoutEffect:wI,useMemo:II,useReducer:nm,useRef:vI,useState:function(){return nm(_u)},useDebugValue:Nv,useDeferredValue:function(t){var e=Fn();return SI(e,yt.memoizedState,t)},useTransition:function(){var t=nm(_u)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:dI,useSyncExternalStore:hI,useId:bI,unstable_isNewReconciler:!1},VO={readContext:jn,useCallback:TI,useContext:jn,useEffect:Pv,useImperativeHandle:xI,useInsertionEffect:_I,useLayoutEffect:wI,useMemo:II,useReducer:rm,useRef:vI,useState:function(){return rm(_u)},useDebugValue:Nv,useDeferredValue:function(t){var e=Fn();return yt===null?e.memoizedState=t:SI(e,yt.memoizedState,t)},useTransition:function(){var t=rm(_u)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:dI,useSyncExternalStore:hI,useId:bI,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ef={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ni(t),i=is(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(Xn(e,t,s,r),Nd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ni(t),i=is(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(Xn(e,t,s,r),Nd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=ni(t),s=is(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(Xn(e,t,r,n),Nd(e,t,r))}};function Nw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!hu(n,r)||!hu(s,i):!0}function kI(t,e,n){var r=!1,s=ui,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=hn(e)?Ji:Bt.current,r=e.contextTypes,i=(r=r!=null)?Ca(t,s):ui),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ef,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ow(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ef.enqueueReplaceState(e,e.state,null)}function Ag(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Iv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=hn(e)?Ji:Bt.current,s.context=Ca(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ef.enqueueReplaceState(s,s.state,null),ph(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e){try{var n="",r=e;do n+=dN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function sm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jO=typeof WeakMap=="function"?WeakMap:Map;function PI(t,e,n){n=is(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_h||(_h=!0,Fg=r),Rg(t,e)},n}function NI(t,e,n){n=is(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Rg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rg(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=XO.bind(null,t,e,n),e.then(t,t))}function Mw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=is(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var FO=vs.ReactCurrentOwner,cn=!1;function Qt(t,e,n,r){e.child=t===null?aI(e,null,n,r):Ra(e,t.child,n,r)}function Vw(t,e,n,r,s){n=n.render;var i=e.ref;return ia(e,s),r=Rv(t,e,n,r,i,s),n=kv(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(Qe&&n&&yv(e),e.flags|=1,Qt(t,e,r,s),e.child)}function jw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!$v(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,OI(t,e,i,r,s)):(t=jd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hu,n(o,r)&&t.ref===e.ref)return cs(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function OI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(hu(i,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,cs(t,e,s)}return kg(t,e,n,r,s)}function DI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Zo,gn),gn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Zo,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(Zo,gn),gn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$e(Zo,gn),gn|=r;return Qt(t,e,s,n),e.child}function MI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kg(t,e,n,r,s){var i=hn(n)?Ji:Bt.current;return i=Ca(e,i),ia(e,s),n=Rv(t,e,n,r,i,s),r=kv(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(Qe&&r&&yv(e),e.flags|=1,Qt(t,e,n,s),e.child)}function Fw(t,e,n,r,s){if(hn(n)){var i=!0;uh(e)}else i=!1;if(ia(e,s),e.stateNode===null)Md(t,e),kI(e,n,r),Ag(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=hn(n)?Ji:Bt.current,u=Ca(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ow(e,o,r,u),Ns=!1;var h=e.memoizedState;o.state=h,ph(e,r,o,s),l=e.memoizedState,a!==r||h!==l||dn.current||Ns?(typeof c=="function"&&(Cg(e,n,c,r),l=e.memoizedState),(a=Ns||Nw(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=hn(n)?Ji:Bt.current,l=Ca(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Ow(e,o,r,l),Ns=!1,h=e.memoizedState,o.state=h,ph(e,r,o,s);var _=e.memoizedState;a!==d||h!==_||dn.current||Ns?(typeof p=="function"&&(Cg(e,n,p,r),_=e.memoizedState),(u=Ns||Nw(e,n,u,r,h,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Pg(t,e,n,r,i,s)}function Pg(t,e,n,r,s,i){MI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Iw(e,n,!1),cs(t,e,i);r=e.stateNode,FO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ra(e,t.child,null,i),e.child=Ra(e,null,a,i)):Qt(t,e,a,i),e.memoizedState=r.state,s&&Iw(e,n,!0),e.child}function LI(t){var e=t.stateNode;e.pendingContext?Tw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tw(t,e.context,!1),Sv(t,e.containerInfo)}function $w(t,e,n,r,s){return Aa(),_v(s),e.flags|=256,Qt(t,e,n,r),e.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Og(t){return{baseLanes:t,cachePool:null,transitions:null}}function VI(t,e,n){var r=e.pendingProps,s=Ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$e(Ze,s&1),t===null)return Sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=If(o,r,0,null),t=Qi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Og(n),e.memoizedState=Ng,t):Ov(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return $O(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ri(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=Qi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Og(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ng,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ov(t,e){return e=If({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rd(t,e,n,r){return r!==null&&_v(r),Ra(e,t.child,null,n),t=Ov(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $O(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=sm(Error(V(422))),rd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=If({mode:"visible",children:r.children},s,0,null),i=Qi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ra(e,t.child,null,o),e.child.memoizedState=Og(o),e.memoizedState=Ng,i);if(!(e.mode&1))return rd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(V(419)),r=sm(i,r,void 0),rd(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=Et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,us(t,s),Xn(r,t,s,-1))}return Fv(),r=sm(Error(V(421))),rd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=JO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_n=Js(s.nextSibling),En=e,Qe=!0,qn=null,t!==null&&(Nn[On++]=Jr,Nn[On++]=es,Nn[On++]=eo,Jr=t.id,es=t.overflow,eo=e),e=Ov(e,r.children),e.flags|=4096,e)}function Uw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bg(t.return,e,n)}function im(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Qt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uw(t,n,e);else if(t.tag===19)Uw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),im(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}im(e,!0,n,null,i);break;case"together":im(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UO(t,e,n){switch(e.tag){case 3:LI(e),Aa();break;case 5:cI(e);break;case 1:hn(e.type)&&uh(e);break;case 4:Sv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;$e(hh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?VI(t,e,n):($e(Ze,Ze.current&1),t=cs(t,e,n),t!==null?t.sibling:null);$e(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,DI(t,e,n)}return cs(t,e,n)}var FI,Dg,$I,UI;FI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dg=function(){};$I=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fi(Rr.current);var i=null;switch(n){case"input":s=ng(t,s),r=ng(t,r),i=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),i=[];break;case"textarea":s=ig(t,s),r=ig(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ah)}ag(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(iu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(iu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};UI=function(t,e,n,r){n!==r&&(e.flags|=4)};function yl(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BO(t,e,n){var r=e.pendingProps;switch(vv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return hn(e.type)&&lh(),Dt(e),null;case 3:return r=e.stateNode,ka(),Ge(dn),Ge(Bt),Cv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(Bg(qn),qn=null))),Dg(t,e),Dt(e),null;case 5:bv(e);var s=Fi(yu.current);if(n=e.type,t!==null&&e.stateNode!=null)$I(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return Dt(e),null}if(t=Fi(Rr.current),td(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wr]=e,r[mu]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<Rl.length;s++)He(Rl[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Y0(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":X0(r,i),He("invalid",r)}ag(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ed(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ed(r.textContent,a,t),s=["children",""+a]):iu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":qc(r),Z0(r,i,!0);break;case"textarea":qc(r),J0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ah)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[mu]=r,FI(t,e,!1,!1),e.stateNode=t;e:{switch(o=lg(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<Rl.length;s++)He(Rl[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":Y0(t,r),s=ng(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),He("invalid",t);break;case"textarea":X0(t,r),s=ig(t,r),He("invalid",t);break;default:s=r}ag(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?v1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ou(t,l):typeof l=="number"&&ou(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(iu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",t):l!=null&&rv(t,i,l,o))}switch(n){case"input":qc(t),Z0(t,r,!1);break;case"textarea":qc(t),J0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+li(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ta(t,!!r.multiple,i,!1):r.defaultValue!=null&&ta(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ah)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)UI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=Fi(yu.current),Fi(Rr.current),td(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:ed(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ed(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return Dt(e),null;case 13:if(Ge(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&_n!==null&&e.mode&1&&!(e.flags&128))iI(),Aa(),e.flags|=98560,i=!1;else if(i=td(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(V(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[wr]=e}else Aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),i=!1}else qn!==null&&(Bg(qn),qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?vt===0&&(vt=3):Fv())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return ka(),Dg(t,e),t===null&&fu(e.stateNode.containerInfo),Dt(e),null;case 10:return xv(e.type._context),Dt(e),null;case 17:return hn(e.type)&&lh(),Dt(e),null;case 19:if(Ge(Ze),i=e.memoizedState,i===null)return Dt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)yl(i,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mh(t),o!==null){for(e.flags|=128,yl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Ze,Ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&ot()>Na&&(e.flags|=128,r=!0,yl(i,!1),e.lanes=4194304)}else{if(!r)if(t=mh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Dt(e),null}else 2*ot()-i.renderingStartTime>Na&&n!==1073741824&&(e.flags|=128,r=!0,yl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,n=Ze.current,$e(Ze,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return jv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function zO(t,e){switch(vv(e),e.tag){case 1:return hn(e.type)&&lh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ka(),Ge(dn),Ge(Bt),Cv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bv(e),null;case 13:if(Ge(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Ze),null;case 4:return ka(),null;case 10:return xv(e.type._context),null;case 22:case 23:return jv(),null;case 24:return null;default:return null}}var sd=!1,jt=!1,WO=typeof WeakSet=="function"?WeakSet:Set,J=null;function Yo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Mg(t,e,n){try{n()}catch(r){rt(t,e,r)}}var Bw=!1;function HO(t,e){if(vg=sh,t=q1(),gv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_g={focusedElem:t,selectionRange:n},sh=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,w=_.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Bn(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(x){rt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return _=Bw,Bw=!1,_}function Hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mg(e,n,i)}s=s.next}while(s!==r)}}function xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BI(t){var e=t.alternate;e!==null&&(t.alternate=null,BI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[mu],delete e[xg],delete e[CO],delete e[AO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zI(t){return t.tag===5||t.tag===3||t.tag===4}function zw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ah));else if(r!==4&&(t=t.child,t!==null))for(Vg(t,e,n),t=t.sibling;t!==null;)Vg(t,e,n),t=t.sibling}function jg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jg(t,e,n),t=t.sibling;t!==null;)jg(t,e,n),t=t.sibling}var It=null,Hn=!1;function Ss(t,e,n){for(n=n.child;n!==null;)WI(t,e,n),n=n.sibling}function WI(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(pf,n)}catch{}switch(n.tag){case 5:jt||Yo(n,e);case 6:var r=It,s=Hn;It=null,Ss(t,e,n),It=r,Hn=s,It!==null&&(Hn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Hn?(t=It,n=n.stateNode,t.nodeType===8?Xp(t.parentNode,n):t.nodeType===1&&Xp(t,n),cu(t)):Xp(It,n.stateNode));break;case 4:r=It,s=Hn,It=n.stateNode.containerInfo,Hn=!0,Ss(t,e,n),It=r,Hn=s;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mg(n,e,o),s=s.next}while(s!==r)}Ss(t,e,n);break;case 1:if(!jt&&(Yo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}Ss(t,e,n);break;case 21:Ss(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Ss(t,e,n),jt=r):Ss(t,e,n);break;default:Ss(t,e,n)}}function Ww(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WO),e.forEach(function(r){var s=eD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,Hn=!1;break e;case 3:It=a.stateNode.containerInfo,Hn=!0;break e;case 4:It=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(It===null)throw Error(V(160));WI(i,o,s),It=null,Hn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){rt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HI(e,t),e=e.sibling}function HI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),pr(t),r&4){try{Hl(3,t,t.return),xf(3,t)}catch(g){rt(t,t.return,g)}try{Hl(5,t,t.return)}catch(g){rt(t,t.return,g)}}break;case 1:Un(e,t),pr(t),r&512&&n!==null&&Yo(n,n.return);break;case 5:if(Un(e,t),pr(t),r&512&&n!==null&&Yo(n,n.return),t.flags&32){var s=t.stateNode;try{ou(s,"")}catch(g){rt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&f1(s,i),lg(a,o);var u=lg(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?v1(s,d):c==="dangerouslySetInnerHTML"?g1(s,d):c==="children"?ou(s,d):rv(s,c,d,u)}switch(a){case"input":rg(s,i);break;case"textarea":p1(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ta(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ta(s,!!i.multiple,i.defaultValue,!0):ta(s,!!i.multiple,i.multiple?[]:"",!1))}s[mu]=i}catch(g){rt(t,t.return,g)}}break;case 6:if(Un(e,t),pr(t),r&4){if(t.stateNode===null)throw Error(V(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){rt(t,t.return,g)}}break;case 3:if(Un(e,t),pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cu(e.containerInfo)}catch(g){rt(t,t.return,g)}break;case 4:Un(e,t),pr(t);break;case 13:Un(e,t),pr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lv=ot())),r&4&&Ww(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(u=jt)||c,Un(e,t),jt=u):Un(e,t),pr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(J=t,c=t.child;c!==null;){for(d=J=c;J!==null;){switch(h=J,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hl(4,h,h.return);break;case 1:Yo(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){rt(r,n,g)}}break;case 5:Yo(h,h.return);break;case 22:if(h.memoizedState!==null){qw(d);continue}}p!==null?(p.return=h,J=p):qw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=y1("display",o))}catch(g){rt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){rt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Un(e,t),pr(t),r&4&&Ww(t);break;case 21:break;default:Un(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zI(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ou(s,""),r.flags&=-33);var i=zw(t);jg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zw(t);Vg(t,a,o);break;default:throw Error(V(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qO(t,e,n){J=t,qI(t)}function qI(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||sd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||jt;a=sd;var u=jt;if(sd=o,(jt=l)&&!u)for(J=s;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?Kw(s):l!==null?(l.return=o,J=l):Kw(s);for(;i!==null;)J=i,qI(i),i=i.sibling;J=s,sd=a,jt=u}Hw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):Hw(t)}}function Hw(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Rw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&cu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}jt||e.flags&512&&Lg(e)}catch(h){rt(e,e.return,h)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function qw(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Kw(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xf(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var i=e.return;try{Lg(e)}catch(l){rt(e,i,l)}break;case 5:var o=e.return;try{Lg(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var KO=Math.ceil,vh=vs.ReactCurrentDispatcher,Dv=vs.ReactCurrentOwner,Vn=vs.ReactCurrentBatchConfig,Pe=0,Et=null,ht=null,At=0,gn=0,Zo=Ii(0),vt=0,Eu=null,no=0,Tf=0,Mv=0,ql=null,ln=null,Lv=0,Na=1/0,Zr=null,_h=!1,Fg=null,ti=null,id=!1,Ks=null,wh=0,Kl=0,$g=null,Ld=-1,Vd=0;function Jt(){return Pe&6?ot():Ld!==-1?Ld:Ld=ot()}function ni(t){return t.mode&1?Pe&2&&At!==0?At&-At:kO.transition!==null?(Vd===0&&(Vd=k1()),Vd):(t=Me,t!==0||(t=window.event,t=t===void 0?16:V1(t.type)),t):1}function Xn(t,e,n,r){if(50<Kl)throw Kl=0,$g=null,Error(V(185));hc(t,n,r),(!(Pe&2)||t!==Et)&&(t===Et&&(!(Pe&2)&&(Tf|=n),vt===4&&Ds(t,At)),fn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Na=ot()+500,_f&&Si()))}function fn(t,e){var n=t.callbackNode;kN(t,e);var r=rh(t,t===Et?At:0);if(r===0)n!==null&&nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nw(n),e===1)t.tag===0?RO(Gw.bind(null,t)):nI(Gw.bind(null,t)),SO(function(){!(Pe&6)&&Si()}),n=null;else{switch(P1(r)){case 1:n=lv;break;case 4:n=A1;break;case 16:n=nh;break;case 536870912:n=R1;break;default:n=nh}n=eS(n,KI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KI(t,e){if(Ld=-1,Vd=0,Pe&6)throw Error(V(327));var n=t.callbackNode;if(oa()&&t.callbackNode!==n)return null;var r=rh(t,t===Et?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eh(t,r);else{e=r;var s=Pe;Pe|=2;var i=QI();(Et!==t||At!==e)&&(Zr=null,Na=ot()+500,Gi(t,e));do try{YO();break}catch(a){GI(t,a)}while(!0);Ev(),vh.current=i,Pe=s,ht!==null?e=0:(Et=null,At=0,e=vt)}if(e!==0){if(e===2&&(s=fg(t),s!==0&&(r=s,e=Ug(t,s))),e===1)throw n=Eu,Gi(t,0),Ds(t,r),fn(t,ot()),n;if(e===6)Ds(t,r);else{if(s=t.current.alternate,!(r&30)&&!GO(s)&&(e=Eh(t,r),e===2&&(i=fg(t),i!==0&&(r=i,e=Ug(t,i))),e===1))throw n=Eu,Gi(t,0),Ds(t,r),fn(t,ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:Mi(t,ln,Zr);break;case 3:if(Ds(t,r),(r&130023424)===r&&(e=Lv+500-ot(),10<e)){if(rh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Eg(Mi.bind(null,t,ln,Zr),e);break}Mi(t,ln,Zr);break;case 4:if(Ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KO(r/1960))-r,10<r){t.timeoutHandle=Eg(Mi.bind(null,t,ln,Zr),r);break}Mi(t,ln,Zr);break;case 5:Mi(t,ln,Zr);break;default:throw Error(V(329))}}}return fn(t,ot()),t.callbackNode===n?KI.bind(null,t):null}function Ug(t,e){var n=ql;return t.current.memoizedState.isDehydrated&&(Gi(t,e).flags|=256),t=Eh(t,e),t!==2&&(e=ln,ln=n,e!==null&&Bg(e)),t}function Bg(t){ln===null?ln=t:ln.push.apply(ln,t)}function GO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!tr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ds(t,e){for(e&=~Mv,e&=~Tf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function Gw(t){if(Pe&6)throw Error(V(327));oa();var e=rh(t,0);if(!(e&1))return fn(t,ot()),null;var n=Eh(t,e);if(t.tag!==0&&n===2){var r=fg(t);r!==0&&(e=r,n=Ug(t,r))}if(n===1)throw n=Eu,Gi(t,0),Ds(t,e),fn(t,ot()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mi(t,ln,Zr),fn(t,ot()),null}function Vv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Na=ot()+500,_f&&Si())}}function ro(t){Ks!==null&&Ks.tag===0&&!(Pe&6)&&oa();var e=Pe;Pe|=1;var n=Vn.transition,r=Me;try{if(Vn.transition=null,Me=1,t)return t()}finally{Me=r,Vn.transition=n,Pe=e,!(Pe&6)&&Si()}}function jv(){gn=Zo.current,Ge(Zo)}function Gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IO(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(vv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lh();break;case 3:ka(),Ge(dn),Ge(Bt),Cv();break;case 5:bv(r);break;case 4:ka();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:xv(r.type._context);break;case 22:case 23:jv()}n=n.return}if(Et=t,ht=t=ri(t.current,null),At=gn=e,vt=0,Eu=null,Mv=Tf=no=0,ln=ql=null,ji!==null){for(e=0;e<ji.length;e++)if(n=ji[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ji=null}return t}function GI(t,e){do{var n=ht;try{if(Ev(),Od.current=yh,gh){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gh=!1}if(to=0,wt=yt=Xe=null,Wl=!1,vu=0,Dv.current=null,n===null||n.return===null){vt=1,Eu=e,ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Mw(o);if(p!==null){p.flags&=-257,Lw(p,o,a,i,e),p.mode&1&&Dw(i,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){Dw(i,u,e),Fv();break e}l=Error(V(426))}}else if(Qe&&a.mode&1){var w=Mw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Lw(w,o,a,i,e),_v(Pa(l,a));break e}}i=l=Pa(l,a),vt!==4&&(vt=2),ql===null?ql=[i]:ql.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=PI(i,l,e);Aw(i,v);break e;case 1:a=l;var m=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ti===null||!ti.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=NI(i,a,e);Aw(i,x);break e}}i=i.return}while(i!==null)}ZI(n)}catch(T){e=T,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function QI(){var t=vh.current;return vh.current=yh,t===null?yh:t}function Fv(){(vt===0||vt===3||vt===2)&&(vt=4),Et===null||!(no&268435455)&&!(Tf&268435455)||Ds(Et,At)}function Eh(t,e){var n=Pe;Pe|=2;var r=QI();(Et!==t||At!==e)&&(Zr=null,Gi(t,e));do try{QO();break}catch(s){GI(t,s)}while(!0);if(Ev(),Pe=n,vh.current=r,ht!==null)throw Error(V(261));return Et=null,At=0,vt}function QO(){for(;ht!==null;)YI(ht)}function YO(){for(;ht!==null&&!EN();)YI(ht)}function YI(t){var e=JI(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?ZI(t):ht=e,Dv.current=null}function ZI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zO(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ht=null;return}}else if(n=BO(n,e,gn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);vt===0&&(vt=5)}function Mi(t,e,n){var r=Me,s=Vn.transition;try{Vn.transition=null,Me=1,ZO(t,e,n,r)}finally{Vn.transition=s,Me=r}return null}function ZO(t,e,n,r){do oa();while(Ks!==null);if(Pe&6)throw Error(V(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(PN(t,i),t===Et&&(ht=Et=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||id||(id=!0,eS(nh,function(){return oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=Me;Me=1;var a=Pe;Pe|=4,Dv.current=null,HO(t,n),HI(n,t),yO(_g),sh=!!vg,_g=vg=null,t.current=n,qO(n),xN(),Pe=a,Me=o,Vn.transition=i}else t.current=n;if(id&&(id=!1,Ks=t,wh=s),i=t.pendingLanes,i===0&&(ti=null),SN(n.stateNode),fn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_h)throw _h=!1,t=Fg,Fg=null,t;return wh&1&&t.tag!==0&&oa(),i=t.pendingLanes,i&1?t===$g?Kl++:(Kl=0,$g=t):Kl=0,Si(),null}function oa(){if(Ks!==null){var t=P1(wh),e=Vn.transition,n=Me;try{if(Vn.transition=null,Me=16>t?16:t,Ks===null)var r=!1;else{if(t=Ks,Ks=null,wh=0,Pe&6)throw Error(V(331));var s=Pe;for(Pe|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Hl(8,c,i)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var h=c.sibling,p=c.return;if(BI(c),c===u){J=null;break}if(h!==null){h.return=p,J=h;break}J=p}}}var _=i.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,J=v;break e}J=i.return}}var m=t.current;for(J=m;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=m;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xf(9,a)}}catch(T){rt(a,a.return,T)}if(a===o){J=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,J=x;break e}J=a.return}}if(Pe=s,Si(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(pf,t)}catch{}r=!0}return r}finally{Me=n,Vn.transition=e}}return!1}function Qw(t,e,n){e=Pa(n,e),e=PI(t,e,1),t=ei(t,e,1),e=Jt(),t!==null&&(hc(t,1,e),fn(t,e))}function rt(t,e,n){if(t.tag===3)Qw(t,t,n);else for(;e!==null;){if(e.tag===3){Qw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Pa(n,t),t=NI(e,t,1),e=ei(e,t,1),t=Jt(),e!==null&&(hc(e,1,t),fn(e,t));break}}e=e.return}}function XO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(At&n)===n&&(vt===4||vt===3&&(At&130023424)===At&&500>ot()-Lv?Gi(t,0):Mv|=n),fn(t,e)}function XI(t,e){e===0&&(t.mode&1?(e=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):e=1);var n=Jt();t=us(t,e),t!==null&&(hc(t,e,n),fn(t,n))}function JO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XI(t,n)}function eD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),XI(t,n)}var JI;JI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,UO(t,e,n);cn=!!(t.flags&131072)}else cn=!1,Qe&&e.flags&1048576&&rI(e,dh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Md(t,e),t=e.pendingProps;var s=Ca(e,Bt.current);ia(e,n),s=Rv(null,e,r,t,s,n);var i=kv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(r)?(i=!0,uh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Iv(e),s.updater=Ef,e.stateNode=s,s._reactInternals=e,Ag(e,r,t,n),e=Pg(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&yv(e),Qt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Md(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nD(r),t=Bn(r,t),s){case 0:e=kg(null,e,r,t,n);break e;case 1:e=Fw(null,e,r,t,n);break e;case 11:e=Vw(null,e,r,t,n);break e;case 14:e=jw(null,e,r,Bn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),kg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Fw(t,e,r,s,n);case 3:e:{if(LI(e),t===null)throw Error(V(387));r=e.pendingProps,i=e.memoizedState,s=i.element,uI(t,e),ph(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pa(Error(V(423)),e),e=$w(t,e,r,n,s);break e}else if(r!==s){s=Pa(Error(V(424)),e),e=$w(t,e,r,n,s);break e}else for(_n=Js(e.stateNode.containerInfo.firstChild),En=e,Qe=!0,qn=null,n=aI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Aa(),r===s){e=cs(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return cI(e),t===null&&Sg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,wg(r,s)?o=null:i!==null&&wg(r,i)&&(e.flags|=32),MI(t,e),Qt(t,e,o,n),e.child;case 6:return t===null&&Sg(e),null;case 13:return VI(t,e,n);case 4:return Sv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ra(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Vw(t,e,r,s,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,$e(hh,r._currentValue),r._currentValue=o,i!==null)if(tr(i.value,o)){if(i.children===s.children&&!dn.current){e=cs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=is(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),bg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ia(e,n),s=jn(s),r=r(s),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,s=Bn(r,e.pendingProps),s=Bn(r.type,s),jw(t,e,r,s,n);case 15:return OI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Md(t,e),e.tag=1,hn(r)?(t=!0,uh(e)):t=!1,ia(e,n),kI(e,r,s),Ag(e,r,s,n),Pg(null,e,r,!0,t,n);case 19:return jI(t,e,n);case 22:return DI(t,e,n)}throw Error(V(156,e.tag))};function eS(t,e){return C1(t,e)}function tD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new tD(t,e,n,r)}function $v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nD(t){if(typeof t=="function")return $v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iv)return 11;if(t===ov)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")$v(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Uo:return Qi(n.children,s,i,e);case sv:o=8,s|=8;break;case Xm:return t=Ln(12,n,e,s|2),t.elementType=Xm,t.lanes=i,t;case Jm:return t=Ln(13,n,e,s),t.elementType=Jm,t.lanes=i,t;case eg:return t=Ln(19,n,e,s),t.elementType=eg,t.lanes=i,t;case c1:return If(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l1:o=10;break e;case u1:o=9;break e;case iv:o=11;break e;case ov:o=14;break e;case Ps:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Qi(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function If(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=c1,t.lanes=n,t.stateNode={isHidden:!1},t}function om(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function am(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Up(0),this.expirationTimes=Up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Up(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uv(t,e,n,r,s,i,o,a,l){return t=new rD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iv(i),t}function sD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tS(t){if(!t)return ui;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(hn(n))return tI(t,n,e)}return e}function nS(t,e,n,r,s,i,o,a,l){return t=Uv(n,r,!0,t,s,i,o,a,l),t.context=tS(null),n=t.current,r=Jt(),s=ni(n),i=is(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,hc(t,s,r),fn(t,r),t}function Sf(t,e,n,r){var s=e.current,i=Jt(),o=ni(s);return n=tS(n),e.context===null?e.context=n:e.pendingContext=n,e=is(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,o),t!==null&&(Xn(t,s,o,i),Nd(t,s,o)),o}function xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bv(t,e){Yw(t,e),(t=t.alternate)&&Yw(t,e)}function iD(){return null}var rS=typeof reportError=="function"?reportError:function(t){console.error(t)};function zv(t){this._internalRoot=t}bf.prototype.render=zv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Sf(t,e,null,null)};bf.prototype.unmount=zv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){Sf(null,t,null,null)}),e[ls]=null}};function bf(t){this._internalRoot=t}bf.prototype.unstable_scheduleHydration=function(t){if(t){var e=D1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Os.length&&e!==0&&e<Os[n].priority;n++);Os.splice(n,0,t),n===0&&L1(t)}};function Wv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zw(){}function oD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=xh(o);i.call(u)}}var o=nS(e,r,t,0,null,!1,!1,"",Zw);return t._reactRootContainer=o,t[ls]=o.current,fu(t.nodeType===8?t.parentNode:t),ro(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=xh(l);a.call(u)}}var l=Uv(t,0,!1,null,null,!1,!1,"",Zw);return t._reactRootContainer=l,t[ls]=l.current,fu(t.nodeType===8?t.parentNode:t),ro(function(){Sf(e,l,n,r)}),l}function Af(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=xh(o);a.call(l)}}Sf(e,o,t,s)}else o=oD(n,e,t,s,r);return xh(o)}N1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Al(e.pendingLanes);n!==0&&(uv(e,n|1),fn(e,ot()),!(Pe&6)&&(Na=ot()+500,Si()))}break;case 13:ro(function(){var r=us(t,1);if(r!==null){var s=Jt();Xn(r,t,1,s)}}),Bv(t,1)}};cv=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var n=Jt();Xn(e,t,134217728,n)}Bv(t,134217728)}};O1=function(t){if(t.tag===13){var e=ni(t),n=us(t,e);if(n!==null){var r=Jt();Xn(n,t,e,r)}Bv(t,e)}};D1=function(){return Me};M1=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};cg=function(t,e,n){switch(e){case"input":if(rg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vf(r);if(!s)throw Error(V(90));h1(r),rg(r,s)}}}break;case"textarea":p1(t,n);break;case"select":e=n.value,e!=null&&ta(t,!!n.multiple,e,!1)}};E1=Vv;x1=ro;var aD={usingClientEntryPoint:!1,Events:[pc,Ho,vf,_1,w1,Vv]},vl={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lD={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S1(t),t===null?null:t.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||iD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{pf=od.inject(lD),Ar=od}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aD;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wv(e))throw Error(V(200));return sD(t,e,null,n)};Cn.createRoot=function(t,e){if(!Wv(t))throw Error(V(299));var n=!1,r="",s=rS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Uv(t,1,!1,null,null,n,!1,r,s),t[ls]=e.current,fu(t.nodeType===8?t.parentNode:t),new zv(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=S1(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return ro(t)};Cn.hydrate=function(t,e,n){if(!Cf(e))throw Error(V(200));return Af(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!Wv(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=rS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nS(e,null,t,1,n??null,s,!1,i,o),t[ls]=e.current,fu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bf(e)};Cn.render=function(t,e,n){if(!Cf(e))throw Error(V(200));return Af(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!Cf(t))throw Error(V(40));return t._reactRootContainer?(ro(function(){Af(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};Cn.unstable_batchedUpdates=Vv;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cf(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Af(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function sS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sS)}catch(t){console.error(t)}}sS(),s1.exports=Cn;var gc=s1.exports;const iS=HT(gc);var oS,Xw=gc;oS=Xw.createRoot,Xw.hydrateRoot;const uD=1,cD=1e6;let lm=0;function dD(){return lm=(lm+1)%Number.MAX_SAFE_INTEGER,lm.toString()}const um=new Map,Jw=t=>{if(um.has(t))return;const e=setTimeout(()=>{um.delete(t),Gl({type:"REMOVE_TOAST",toastId:t})},cD);um.set(t,e)},hD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,uD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Jw(n):t.toasts.forEach(r=>{Jw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Fd=[];let $d={toasts:[]};function Gl(t){$d=hD($d,t),Fd.forEach(e=>{e($d)})}function fD({...t}){const e=dD(),n=s=>Gl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Gl({type:"DISMISS_TOAST",toastId:e});return Gl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pD(){const[t,e]=y.useState($d);return y.useEffect(()=>(Fd.push(e),()=>{const n=Fd.indexOf(e);n>-1&&Fd.splice(n,1)}),[t]),{...t,toast:fD,dismiss:n=>Gl({type:"DISMISS_TOAST",toastId:n})}}function ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function mD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function aS(...t){return e=>t.forEach(n=>mD(n,e))}function zt(...t){return y.useCallback(aS(...t),t)}function gD(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(d){const{scope:h,children:p,..._}=d,g=(h==null?void 0:h[t][l])||a,w=y.useMemo(()=>_,Object.values(_));return f.jsx(g.Provider,{value:w,children:p})}function c(d,h){const p=(h==null?void 0:h[t][l])||a,_=y.useContext(p);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,yD(s,...e)]}function yD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var so=y.forwardRef((t,e)=>{const{children:n,...r}=t,s=y.Children.toArray(n),i=s.find(vD);if(i){const o=i.props.children,a=s.map(l=>l===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return f.jsx(zg,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return f.jsx(zg,{...r,ref:e,children:n})});so.displayName="Slot";var zg=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const s=wD(n);return y.cloneElement(n,{..._D(r,n.props),ref:e?aS(e,s):s})}return y.Children.count(n)>1?y.Children.only(null):null});zg.displayName="SlotClone";var lS=({children:t})=>f.jsx(f.Fragment,{children:t});function vD(t){return y.isValidElement(t)&&t.type===lS}function _D(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function wD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function uS(t){const e=t+"CollectionProvider",[n,r]=gD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:_,children:g}=p,w=N.useRef(null),v=N.useRef(new Map).current;return f.jsx(s,{scope:_,itemMap:v,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=N.forwardRef((p,_)=>{const{scope:g,children:w}=p,v=i(a,g),m=zt(_,v.collectionRef);return f.jsx(so,{ref:m,children:w})});l.displayName=a;const u=t+"CollectionItemSlot",c="data-radix-collection-item",d=N.forwardRef((p,_)=>{const{scope:g,children:w,...v}=p,m=N.useRef(null),E=zt(_,m),x=i(u,g);return N.useEffect(()=>(x.itemMap.set(m,{ref:m,...v}),()=>void x.itemMap.delete(m))),f.jsx(so,{[c]:"",ref:E,children:w})});d.displayName=u;function h(p){const _=i(t+"CollectionConsumer",p);return N.useCallback(()=>{const w=_.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${c}]`));return Array.from(_.itemMap.values()).sort((x,T)=>v.indexOf(x.ref.current)-v.indexOf(T.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,r]}function ED(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Rf(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=d=>{var v;const{scope:h,children:p,..._}=d,g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,w=y.useMemo(()=>_,Object.values(_));return f.jsx(g.Provider,{value:w,children:p})};u.displayName=i+"Provider";function c(d,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,_=y.useContext(p);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,c]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,xD(s,...e)]}function xD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var TD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=TD.reduce((t,e)=>{const n=y.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?so:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function cS(t,e){t&&gc.flushSync(()=>t.dispatchEvent(e))}function Sn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ID(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var SD="DismissableLayer",Wg="dismissableLayer.update",bD="dismissableLayer.pointerDownOutside",CD="dismissableLayer.focusOutside",eE,dS=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(dS),[c,d]=y.useState(null),h=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),_=zt(e,C=>d(C)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(w),m=c?g.indexOf(c):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,x=m>=v,T=RD(C=>{const R=C.target,F=[...u.branches].some(L=>L.contains(R));!x||F||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),b=kD(C=>{const R=C.target;[...u.branches].some(L=>L.contains(R))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return ID(C=>{m===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),y.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),tE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=eE)}},[c,h,n,u]),y.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),tE())},[c,u]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(Wg,C),()=>document.removeEventListener(Wg,C)},[]),f.jsx(Ve.div,{...l,ref:_,style:{pointerEvents:E?x?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,b.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,T.onPointerDownCapture)})});kf.displayName=SD;var AD="DismissableLayerBranch",hS=y.forwardRef((t,e)=>{const n=y.useContext(dS),r=y.useRef(null),s=zt(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(Ve.div,{...t,ref:s})});hS.displayName=AD;function RD(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){fS(bD,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function kD(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&fS(CD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tE(){const t=new CustomEvent(Wg);document.dispatchEvent(t)}function fS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cS(s,i):s.dispatchEvent(i)}var PD=kf,ND=hS,ci=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},OD="Portal",Hv=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);ci(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?iS.createPortal(f.jsx(Ve.div,{...r,ref:e}),o):null});Hv.displayName=OD;function DD(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var wo=t=>{const{present:e,children:n}=t,r=MD(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=zt(r.ref,LD(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};wo.displayName="Presence";function MD(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=DD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=ad(r.current);i.current=a==="mounted"?u:"none"},[a]),ci(()=>{const u=r.current,c=s.current;if(c!==t){const h=i.current,p=ad(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ci(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,d=p=>{const g=ad(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=p=>{p.target===e&&(i.current=ad(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ad(t){return(t==null?void 0:t.animationName)||"none"}function LD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Pf({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=VD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Sn(n),l=y.useCallback(u=>{if(i){const d=typeof u=="function"?u(t):u;d!==t&&a(d)}else s(u)},[i,t,s,a]);return[o,l]}function VD({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=Sn(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var jD="VisuallyHidden",Nf=y.forwardRef((t,e)=>f.jsx(Ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Nf.displayName=jD;var FD=Nf,qv="ToastProvider",[Kv,$D,UD]=uS("Toast"),[pS,TH]=Rf("Toast",[UD]),[BD,Of]=pS(qv),mS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[u,c]=y.useState(0),d=y.useRef(!1),h=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qv}\`. Expected non-empty \`string\`.`),f.jsx(Kv.Provider,{scope:e,children:f.jsx(BD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>c(p=>p+1),[]),onToastRemove:y.useCallback(()=>c(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};mS.displayName=qv;var gS="ToastViewport",zD=["F8"],Hg="toast.viewportPause",qg="toast.viewportResume",yS=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=zD,label:s="Notifications ({hotkey})",...i}=t,o=Of(gS,n),a=$D(n),l=y.useRef(null),u=y.useRef(null),c=y.useRef(null),d=y.useRef(null),h=zt(e,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;y.useEffect(()=>{const w=v=>{var E;r.length!==0&&r.every(x=>v[x]||v.code===x)&&((E=d.current)==null||E.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),y.useEffect(()=>{const w=l.current,v=d.current;if(_&&w&&v){const m=()=>{if(!o.isClosePausedRef.current){const b=new CustomEvent(Hg);v.dispatchEvent(b),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const b=new CustomEvent(qg);v.dispatchEvent(b),o.isClosePausedRef.current=!1}},x=b=>{!w.contains(b.relatedTarget)&&E()},T=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",m),w.addEventListener("focusout",x),w.addEventListener("pointermove",m),w.addEventListener("pointerleave",T),window.addEventListener("blur",m),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",m),w.removeEventListener("focusout",x),w.removeEventListener("pointermove",m),w.removeEventListener("pointerleave",T),window.removeEventListener("blur",m),window.removeEventListener("focus",E)}}},[_,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:w})=>{const m=a().map(E=>{const x=E.ref.current,T=[x,...nM(x)];return w==="forwards"?T:T.reverse()});return(w==="forwards"?m.reverse():m).flat()},[a]);return y.useEffect(()=>{const w=d.current;if(w){const v=m=>{var T,b,C;const E=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!E){const R=document.activeElement,F=m.shiftKey;if(m.target===w&&F){(T=u.current)==null||T.focus();return}const D=g({tabbingDirection:F?"backwards":"forwards"}),q=D.findIndex($=>$===R);cm(D.slice(q+1))?m.preventDefault():F?(b=u.current)==null||b.focus():(C=c.current)==null||C.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,g]),f.jsxs(ND,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&f.jsx(Kg,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});cm(w)}}),f.jsx(Kv.Slot,{scope:n,children:f.jsx(Ve.ol,{tabIndex:-1,...i,ref:h})}),_&&f.jsx(Kg,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});cm(w)}})]})});yS.displayName=gS;var vS="ToastFocusProxy",Kg=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Of(vS,n);return f.jsx(Nf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Kg.displayName=vS;var Df="Toast",WD="toast.swipeStart",HD="toast.swipeMove",qD="toast.swipeCancel",KD="toast.swipeEnd",_S=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Pf({prop:r,defaultProp:s,onChange:i});return f.jsx(wo,{present:n||a,children:f.jsx(YD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Sn(t.onPause),onResume:Sn(t.onResume),onSwipeStart:ke(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(t.onSwipeMove,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ke(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(t.onSwipeEnd,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});_S.displayName=Df;var[GD,QD]=pS(Df,{onClose(){}}),YD=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,..._}=t,g=Of(Df,n),[w,v]=y.useState(null),m=zt(e,$=>v($)),E=y.useRef(null),x=y.useRef(null),T=s||g.duration,b=y.useRef(0),C=y.useRef(T),R=y.useRef(0),{onToastAdd:F,onToastRemove:L}=g,re=Sn(()=>{var se;(w==null?void 0:w.contains(document.activeElement))&&((se=g.viewport)==null||se.focus()),o()}),D=y.useCallback($=>{!$||$===1/0||(window.clearTimeout(R.current),b.current=new Date().getTime(),R.current=window.setTimeout(re,$))},[re]);y.useEffect(()=>{const $=g.viewport;if($){const se=()=>{D(C.current),u==null||u()},Z=()=>{const le=new Date().getTime()-b.current;C.current=C.current-le,window.clearTimeout(R.current),l==null||l()};return $.addEventListener(Hg,Z),$.addEventListener(qg,se),()=>{$.removeEventListener(Hg,Z),$.removeEventListener(qg,se)}}},[g.viewport,T,l,u,D]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(T)},[i,T,g.isClosePausedRef,D]),y.useEffect(()=>(F(),()=>L()),[F,L]);const q=y.useMemo(()=>w?bS(w):null,[w]);return g.viewport?f.jsxs(f.Fragment,{children:[q&&f.jsx(ZD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),f.jsx(GD,{scope:n,onClose:re,children:gc.createPortal(f.jsx(Kv.ItemSlot,{scope:n,children:f.jsx(PD,{asChild:!0,onEscapeKeyDown:ke(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||re(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,..._,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ke(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:ke(t.onPointerDown,$=>{$.button===0&&(E.current={x:$.clientX,y:$.clientY})}),onPointerMove:ke(t.onPointerMove,$=>{if(!E.current)return;const se=$.clientX-E.current.x,Z=$.clientY-E.current.y,le=!!x.current,A=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ee=A?B(0,se):0,Y=A?0:B(0,Z),oe=$.pointerType==="touch"?10:2,xe={x:ee,y:Y},je={originalEvent:$,delta:xe};le?(x.current=xe,ld(HD,d,je,{discrete:!1})):nE(xe,g.swipeDirection,oe)?(x.current=xe,ld(WD,c,je,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(se)>oe||Math.abs(Z)>oe)&&(E.current=null)}),onPointerUp:ke(t.onPointerUp,$=>{const se=x.current,Z=$.target;if(Z.hasPointerCapture($.pointerId)&&Z.releasePointerCapture($.pointerId),x.current=null,E.current=null,se){const le=$.currentTarget,A={originalEvent:$,delta:se};nE(se,g.swipeDirection,g.swipeThreshold)?ld(KD,p,A,{discrete:!0}):ld(qD,h,A,{discrete:!0}),le.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),ZD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Of(Df,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return eM(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(Hv,{asChild:!0,children:f.jsx(Nf,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},XD="ToastTitle",wS=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Ve.div,{...r,ref:e})});wS.displayName=XD;var JD="ToastDescription",ES=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Ve.div,{...r,ref:e})});ES.displayName=JD;var xS="ToastAction",TS=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(SS,{altText:n,asChild:!0,children:f.jsx(Gv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${xS}\`. Expected non-empty \`string\`.`),null)});TS.displayName=xS;var IS="ToastClose",Gv=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=QD(IS,n);return f.jsx(SS,{asChild:!0,children:f.jsx(Ve.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,s.onClose)})})});Gv.displayName=IS;var SS=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function bS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),tM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...bS(r))}}),e}function ld(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cS(s,i):s.dispatchEvent(i)}var nE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function eM(t=()=>{}){const e=Sn(t);ci(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function tM(t){return t.nodeType===t.ELEMENT_NODE}function nM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var rM=mS,CS=yS,AS=_S,RS=wS,kS=ES,PS=TS,NS=Gv;function OS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=OS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function DS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=OS(t))&&(r&&(r+=" "),r+=e);return r}const rE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sE=DS,Mf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return sE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const c=n==null?void 0:n[u],d=i==null?void 0:i[u];if(c===null)return null;const h=rE(c)||rE(d);return s[u][h]}),a=n&&Object.entries(n).reduce((u,c)=>{let[d,h]=c;return h===void 0||(u[d]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:d,className:h,...p}=c;return Object.entries(p).every(_=>{let[g,w]=_;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...u,d,h]:u},[]);return sE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...iM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MS("lucide",s),...a},[...o.map(([u,c])=>y.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(oM,{ref:i,iconNode:e,className:MS(`lucide-${sM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=_s("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=_s("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=_s("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=_s("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=_s("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=_s("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=_s("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=_s("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=_s("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qv="-",fM=t=>{const e=mM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Qv);return a[0]===""&&a.length!==1&&a.shift(),FS(a,e)||pM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},FS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?FS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Qv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},iE=/^\[(.+)\]$/,pM=t=>{if(iE.test(t)){const e=iE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},mM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return yM(Object.entries(t.classGroups),n).forEach(([i,o])=>{Gg(o,r,i,e)}),r},Gg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:oE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(gM(s)){Gg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Gg(o,oE(e,i),n,r)})})},oE=(t,e)=>{let n=t;return e.split(Qv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},gM=t=>t.isThemeGetter,yM=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,vM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},$S="!",_M=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,c=0,d;for(let w=0;w<a.length;w++){let v=a[w];if(u===0){if(v===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(c,w)),c=w+i;continue}if(v==="/"){d=w;continue}}v==="["?u++:v==="]"&&u--}const h=l.length===0?a:a.substring(c),p=h.startsWith($S),_=p?h.substring(1):h,g=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:_,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},wM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},EM=t=>({cache:vM(t.cacheSize),parseClassName:_M(t),...fM(t)}),xM=/\s+/,TM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(xM);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let _=!!p,g=r(_?h.substring(0,p):h);if(!g){if(!_){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}_=!1}const w=wM(c).join(":"),v=d?w+$S:w,m=v+g;if(i.includes(m))continue;i.push(m);const E=s(g,_);for(let x=0;x<E.length;++x){const T=E[x];i.push(v+T)}a=u+(a.length>0?" "+a:a)}return a};function IM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=US(e))&&(r&&(r+=" "),r+=n);return r}const US=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=US(t[r]))&&(n&&(n+=" "),n+=e);return n};function SM(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((c,d)=>d(c),t());return n=EM(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=TM(l,n);return s(l,c),c}return function(){return i(IM.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},BS=/^\[(?:([a-z-]+):)?(.+)\]$/i,bM=/^\d+\/\d+$/,CM=new Set(["px","full","screen"]),AM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kr=t=>aa(t)||CM.has(t)||bM.test(t),bs=t=>Ya(t,"length",$M),aa=t=>!!t&&!Number.isNaN(Number(t)),dm=t=>Ya(t,"number",aa),_l=t=>!!t&&Number.isInteger(Number(t)),OM=t=>t.endsWith("%")&&aa(t.slice(0,-1)),_e=t=>BS.test(t),Cs=t=>AM.test(t),DM=new Set(["length","size","percentage"]),MM=t=>Ya(t,DM,zS),LM=t=>Ya(t,"position",zS),VM=new Set(["image","url"]),jM=t=>Ya(t,VM,BM),FM=t=>Ya(t,"",UM),wl=()=>!0,Ya=(t,e,n)=>{const r=BS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},$M=t=>RM.test(t)&&!kM.test(t),zS=()=>!1,UM=t=>PM.test(t),BM=t=>NM.test(t),zM=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),u=We("grayscale"),c=We("hueRotate"),d=We("invert"),h=We("gap"),p=We("gradientColorStops"),_=We("gradientColorStopPositions"),g=We("inset"),w=We("margin"),v=We("opacity"),m=We("padding"),E=We("saturate"),x=We("scale"),T=We("sepia"),b=We("skew"),C=We("space"),R=We("translate"),F=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",_e,e],D=()=>[_e,e],q=()=>["",Kr,bs],$=()=>["auto",aa,_e],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",_e],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[aa,_e];return{cacheSize:500,separator:":",theme:{colors:[wl],spacing:[Kr,bs],blur:["none","",Cs,_e],brightness:Y(),borderColor:[t],borderRadius:["none","","full",Cs,_e],borderSpacing:D(),borderWidth:q(),contrast:Y(),grayscale:B(),hueRotate:Y(),invert:B(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[OM,bs],inset:re(),margin:re(),opacity:Y(),padding:D(),saturate:Y(),scale:Y(),sepia:B(),skew:Y(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),_e]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_l,_e]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",_l,_e]}],"grid-cols":[{"grid-cols":[wl]}],"col-start-end":[{col:["auto",{span:["full",_l,_e]},_e]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[wl]}],"row-start-end":[{row:["auto",{span:[_l,_e]},_e]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dm]}],"font-family":[{font:[wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",aa,dm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kr,bs]}],"underline-offset":[{"underline-offset":["auto",Kr,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),LM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Kr,_e]}],"outline-w":[{outline:[Kr,bs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Kr,bs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cs,FM]}],"shadow-color":[{shadow:[wl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Cs,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[_l,_e]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kr,bs,dm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WM=SM(zM);function Ae(...t){return WM(DS(t))}const HM=rM,WS=y.forwardRef(({className:t,...e},n)=>f.jsx(CS,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));WS.displayName=CS.displayName;const qM=Mf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HS=y.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(AS,{ref:r,className:Ae(qM({variant:e}),t),...n}));HS.displayName=AS.displayName;const KM=y.forwardRef(({className:t,...e},n)=>f.jsx(PS,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));KM.displayName=PS.displayName;const qS=y.forwardRef(({className:t,...e},n)=>f.jsx(NS,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(jS,{className:"h-4 w-4"})}));qS.displayName=NS.displayName;const KS=y.forwardRef(({className:t,...e},n)=>f.jsx(RS,{ref:n,className:Ae("text-sm font-semibold",t),...e}));KS.displayName=RS.displayName;const GS=y.forwardRef(({className:t,...e},n)=>f.jsx(kS,{ref:n,className:Ae("text-sm opacity-90",t),...e}));GS.displayName=kS.displayName;function GM(){const{toasts:t}=pD();return f.jsxs(HM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(HS,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(KS,{children:n}),r&&f.jsx(GS,{children:r})]}),s,f.jsx(qS,{})]},e)}),f.jsx(WS,{})]})}var aE=["light","dark"],QM="(prefers-color-scheme: dark)",YM=y.createContext(void 0),ZM={setTheme:t=>{},themes:[]},XM=()=>{var t;return(t=y.useContext(YM))!=null?t:ZM};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?aE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(_,g=!1,w=!0)=>{let v=o?o[_]:_,m=g?_+"|| ''":`'${v}'`,E="";return s&&w&&!g&&aE.includes(_)&&(E+=`d.style.colorScheme = '${_}';`),n==="class"?g||v?E+=`c.add(${m})`:E+="null":v&&(E+=`d[s](n,${m})`),E},p=t?`!function(){${c}${h(t)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${QM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var JM=t=>{switch(t){case"success":return nL;case"info":return sL;case"warning":return rL;case"error":return iL;default:return null}},eL=Array(12).fill(0),tL=({visible:t})=>N.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},N.createElement("div",{className:"sonner-spinner"},eL.map((e,n)=>N.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nL=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rL=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sL=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iL=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oL=()=>{let[t,e]=N.useState(document.hidden);return N.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Qg=1,aL=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Qg++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(uL(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Qg++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},mn=new aL,lL=(t,e)=>{let n=(e==null?void 0:e.id)||Qg++;return mn.addToast({title:t,...e,id:n}),n},uL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",cL=lL,dL=()=>mn.toasts,yn=Object.assign(cL,{success:mn.success,info:mn.info,warning:mn.warning,error:mn.error,custom:mn.custom,message:mn.message,promise:mn.promise,dismiss:mn.dismiss,loading:mn.loading},{getHistory:dL});function hL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}hL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ud(t){return t.label!==void 0}var fL=3,pL="32px",mL=4e3,gL=356,yL=14,vL=20,_L=200;function wL(...t){return t.filter(Boolean).join(" ")}var EL=t=>{var e,n,r,s,i,o,a,l,u,c;let{invert:d,toast:h,unstyled:p,interacting:_,setHeights:g,visibleToasts:w,heights:v,index:m,toasts:E,expanded:x,removeToast:T,defaultRichColors:b,closeButton:C,style:R,cancelButtonStyle:F,actionButtonStyle:L,className:re="",descriptionClassName:D="",duration:q,position:$,gap:se,loadingIcon:Z,expandByDefault:le,classNames:A,icons:B,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:Y,cn:oe}=t,[xe,je]=N.useState(!1),[Kt,Re]=N.useState(!1),[sn,Rn]=N.useState(!1),[$n,ur]=N.useState(!1),[Oi,Es]=N.useState(0),[cr,xs]=N.useState(0),ll=N.useRef(null),qr=N.useRef(null),$c=m===0,I=m+1<=w,S=h.type,k=h.dismissible!==!1,K=h.className||"",W=h.descriptionClassName||"",U=N.useMemo(()=>v.findIndex(ve=>ve.toastId===h.id)||0,[v,h.id]),ae=N.useMemo(()=>{var ve;return(ve=h.closeButton)!=null?ve:C},[h.closeButton,C]),ye=N.useMemo(()=>h.duration||q||mL,[h.duration,q]),tt=N.useRef(0),Be=N.useRef(0),dr=N.useRef(0),Ts=N.useRef(null),[Ao,ul]=$.split("-"),Uc=N.useMemo(()=>v.reduce((ve,ze,Fe)=>Fe>=U?ve:ve+ze.height,0),[v,U]),cl=oL(),Dp=h.invert||d,Ro=S==="loading";Be.current=N.useMemo(()=>U*se+Uc,[U,Uc]),N.useEffect(()=>{je(!0)},[]),N.useLayoutEffect(()=>{if(!xe)return;let ve=qr.current,ze=ve.style.height;ve.style.height="auto";let Fe=ve.getBoundingClientRect().height;ve.style.height=ze,xs(Fe),g(hr=>hr.find(fr=>fr.toastId===h.id)?hr.map(fr=>fr.toastId===h.id?{...fr,height:Fe}:fr):[{toastId:h.id,height:Fe,position:h.position},...hr])},[xe,h.title,h.description,g,h.id]);let Is=N.useCallback(()=>{Re(!0),Es(Be.current),g(ve=>ve.filter(ze=>ze.toastId!==h.id)),setTimeout(()=>{T(h)},_L)},[h,T,g,Be]);N.useEffect(()=>{if(h.promise&&S==="loading"||h.duration===1/0||h.type==="loading")return;let ve,ze=ye;return x||_||Y&&cl?(()=>{if(dr.current<tt.current){let Fe=new Date().getTime()-tt.current;ze=ze-Fe}dr.current=new Date().getTime()})():ze!==1/0&&(tt.current=new Date().getTime(),ve=setTimeout(()=>{var Fe;(Fe=h.onAutoClose)==null||Fe.call(h,h),Is()},ze)),()=>clearTimeout(ve)},[x,_,le,h,ye,Is,h.promise,S,Y,cl]),N.useEffect(()=>{let ve=qr.current;if(ve){let ze=ve.getBoundingClientRect().height;return xs(ze),g(Fe=>[{toastId:h.id,height:ze,position:h.position},...Fe]),()=>g(Fe=>Fe.filter(hr=>hr.toastId!==h.id))}},[g,h.id]),N.useEffect(()=>{h.delete&&Is()},[Is,h.delete]);function MP(){return B!=null&&B.loading?N.createElement("div",{className:"sonner-loader","data-visible":S==="loading"},B.loading):Z?N.createElement("div",{className:"sonner-loader","data-visible":S==="loading"},Z):N.createElement(tL,{visible:S==="loading"})}return N.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:qr,className:oe(re,K,A==null?void 0:A.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,A==null?void 0:A.default,A==null?void 0:A[S],(n=h==null?void 0:h.classNames)==null?void 0:n[S]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:b,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":xe,"data-promise":!!h.promise,"data-removed":Kt,"data-visible":I,"data-y-position":Ao,"data-x-position":ul,"data-index":m,"data-front":$c,"data-swiping":sn,"data-dismissible":k,"data-type":S,"data-invert":Dp,"data-swipe-out":$n,"data-expanded":!!(x||le&&xe),style:{"--index":m,"--toasts-before":m,"--z-index":E.length-m,"--offset":`${Kt?Oi:Be.current}px`,"--initial-height":le?"auto":`${cr}px`,...R,...h.style},onPointerDown:ve=>{Ro||!k||(ll.current=new Date,Es(Be.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(Rn(!0),Ts.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,ze,Fe,hr;if($n||!k)return;Ts.current=null;let fr=Number(((ve=qr.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Bc=new Date().getTime()-((ze=ll.current)==null?void 0:ze.getTime()),LP=Math.abs(fr)/Bc;if(Math.abs(fr)>=vL||LP>.11){Es(Be.current),(Fe=h.onDismiss)==null||Fe.call(h,h),Is(),ur(!0);return}(hr=qr.current)==null||hr.style.setProperty("--swipe-amount","0px"),Rn(!1)},onPointerMove:ve=>{var ze;if(!Ts.current||!k)return;let Fe=ve.clientY-Ts.current.y,hr=ve.clientX-Ts.current.x,fr=(Ao==="top"?Math.min:Math.max)(0,Fe),Bc=ve.pointerType==="touch"?10:2;Math.abs(fr)>Bc?(ze=qr.current)==null||ze.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(hr)>Bc&&(Ts.current=null)}},ae&&!h.jsx?N.createElement("button",{"aria-label":ee,"data-disabled":Ro,"data-close-button":!0,onClick:Ro||!k?()=>{}:()=>{var ve;Is(),(ve=h.onDismiss)==null||ve.call(h,h)},className:oe(A==null?void 0:A.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},N.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),N.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||N.isValidElement(h.title)?h.jsx||h.title:N.createElement(N.Fragment,null,S||h.icon||h.promise?N.createElement("div",{"data-icon":"",className:oe(A==null?void 0:A.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||MP():null,h.type!=="loading"?h.icon||(B==null?void 0:B[S])||JM(S):null):null,N.createElement("div",{"data-content":"",className:oe(A==null?void 0:A.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},N.createElement("div",{"data-title":"",className:oe(A==null?void 0:A.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?N.createElement("div",{"data-description":"",className:oe(D,W,A==null?void 0:A.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),N.isValidElement(h.cancel)?h.cancel:h.cancel&&ud(h.cancel)?N.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||F,onClick:ve=>{var ze,Fe;ud(h.cancel)&&k&&((Fe=(ze=h.cancel).onClick)==null||Fe.call(ze,ve),Is())},className:oe(A==null?void 0:A.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,N.isValidElement(h.action)?h.action:h.action&&ud(h.action)?N.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||L,onClick:ve=>{var ze,Fe;ud(h.action)&&(ve.defaultPrevented||((Fe=(ze=h.action).onClick)==null||Fe.call(ze,ve),Is()))},className:oe(A==null?void 0:A.actionButton,(c=h==null?void 0:h.classNames)==null?void 0:c.actionButton)},h.action.label):null))};function lE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var xL=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:c,style:d,visibleToasts:h=fL,toastOptions:p,dir:_=lE(),gap:g=yL,loadingIcon:w,icons:v,containerAriaLabel:m="Notifications",pauseWhenPageIsHidden:E,cn:x=wL}=t,[T,b]=N.useState([]),C=N.useMemo(()=>Array.from(new Set([n].concat(T.filter(Y=>Y.position).map(Y=>Y.position)))),[T,n]),[R,F]=N.useState([]),[L,re]=N.useState(!1),[D,q]=N.useState(!1),[$,se]=N.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=N.useRef(null),le=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=N.useRef(null),B=N.useRef(!1),ee=N.useCallback(Y=>{var oe;(oe=T.find(xe=>xe.id===Y.id))!=null&&oe.delete||mn.dismiss(Y.id),b(xe=>xe.filter(({id:je})=>je!==Y.id))},[T]);return N.useEffect(()=>mn.subscribe(Y=>{if(Y.dismiss){b(oe=>oe.map(xe=>xe.id===Y.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{iS.flushSync(()=>{b(oe=>{let xe=oe.findIndex(je=>je.id===Y.id);return xe!==-1?[...oe.slice(0,xe),{...oe[xe],...Y},...oe.slice(xe+1)]:[Y,...oe]})})})}),[]),N.useEffect(()=>{if(l!=="system"){se(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Y})=>{se(Y?"dark":"light")})},[l]),N.useEffect(()=>{T.length<=1&&re(!1)},[T]),N.useEffect(()=>{let Y=oe=>{var xe,je;r.every(Kt=>oe[Kt]||oe.code===Kt)&&(re(!0),(xe=Z.current)==null||xe.focus()),oe.code==="Escape"&&(document.activeElement===Z.current||(je=Z.current)!=null&&je.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[r]),N.useEffect(()=>{if(Z.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,B.current=!1)}},[Z.current]),T.length?N.createElement("section",{"aria-label":`${m} ${le}`,tabIndex:-1},C.map((Y,oe)=>{var xe;let[je,Kt]=Y.split("-");return N.createElement("ol",{key:Y,dir:_==="auto"?lE():_,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":je,"data-x-position":Kt,style:{"--front-toast-height":`${((xe=R[0])==null?void 0:xe.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||pL,"--width":`${gL}px`,"--gap":`${g}px`,...d},onBlur:Re=>{B.current&&!Re.currentTarget.contains(Re.relatedTarget)&&(B.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:Re=>{Re.target instanceof HTMLElement&&Re.target.dataset.dismissible==="false"||B.current||(B.current=!0,A.current=Re.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{D||re(!1)},onPointerDown:Re=>{Re.target instanceof HTMLElement&&Re.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},T.filter(Re=>!Re.position&&oe===0||Re.position===Y).map((Re,sn)=>{var Rn,$n;return N.createElement(EL,{key:Re.id,icons:v,index:sn,toast:Re,defaultRichColors:u,duration:(Rn=p==null?void 0:p.duration)!=null?Rn:c,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:($n=p==null?void 0:p.closeButton)!=null?$n:i,interacting:D,position:Y,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:T.filter(ur=>ur.position==Re.position),heights:R.filter(ur=>ur.position==Re.position),setHeights:F,expandByDefault:s,gap:g,loadingIcon:w,expanded:L,pauseWhenPageIsHidden:E,cn:x})}))})):null};const QS=({...t})=>{const{theme:e="system"}=XM();return f.jsx(xL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var TL=n1.useId||(()=>{}),IL=0;function Ql(t){const[e,n]=y.useState(TL());return ci(()=>{t||n(r=>r??String(IL++))},[t]),t||(e?`radix-${e}`:"")}const SL=["top","right","bottom","left"],di=Math.min,vn=Math.max,Th=Math.round,cd=Math.floor,hi=t=>({x:t,y:t}),bL={left:"right",right:"left",bottom:"top",top:"bottom"},CL={start:"end",end:"start"};function Yg(t,e,n){return vn(t,di(e,n))}function ds(t,e){return typeof t=="function"?t(e):t}function hs(t){return t.split("-")[0]}function Za(t){return t.split("-")[1]}function Yv(t){return t==="x"?"y":"x"}function Zv(t){return t==="y"?"height":"width"}function fi(t){return["top","bottom"].includes(hs(t))?"y":"x"}function Xv(t){return Yv(fi(t))}function AL(t,e,n){n===void 0&&(n=!1);const r=Za(t),s=Xv(t),i=Zv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ih(o)),[o,Ih(o)]}function RL(t){const e=Ih(t);return[Zg(t),e,Zg(e)]}function Zg(t){return t.replace(/start|end/g,e=>CL[e])}function kL(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function PL(t,e,n,r){const s=Za(t);let i=kL(hs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Zg)))),i}function Ih(t){return t.replace(/left|right|bottom|top/g,e=>bL[e])}function NL(t){return{top:0,right:0,bottom:0,left:0,...t}}function YS(t){return typeof t!="number"?NL(t):{top:t,right:t,bottom:t,left:t}}function Sh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function uE(t,e,n){let{reference:r,floating:s}=t;const i=fi(e),o=Xv(e),a=Zv(o),l=hs(e),u=i==="y",c=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-s.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Za(e)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const OL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:c,y:d}=uE(u,r,l),h=r,p={},_=0;for(let g=0;g<a.length;g++){const{name:w,fn:v}=a[g],{x:m,y:E,data:x,reset:T}=await v({x:c,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});c=m??c,d=E??d,p={...p,[w]:{...p[w],...x}},T&&_<=50&&(_++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):T.rects),{x:c,y:d}=uE(u,h,l)),g=-1)}return{x:c,y:d,placement:h,strategy:s,middlewareData:p}};async function xu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=ds(e,t),_=YS(p),w=a[h?d==="floating"?"reference":"floating":d],v=Sh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),m=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Sh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:E,strategy:l}):m);return{top:(v.top-T.top+_.top)/x.y,bottom:(T.bottom-v.bottom+_.bottom)/x.y,left:(v.left-T.left+_.left)/x.x,right:(T.right-v.right+_.right)/x.x}}const DL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=ds(t,e)||{};if(u==null)return{};const d=YS(c),h={x:n,y:r},p=Xv(s),_=Zv(p),g=await o.getDimensions(u),w=p==="y",v=w?"top":"left",m=w?"bottom":"right",E=w?"clientHeight":"clientWidth",x=i.reference[_]+i.reference[p]-h[p]-i.floating[_],T=h[p]-i.reference[p],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=b?b[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(b)))&&(C=a.floating[E]||i.floating[_]);const R=x/2-T/2,F=C/2-g[_]/2-1,L=di(d[v],F),re=di(d[m],F),D=L,q=C-g[_]-re,$=C/2-g[_]/2+R,se=Yg(D,$,q),Z=!l.arrow&&Za(s)!=null&&$!==se&&i.reference[_]/2-($<D?L:re)-g[_]/2<0,le=Z?$<D?$-D:$-q:0;return{[p]:h[p]+le,data:{[p]:se,centerOffset:$-se-le,...Z&&{alignmentOffset:le}},reset:Z}}}),ML=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...w}=ds(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=hs(s),m=fi(a),E=hs(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=h||(E||!g?[Ih(a)]:RL(a)),b=_!=="none";!h&&b&&T.push(...PL(a,g,_,x));const C=[a,...T],R=await xu(e,w),F=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&F.push(R[v]),d){const $=AL(s,o,x);F.push(R[$[0]],R[$[1]])}if(L=[...L,{placement:s,overflows:F}],!F.every($=>$<=0)){var re,D;const $=(((re=i.flip)==null?void 0:re.index)||0)+1,se=C[$];if(se)return{data:{index:$,overflows:L},reset:{placement:se}};let Z=(D=L.filter(le=>le.overflows[0]<=0).sort((le,A)=>le.overflows[1]-A.overflows[1])[0])==null?void 0:D.placement;if(!Z)switch(p){case"bestFit":{var q;const le=(q=L.filter(A=>{if(b){const B=fi(A.placement);return B===m||B==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(B=>B>0).reduce((B,ee)=>B+ee,0)]).sort((A,B)=>A[1]-B[1])[0])==null?void 0:q[0];le&&(Z=le);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function cE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dE(t){return SL.some(e=>t[e]>=0)}const LL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ds(t,e);switch(r){case"referenceHidden":{const i=await xu(e,{...s,elementContext:"reference"}),o=cE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dE(o)}}}case"escaped":{const i=await xu(e,{...s,altBoundary:!0}),o=cE(i,n.floating);return{data:{escapedOffsets:o,escaped:dE(o)}}}default:return{}}}}};async function VL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=hs(n),a=Za(n),l=fi(n)==="y",u=["left","top"].includes(o)?-1:1,c=i&&l?-1:1,d=ds(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:_}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof _=="number"&&(p=a==="end"?_*-1:_),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}const jL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await VL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},FL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:v,y:m}=w;return{x:v,y:m}}},...l}=ds(t,e),u={x:n,y:r},c=await xu(e,l),d=fi(hs(s)),h=Yv(d);let p=u[h],_=u[d];if(i){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",m=p+c[w],E=p-c[v];p=Yg(m,p,E)}if(o){const w=d==="y"?"top":"left",v=d==="y"?"bottom":"right",m=_+c[w],E=_-c[v];_=Yg(m,_,E)}const g=a.fn({...e,[h]:p,[d]:_});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[d]:o}}}}}},$L=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ds(t,e),c={x:n,y:r},d=fi(s),h=Yv(d);let p=c[h],_=c[d];const g=ds(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const E=h==="y"?"height":"width",x=i.reference[h]-i.floating[E]+w.mainAxis,T=i.reference[h]+i.reference[E]-w.mainAxis;p<x?p=x:p>T&&(p=T)}if(u){var v,m;const E=h==="y"?"width":"height",x=["top","left"].includes(hs(s)),T=i.reference[d]-i.floating[E]+(x&&((v=o.offset)==null?void 0:v[d])||0)+(x?0:w.crossAxis),b=i.reference[d]+i.reference[E]+(x?0:((m=o.offset)==null?void 0:m[d])||0)-(x?w.crossAxis:0);_<T?_=T:_>b&&(_=b)}return{[h]:p,[d]:_}}}},UL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ds(t,e),c=await xu(e,u),d=hs(s),h=Za(s),p=fi(s)==="y",{width:_,height:g}=i.floating;let w,v;d==="top"||d==="bottom"?(w=d,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,w=h==="end"?"top":"bottom");const m=g-c.top-c.bottom,E=_-c.left-c.right,x=di(g-c[w],m),T=di(_-c[v],E),b=!e.middlewareData.shift;let C=x,R=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=m),b&&!h){const L=vn(c.left,0),re=vn(c.right,0),D=vn(c.top,0),q=vn(c.bottom,0);p?R=_-2*(L!==0||re!==0?L+re:vn(c.left,c.right)):C=g-2*(D!==0||q!==0?D+q:vn(c.top,c.bottom))}await l({...e,availableWidth:R,availableHeight:C});const F=await o.getDimensions(a.floating);return _!==F.width||g!==F.height?{reset:{rects:!0}}:{}}}};function Lf(){return typeof window<"u"}function Xa(t){return ZS(t)?(t.nodeName||"").toLowerCase():"#document"}function xn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Br(t){var e;return(e=(ZS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZS(t){return Lf()?t instanceof Node||t instanceof xn(t).Node:!1}function nr(t){return Lf()?t instanceof Element||t instanceof xn(t).Element:!1}function Vr(t){return Lf()?t instanceof HTMLElement||t instanceof xn(t).HTMLElement:!1}function hE(t){return!Lf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xn(t).ShadowRoot}function yc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function BL(t){return["table","td","th"].includes(Xa(t))}function Vf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Jv(t){const e=e_(),n=nr(t)?rr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function zL(t){let e=pi(t);for(;Vr(e)&&!Oa(e);){if(Jv(e))return e;if(Vf(e))return null;e=pi(e)}return null}function e_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oa(t){return["html","body","#document"].includes(Xa(t))}function rr(t){return xn(t).getComputedStyle(t)}function jf(t){return nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pi(t){if(Xa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hE(t)&&t.host||Br(t);return hE(e)?e.host:e}function XS(t){const e=pi(t);return Oa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vr(e)&&yc(e)?e:XS(e)}function Tu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=XS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=xn(s);if(i){const a=Xg(o);return e.concat(o,o.visualViewport||[],yc(s)?s:[],a&&n?Tu(a):[])}return e.concat(s,Tu(s,[],n))}function Xg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function JS(t){const e=rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Vr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Th(n)!==i||Th(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function t_(t){return nr(t)?t:t.contextElement}function la(t){const e=t_(t);if(!Vr(e))return hi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=JS(e);let o=(i?Th(n.width):n.width)/r,a=(i?Th(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const WL=hi(0);function eb(t){const e=xn(t);return!e_()||!e.visualViewport?WL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xn(t)?!1:e}function io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=t_(t);let o=hi(1);e&&(r?nr(r)&&(o=la(r)):o=la(t));const a=HL(i,n,r)?eb(i):hi(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,c=s.width/o.x,d=s.height/o.y;if(i){const h=xn(i),p=r&&nr(r)?xn(r):r;let _=h,g=Xg(_);for(;g&&r&&p!==_;){const w=la(g),v=g.getBoundingClientRect(),m=rr(g),E=v.left+(g.clientLeft+parseFloat(m.paddingLeft))*w.x,x=v.top+(g.clientTop+parseFloat(m.paddingTop))*w.y;l*=w.x,u*=w.y,c*=w.x,d*=w.y,l+=E,u+=x,_=xn(g),g=Xg(_)}}return Sh({width:c,height:d,x:l,y:u})}function qL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Br(r),a=e?Vf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=hi(1);const c=hi(0),d=Vr(r);if((d||!d&&!i)&&((Xa(r)!=="body"||yc(o))&&(l=jf(r)),Vr(r))){const h=io(r);u=la(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function KL(t){return Array.from(t.getClientRects())}function Jg(t,e){const n=jf(t).scrollLeft;return e?e.left+n:io(Br(t)).left+n}function GL(t){const e=Br(t),n=jf(t),r=t.ownerDocument.body,s=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Jg(t);const a=-n.scrollTop;return rr(r).direction==="rtl"&&(o+=vn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function QL(t,e){const n=xn(t),r=Br(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=e_();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function YL(t,e){const n=io(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Vr(t)?la(t):hi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function fE(t,e,n){let r;if(e==="viewport")r=QL(t,n);else if(e==="document")r=GL(Br(t));else if(nr(e))r=YL(e,n);else{const s=eb(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Sh(r)}function tb(t,e){const n=pi(t);return n===e||!nr(n)||Oa(n)?!1:rr(n).position==="fixed"||tb(n,e)}function ZL(t,e){const n=e.get(t);if(n)return n;let r=Tu(t,[],!1).filter(a=>nr(a)&&Xa(a)!=="body"),s=null;const i=rr(t).position==="fixed";let o=i?pi(t):t;for(;nr(o)&&!Oa(o);){const a=rr(o),l=Jv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||yc(o)&&!l&&tb(t,o))?r=r.filter(c=>c!==o):s=a,o=pi(o)}return e.set(t,r),r}function XL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Vf(e)?[]:ZL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=fE(e,c,s);return u.top=vn(d.top,u.top),u.right=di(d.right,u.right),u.bottom=di(d.bottom,u.bottom),u.left=vn(d.left,u.left),u},fE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function JL(t){const{width:e,height:n}=JS(t);return{width:e,height:n}}function eV(t,e,n){const r=Vr(e),s=Br(e),i=n==="fixed",o=io(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=hi(0);if(r||!r&&!i)if((Xa(e)!=="body"||yc(s))&&(a=jf(e)),r){const p=io(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=Jg(s));let u=0,c=0;if(s&&!r&&!i){const p=s.getBoundingClientRect();c=p.top+a.scrollTop,u=p.left+a.scrollLeft-Jg(s,p)}const d=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-c;return{x:d,y:h,width:o.width,height:o.height}}function hm(t){return rr(t).position==="static"}function pE(t,e){if(!Vr(t)||rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Br(t)===n&&(n=n.ownerDocument.body),n}function nb(t,e){const n=xn(t);if(Vf(t))return n;if(!Vr(t)){let s=pi(t);for(;s&&!Oa(s);){if(nr(s)&&!hm(s))return s;s=pi(s)}return n}let r=pE(t,e);for(;r&&BL(r)&&hm(r);)r=pE(r,e);return r&&Oa(r)&&hm(r)&&!Jv(r)?n:r||zL(t)||n}const tV=async function(t){const e=this.getOffsetParent||nb,n=this.getDimensions,r=await n(t.floating);return{reference:eV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nV(t){return rr(t).direction==="rtl"}const rV={convertOffsetParentRelativeRectToViewportRelativeRect:qL,getDocumentElement:Br,getClippingRect:XL,getOffsetParent:nb,getElementRects:tV,getClientRects:KL,getDimensions:JL,getScale:la,isElement:nr,isRTL:nV};function sV(t,e){let n=null,r;const s=Br(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:c,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const p=cd(c),_=cd(s.clientWidth-(u+d)),g=cd(s.clientHeight-(c+h)),w=cd(u),m={rootMargin:-p+"px "+-_+"px "+-g+"px "+-w+"px",threshold:vn(0,di(1,l))||1};let E=!0;function x(T){const b=T[0].intersectionRatio;if(b!==l){if(!E)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(x,{...m,root:s.ownerDocument})}catch{n=new IntersectionObserver(x,m)}n.observe(t)}return o(!0),i}function iV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=t_(t),c=s||i?[...u?Tu(u):[],...Tu(e)]:[];c.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=u&&a?sV(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[m]=v;m&&m.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let _,g=l?io(t):null;l&&w();function w(){const v=io(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,_=requestAnimationFrame(w)}return n(),()=>{var v;c.forEach(m=>{s&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(_)}}const oV=jL,aV=FL,lV=ML,uV=UL,cV=LL,mE=DL,dV=$L,hV=(t,e,n)=>{const r=new Map,s={platform:rV,...n},i={...s.platform,_c:r};return OL(t,e,{...s,platform:i})};var Ud=typeof document<"u"?y.useLayoutEffect:y.useEffect;function bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!bh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!bh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function rb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gE(t,e){const n=rb(t);return Math.round(e*n)/n}function fm(t){const e=y.useRef(t);return Ud(()=>{e.current=t}),e}function fV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,d]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(r);bh(h,r)||p(r);const[_,g]=y.useState(null),[w,v]=y.useState(null),m=y.useCallback(A=>{A!==b.current&&(b.current=A,g(A))},[]),E=y.useCallback(A=>{A!==C.current&&(C.current=A,v(A))},[]),x=i||_,T=o||w,b=y.useRef(null),C=y.useRef(null),R=y.useRef(c),F=l!=null,L=fm(l),re=fm(s),D=fm(u),q=y.useCallback(()=>{if(!b.current||!C.current)return;const A={placement:e,strategy:n,middleware:h};re.current&&(A.platform=re.current),hV(b.current,C.current,A).then(B=>{const ee={...B,isPositioned:D.current!==!1};$.current&&!bh(R.current,ee)&&(R.current=ee,gc.flushSync(()=>{d(ee)}))})},[h,e,n,re,D]);Ud(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(A=>({...A,isPositioned:!1})))},[u]);const $=y.useRef(!1);Ud(()=>($.current=!0,()=>{$.current=!1}),[]),Ud(()=>{if(x&&(b.current=x),T&&(C.current=T),x&&T){if(L.current)return L.current(x,T,q);q()}},[x,T,q,L,F]);const se=y.useMemo(()=>({reference:b,floating:C,setReference:m,setFloating:E}),[m,E]),Z=y.useMemo(()=>({reference:x,floating:T}),[x,T]),le=y.useMemo(()=>{const A={position:n,left:0,top:0};if(!Z.floating)return A;const B=gE(Z.floating,c.x),ee=gE(Z.floating,c.y);return a?{...A,transform:"translate("+B+"px, "+ee+"px)",...rb(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:ee}},[n,a,Z.floating,c.x,c.y]);return y.useMemo(()=>({...c,update:q,refs:se,elements:Z,floatingStyles:le}),[c,q,se,Z,le])}const pV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mE({element:r.current,padding:s}).fn(n):{}:r?mE({element:r,padding:s}).fn(n):{}}}},mV=(t,e)=>({...oV(t),options:[t,e]}),gV=(t,e)=>({...aV(t),options:[t,e]}),yV=(t,e)=>({...dV(t),options:[t,e]}),vV=(t,e)=>({...lV(t),options:[t,e]}),_V=(t,e)=>({...uV(t),options:[t,e]}),wV=(t,e)=>({...cV(t),options:[t,e]}),EV=(t,e)=>({...pV(t),options:[t,e]});var xV="Arrow",sb=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(Ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});sb.displayName=xV;var TV=sb;function IV(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(d){const{scope:h,children:p,..._}=d,g=(h==null?void 0:h[t][l])||a,w=y.useMemo(()=>_,Object.values(_));return f.jsx(g.Provider,{value:w,children:p})}function c(d,h){const p=(h==null?void 0:h[t][l])||a,_=y.useContext(p);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,SV(s,...e)]}function SV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function bV(t){const[e,n]=y.useState(void 0);return ci(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ib="Popper",[ob,ab]=IV(ib),[IH,lb]=ob(ib),ub="PopperAnchor",cb=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=lb(ub,n),o=y.useRef(null),a=zt(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(Ve.div,{...s,ref:a})});cb.displayName=ub;var n_="PopperContent",[CV,AV]=ob(n_),db=y.forwardRef((t,e)=>{var sn,Rn,$n,ur,Oi,Es;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:_,...g}=t,w=lb(n_,n),[v,m]=y.useState(null),E=zt(e,cr=>m(cr)),[x,T]=y.useState(null),b=bV(x),C=(b==null?void 0:b.width)??0,R=(b==null?void 0:b.height)??0,F=r+(i!=="center"?"-"+i:""),L=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},re=Array.isArray(u)?u:[u],D=re.length>0,q={padding:L,boundary:re.filter(kV),altBoundary:D},{refs:$,floatingStyles:se,placement:Z,isPositioned:le,middlewareData:A}=fV({strategy:"fixed",placement:F,whileElementsMounted:(...cr)=>iV(...cr,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[mV({mainAxis:s+R,alignmentAxis:o}),l&&gV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?yV():void 0,...q}),l&&vV({...q}),_V({...q,apply:({elements:cr,rects:xs,availableWidth:ll,availableHeight:qr})=>{const{width:$c,height:I}=xs.reference,S=cr.floating.style;S.setProperty("--radix-popper-available-width",`${ll}px`),S.setProperty("--radix-popper-available-height",`${qr}px`),S.setProperty("--radix-popper-anchor-width",`${$c}px`),S.setProperty("--radix-popper-anchor-height",`${I}px`)}}),x&&EV({element:x,padding:a}),PV({arrowWidth:C,arrowHeight:R}),h&&wV({strategy:"referenceHidden",...q})]}),[B,ee]=pb(Z),Y=Sn(_);ci(()=>{le&&(Y==null||Y())},[le,Y]);const oe=(sn=A.arrow)==null?void 0:sn.x,xe=(Rn=A.arrow)==null?void 0:Rn.y,je=(($n=A.arrow)==null?void 0:$n.centerOffset)!==0,[Kt,Re]=y.useState();return ci(()=>{v&&Re(window.getComputedStyle(v).zIndex)},[v]),f.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:le?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Kt,"--radix-popper-transform-origin":[(ur=A.transformOrigin)==null?void 0:ur.x,(Oi=A.transformOrigin)==null?void 0:Oi.y].join(" "),...((Es=A.hide)==null?void 0:Es.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(CV,{scope:n,placedSide:B,onArrowChange:T,arrowX:oe,arrowY:xe,shouldHideArrow:je,children:f.jsx(Ve.div,{"data-side":B,"data-align":ee,...g,ref:E,style:{...g.style,animation:le?void 0:"none"}})})})});db.displayName=n_;var hb="PopperArrow",RV={top:"bottom",right:"left",bottom:"top",left:"right"},fb=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=AV(hb,r),o=RV[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(TV,{...s,ref:n,style:{...s.style,display:"block"}})})});fb.displayName=hb;function kV(t){return t!==null}var PV=t=>({name:"transformOrigin",options:t,fn(e){var w,v,m;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,c]=pb(n),d={start:"0%",center:"50%",end:"100%"}[c],h=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((m=s.arrow)==null?void 0:m.y)??0)+l/2;let _="",g="";return u==="bottom"?(_=o?d:`${h}px`,g=`${-l}px`):u==="top"?(_=o?d:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(_=`${-l}px`,g=o?d:`${p}px`):u==="left"&&(_=`${r.floating.width+l}px`,g=o?d:`${p}px`),{data:{x:_,y:g}}}});function pb(t){const[e,n="center"]=t.split("-");return[e,n]}var NV=cb,OV=db,DV=fb,[Ff,SH]=Rf("Tooltip",[ab]),r_=ab(),mb="TooltipProvider",MV=700,yE="tooltip.open",[LV,gb]=Ff(mb),yb=t=>{const{__scopeTooltip:e,delayDuration:n=MV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=y.useState(!0),l=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),f.jsx(LV,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(c=>{l.current=c},[]),disableHoverableContent:s,children:i})};yb.displayName=mb;var vb="Tooltip",[bH,$f]=Ff(vb),ey="TooltipTrigger",VV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=$f(ey,n),i=gb(ey,n),o=r_(n),a=y.useRef(null),l=zt(e,a,s.onTriggerChange),u=y.useRef(!1),c=y.useRef(!1),d=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(NV,{asChild:!0,...o,children:f.jsx(Ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ke(t.onPointerMove,h=>{h.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),c.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{s.onTriggerLeave(),c.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ke(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ke(t.onBlur,s.onClose),onClick:ke(t.onClick,s.onClose)})})});VV.displayName=ey;var jV="TooltipPortal",[CH,FV]=Ff(jV,{forceMount:void 0}),Da="TooltipContent",_b=y.forwardRef((t,e)=>{const n=FV(Da,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=$f(Da,t.__scopeTooltip);return f.jsx(wo,{present:r||o.open,children:o.disableHoverableContent?f.jsx(wb,{side:s,...i,ref:e}):f.jsx($V,{side:s,...i,ref:e})})}),$V=y.forwardRef((t,e)=>{const n=$f(Da,t.__scopeTooltip),r=gb(Da,t.__scopeTooltip),s=y.useRef(null),i=zt(e,s),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,c=s.current,{onPointerInTransitChange:d}=r,h=y.useCallback(()=>{a(null),d(!1)},[d]),p=y.useCallback((_,g)=>{const w=_.currentTarget,v={x:_.clientX,y:_.clientY},m=WV(v,w.getBoundingClientRect()),E=HV(v,m),x=qV(g.getBoundingClientRect()),T=GV([...E,...x]);a(T),d(!0)},[d]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(l&&c){const _=w=>p(w,c),g=w=>p(w,l);return l.addEventListener("pointerleave",_),c.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",_),c.removeEventListener("pointerleave",g)}}},[l,c,p,h]),y.useEffect(()=>{if(o){const _=g=>{const w=g.target,v={x:g.clientX,y:g.clientY},m=(l==null?void 0:l.contains(w))||(c==null?void 0:c.contains(w)),E=!KV(v,o);m?h():E&&(h(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,c,o,u,h]),f.jsx(wb,{...t,ref:i})}),[UV,BV]=Ff(vb,{isInside:!1}),wb=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=$f(Da,n),u=r_(n),{onClose:c}=l;return y.useEffect(()=>(document.addEventListener(yE,c),()=>document.removeEventListener(yE,c)),[c]),y.useEffect(()=>{if(l.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,c]),f.jsx(kf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:f.jsxs(OV,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(lS,{children:r}),f.jsx(UV,{scope:n,isInside:!0,children:f.jsx(FD,{id:l.contentId,role:"tooltip",children:s||r})})]})})});_b.displayName=Da;var Eb="TooltipArrow",zV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=r_(n);return BV(Eb,n).isInside?null:f.jsx(DV,{...s,...r,ref:e})});zV.displayName=Eb;function WV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function HV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function qV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function KV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,c=e[o].y;l>r!=c>r&&n<(u-a)*(r-l)/(c-l)+a&&(s=!s)}return s}function GV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),QV(e)}function QV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var YV=yb,xb=_b;const ZV=YV,XV=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(xb,{ref:r,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));XV.displayName=xb.displayName;var Uf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bf=typeof window>"u"||"Deno"in globalThis;function zn(){}function JV(t,e){return typeof t=="function"?t(e):t}function e2(t){return typeof t=="number"&&t>=0&&t!==1/0}function t2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vE(t,e){return typeof t=="function"?t(e):t}function n2(t,e){return typeof t=="function"?t(e):t}function _E(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==s_(o,e.options))return!1}else if(!Su(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function wE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Iu(e.options.mutationKey)!==Iu(i))return!1}else if(!Su(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function s_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Iu)(t)}function Iu(t){return JSON.stringify(t,(e,n)=>ty(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Su(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Su(t[n],e[n])):!1}function Tb(t,e){if(t===e)return t;const n=EE(t)&&EE(e);if(n||ty(t)&&ty(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const c=n?u:i[u];(!n&&r.includes(c)||n)&&t[c]===void 0&&e[c]===void 0?(a[c]=void 0,l++):(a[c]=Tb(t[c],e[c]),a[c]===t[c]&&t[c]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function EE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ty(t){if(!xE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xE(t){return Object.prototype.toString.call(t)==="[object Object]"}function r2(t){return new Promise(e=>{setTimeout(e,t)})}function s2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Tb(t,e):e}function i2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function o2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var i_=Symbol();function Ib(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===i_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wi,Us,ya,VT,a2=(VT=class extends Uf{constructor(){super();Oe(this,Wi);Oe(this,Us);Oe(this,ya);we(this,ya,e=>{if(!Bf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Us)||this.setEventListener(P(this,ya))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Us))==null||e.call(this),we(this,Us,void 0))}setEventListener(e){var n;we(this,ya,e),(n=P(this,Us))==null||n.call(this),we(this,Us,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,Wi)!==e&&(we(this,Wi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof P(this,Wi)=="boolean"?P(this,Wi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wi=new WeakMap,Us=new WeakMap,ya=new WeakMap,VT),Sb=new a2,va,Bs,_a,jT,l2=(jT=class extends Uf{constructor(){super();Oe(this,va,!0);Oe(this,Bs);Oe(this,_a);we(this,_a,e=>{if(!Bf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Bs)||this.setEventListener(P(this,_a))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Bs))==null||e.call(this),we(this,Bs,void 0))}setEventListener(e){var n;we(this,_a,e),(n=P(this,Bs))==null||n.call(this),we(this,Bs,e(this.setOnline.bind(this)))}setOnline(e){P(this,va)!==e&&(we(this,va,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,va)}},va=new WeakMap,Bs=new WeakMap,_a=new WeakMap,jT),Ch=new l2;function u2(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function c2(t){return Math.min(1e3*2**t,3e4)}function bb(t){return(t??"online")==="online"?Ch.isOnline():!0}var Cb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function pm(t){return t instanceof Cb}function Ab(t){let e=!1,n=0,r=!1,s;const i=u2(),o=g=>{var w;r||(h(new Cb(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>Sb.isFocused()&&(t.networkMode==="always"||Ch.isOnline())&&t.canRun(),c=()=>bb(t.networkMode)&&t.canRun(),d=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var w;s=v=>{(r||u())&&g(v)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),_=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{var b;if(r)return;const m=t.retry??(Bf?0:3),E=t.retryDelay??c2,x=typeof E=="function"?E(n,v):E,T=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,v);if(e||!T){h(v);return}n++,(b=t.onFail)==null||b.call(t,n,v),r2(x).then(()=>u()?void 0:p()).then(()=>{e?h(v):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?_():p().then(_),i)}}function d2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Zt=d2(),Hi,FT,Rb=(FT=class{constructor(){Oe(this,Hi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e2(this.gcTime)&&we(this,Hi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bf?1/0:5*60*1e3))}clearGcTimeout(){P(this,Hi)&&(clearTimeout(P(this,Hi)),we(this,Hi,void 0))}},Hi=new WeakMap,FT),wa,Ea,kn,Lt,uc,qi,Wn,Qr,$T,h2=($T=class extends Rb{constructor(n){super();Oe(this,Wn);Oe(this,wa);Oe(this,Ea);Oe(this,kn);Oe(this,Lt);Oe(this,uc);Oe(this,qi);we(this,qi,!1),we(this,uc,n.defaultOptions),this.setOptions(n.options),this.observers=[],we(this,kn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,we(this,wa,p2(this.options)),this.state=n.state??P(this,wa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=P(this,Lt))==null?void 0:n.promise}setOptions(n){this.options={...P(this,uc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,kn).remove(this)}setData(n,r){const s=s2(this.state.data,n,this.options);return Nt(this,Wn,Qr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Nt(this,Wn,Qr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=P(this,Lt))==null?void 0:s.promise;return(i=P(this,Lt))==null||i.cancel(n),r?r.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,wa))}isActive(){return this.observers.some(n=>n2(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===i_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!t2(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=P(this,Lt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=P(this,Lt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),P(this,kn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(P(this,Lt)&&(P(this,qi)?P(this,Lt).cancel({revert:!0}):P(this,Lt).cancelRetry()),this.scheduleGc()),P(this,kn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,Wn,Qr).call(this,{type:"invalidate"})}fetch(n,r){var u,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,Lt))return P(this,Lt).continueRetry(),P(this,Lt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(we(this,qi,!0),s.signal)})},o=()=>{const h=Ib(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return i(p),we(this,qi,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),we(this,Ea,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Nt(this,Wn,Qr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var p,_,g,w;pm(h)&&h.silent||Nt(this,Wn,Qr).call(this,{type:"error",error:h}),pm(h)||((_=(p=P(this,kn).config).onError)==null||_.call(p,h,this),(w=(g=P(this,kn).config).onSettled)==null||w.call(g,this.state.data,h,this)),this.scheduleGc()};return we(this,Lt,Ab({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var p,_,g,w;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(_=(p=P(this,kn).config).onSuccess)==null||_.call(p,h,this),(w=(g=P(this,kn).config).onSettled)==null||w.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{Nt(this,Wn,Qr).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Nt(this,Wn,Qr).call(this,{type:"pause"})},onContinue:()=>{Nt(this,Wn,Qr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),P(this,Lt).start()}},wa=new WeakMap,Ea=new WeakMap,kn=new WeakMap,Lt=new WeakMap,uc=new WeakMap,qi=new WeakMap,Wn=new WeakSet,Qr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...f2(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return pm(i)&&i.revert&&P(this,Ea)?{...P(this,Ea),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),P(this,kn).notify({query:this,type:"updated",action:n})})},$T);function f2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function p2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yr,UT,m2=(UT=class extends Uf{constructor(e={}){super();Oe(this,yr);this.config=e,we(this,yr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??s_(s,n);let o=this.get(i);return o||(o=new h2({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){P(this,yr).has(e.queryHash)||(P(this,yr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,yr).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,yr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,yr).get(e)}getAll(){return[...P(this,yr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_E(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>_E(e,r)):n}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yr=new WeakMap,UT),vr,Gt,Ki,_r,Rs,BT,g2=(BT=class extends Rb{constructor(n){super();Oe(this,_r);Oe(this,vr);Oe(this,Gt);Oe(this,Ki);this.mutationId=n.mutationId,we(this,Gt,n.mutationCache),we(this,vr,[]),this.state=n.state||y2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){P(this,vr).includes(n)||(P(this,vr).push(n),this.clearGcTimeout(),P(this,Gt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){we(this,vr,P(this,vr).filter(r=>r!==n)),this.scheduleGc(),P(this,Gt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){P(this,vr).length||(this.state.status==="pending"?this.scheduleGc():P(this,Gt).remove(this))}continue(){var n;return((n=P(this,Ki))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,c,d,h,p,_,g,w,v,m,E,x,T,b,C,R;we(this,Ki,Ab({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(F,L)=>{Nt(this,_r,Rs).call(this,{type:"failed",failureCount:F,error:L})},onPause:()=>{Nt(this,_r,Rs).call(this,{type:"pause"})},onContinue:()=>{Nt(this,_r,Rs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Gt).canRun(this)}));const r=this.state.status==="pending",s=!P(this,Ki).canStart();try{if(!r){Nt(this,_r,Rs).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=P(this,Gt).config).onMutate)==null?void 0:o.call(i,n,this));const L=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));L!==this.state.context&&Nt(this,_r,Rs).call(this,{type:"pending",context:L,variables:n,isPaused:s})}const F=await P(this,Ki).start();return await((c=(u=P(this,Gt).config).onSuccess)==null?void 0:c.call(u,F,n,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,F,n,this.state.context)),await((_=(p=P(this,Gt).config).onSettled)==null?void 0:_.call(p,F,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,F,null,n,this.state.context)),Nt(this,_r,Rs).call(this,{type:"success",data:F}),F}catch(F){try{throw await((m=(v=P(this,Gt).config).onError)==null?void 0:m.call(v,F,n,this.state.context,this)),await((x=(E=this.options).onError)==null?void 0:x.call(E,F,n,this.state.context)),await((b=(T=P(this,Gt).config).onSettled)==null?void 0:b.call(T,void 0,F,this.state.variables,this.state.context,this)),await((R=(C=this.options).onSettled)==null?void 0:R.call(C,void 0,F,n,this.state.context)),F}finally{Nt(this,_r,Rs).call(this,{type:"error",error:F})}}finally{P(this,Gt).runNext(this)}}},vr=new WeakMap,Gt=new WeakMap,Ki=new WeakMap,_r=new WeakSet,Rs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{P(this,vr).forEach(s=>{s.onMutationUpdate(n)}),P(this,Gt).notify({mutation:this,type:"updated",action:n})})},BT);function y2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pn,cc,zT,v2=(zT=class extends Uf{constructor(e={}){super();Oe(this,pn);Oe(this,cc);this.config=e,we(this,pn,new Map),we(this,cc,Date.now())}build(e,n,r){const s=new g2({mutationCache:this,mutationId:++zc(this,cc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=dd(e),r=P(this,pn).get(n)??[];r.push(e),P(this,pn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=dd(e);if(P(this,pn).has(n)){const s=(r=P(this,pn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?P(this,pn).delete(n):P(this,pn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=P(this,pn).get(dd(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=P(this,pn).get(dd(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...P(this,pn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wE(n,r))}findAll(e={}){return this.getAll().filter(n=>wE(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(zn))))}},pn=new WeakMap,cc=new WeakMap,zT);function dd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function TE(t){return{onFetch:(e,n)=>{var c,d,h,p,_;const r=e.options,s=(h=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=Ib(e.options,e.fetchOptions),m=async(E,x,T)=>{if(g)return Promise.reject();if(x==null&&E.pages.length)return Promise.resolve(E);const b={queryKey:e.queryKey,pageParam:x,direction:T?"backward":"forward",meta:e.options.meta};w(b);const C=await v(b),{maxPages:R}=e.options,F=T?o2:i2;return{pages:F(E.pages,C,R),pageParams:F(E.pageParams,x,R)}};if(s&&i.length){const E=s==="backward",x=E?_2:IE,T={pages:i,pageParams:o},b=x(r,T);a=await m(T,b,E)}else{const E=t??i.length;do{const x=l===0?o[0]??r.initialPageParam:IE(r,a);if(l>0&&x==null)break;a=await m(a,x),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function IE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function _2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var nt,zs,Ws,xa,Ta,Hs,Ia,Sa,WT,w2=(WT=class{constructor(t={}){Oe(this,nt);Oe(this,zs);Oe(this,Ws);Oe(this,xa);Oe(this,Ta);Oe(this,Hs);Oe(this,Ia);Oe(this,Sa);we(this,nt,t.queryCache||new m2),we(this,zs,t.mutationCache||new v2),we(this,Ws,t.defaultOptions||{}),we(this,xa,new Map),we(this,Ta,new Map),we(this,Hs,0)}mount(){zc(this,Hs)._++,P(this,Hs)===1&&(we(this,Ia,Sb.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,nt).onFocus())})),we(this,Sa,Ch.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,nt).onOnline())})))}unmount(){var t,e;zc(this,Hs)._--,P(this,Hs)===0&&((t=P(this,Ia))==null||t.call(this),we(this,Ia,void 0),(e=P(this,Sa))==null||e.call(this),we(this,Sa,void 0))}isFetching(t){return P(this,nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,zs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=P(this,nt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(vE(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return P(this,nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=P(this,nt).get(r.queryHash),i=s==null?void 0:s.state.data,o=JV(e,i);if(o!==void 0)return P(this,nt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zt.batch(()=>P(this,nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=P(this,nt);Zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,nt),r={type:"active",...t};return Zt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Zt.batch(()=>P(this,nt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zn).catch(zn)}invalidateQueries(t={},e={}){return Zt.batch(()=>{if(P(this,nt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Zt.batch(()=>P(this,nt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=P(this,nt).build(this,e);return n.isStaleByTime(vE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zn).catch(zn)}fetchInfiniteQuery(t){return t.behavior=TE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zn).catch(zn)}ensureInfiniteQueryData(t){return t.behavior=TE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ch.isOnline()?P(this,zs).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,nt)}getMutationCache(){return P(this,zs)}getDefaultOptions(){return P(this,Ws)}setDefaultOptions(t){we(this,Ws,t)}setQueryDefaults(t,e){P(this,xa).set(Iu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,xa).values()];let n={};return e.forEach(r=>{Su(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){P(this,Ta).set(Iu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,Ta).values()];let n={};return e.forEach(r=>{Su(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,Ws).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=s_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===i_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,Ws).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,nt).clear(),P(this,zs).clear()}},nt=new WeakMap,zs=new WeakMap,Ws=new WeakMap,xa=new WeakMap,Ta=new WeakMap,Hs=new WeakMap,Ia=new WeakMap,Sa=new WeakMap,WT),E2=y.createContext(void 0),x2=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(E2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}var Gs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gs||(Gs={}));const SE="popstate";function T2(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Eo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ny("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:Ah(i))}function r(s,i){o_(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return S2(e,n,r,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function o_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I2(){return Math.random().toString(36).substr(2,8)}function bE(t,e){return{usr:t.state,key:t.key,idx:e}}function ny(t,e,n,r){return n===void 0&&(n=null),bu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Eo(e):e,{state:n,key:e&&e.key||r||I2()})}function Ah(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function S2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Gs.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(bu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Gs.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:v})}function h(w,v){a=Gs.Push;let m=ny(g.location,w,v);n&&n(m,w),u=c()+1;let E=bE(m,u),x=g.createHref(m);try{o.pushState(E,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(x)}i&&l&&l({action:a,location:g.location,delta:1})}function p(w,v){a=Gs.Replace;let m=ny(g.location,w,v);n&&n(m,w),u=c();let E=bE(m,u),x=g.createHref(m);o.replaceState(E,"",x),i&&l&&l({action:a,location:g.location,delta:0})}function _(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:Ah(w);return m=m.replace(/ $/,"%20"),at(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let g={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(SE,d),l=w,()=>{s.removeEventListener(SE,d),l=null}},createHref(w){return e(s,w)},createURL:_,encodeLocation(w){let v=_(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return o.go(w)}};return g}var CE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(CE||(CE={}));function b2(t,e,n){return n===void 0&&(n="/"),C2(t,e,n,!1)}function C2(t,e,n,r){let s=typeof e=="string"?Eo(e):e,i=a_(s.pathname||"/",n);if(i==null)return null;let o=kb(t);A2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=F2(i);a=V2(o[l],u,r)}return a}function kb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=si([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kb(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:M2(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Pb(i.path))s(i,o,l)}),e}function Pb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Pb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function A2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:L2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R2=/^:[\w-]+$/,k2=3,P2=2,N2=1,O2=10,D2=-2,AE=t=>t==="*";function M2(t,e){let n=t.split("/"),r=n.length;return n.some(AE)&&(r+=D2),e&&(r+=P2),n.filter(s=>!AE(s)).reduce((s,i)=>s+(R2.test(i)?k2:i===""?N2:O2),r)}function L2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function V2(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=RE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=RE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:si([i,d.pathname]),pathnameBase:z2(si([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=si([i,d.pathnameBase]))}return o}function RE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const _=a[d];return p&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function j2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),o_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function F2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return o_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function a_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Eo(t):t;return{pathname:n?n.startsWith("/")?n:U2(n,e):e,search:W2(r),hash:H2(s)}}function U2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function l_(t,e){let n=B2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function u_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Eo(t):(s=bu({},t),at(!s.pathname||!s.pathname.includes("?"),mm("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),mm("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),mm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=$2(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const si=t=>t.join("/").replace(/\/\/+/g,"/"),z2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function q2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nb=["post","put","patch","delete"];new Set(Nb);const K2=["get",...Nb];new Set(K2);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}const c_=y.createContext(null),G2=y.createContext(null),bi=y.createContext(null),zf=y.createContext(null),zr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Ob=y.createContext(null);function Q2(t,e){let{relative:n}=e===void 0?{}:e;Ja()||at(!1);let{basename:r,navigator:s}=y.useContext(bi),{hash:i,pathname:o,search:a}=Mb(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:si([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ja(){return y.useContext(zf)!=null}function Ci(){return Ja()||at(!1),y.useContext(zf).location}function Db(t){y.useContext(bi).static||y.useLayoutEffect(t)}function xo(){let{isDataRoute:t}=y.useContext(zr);return t?dj():Y2()}function Y2(){Ja()||at(!1);let t=y.useContext(c_),{basename:e,future:n,navigator:r}=y.useContext(bi),{matches:s}=y.useContext(zr),{pathname:i}=Ci(),o=JSON.stringify(l_(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return Db(()=>{a.current=!0}),y.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=u_(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:si([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,i,t])}const Z2=y.createContext(null);function X2(t){let e=y.useContext(zr).outlet;return e&&y.createElement(Z2.Provider,{value:t},e)}function J2(){let{matches:t}=y.useContext(zr),e=t[t.length-1];return e?e.params:{}}function Mb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(bi),{matches:s}=y.useContext(zr),{pathname:i}=Ci(),o=JSON.stringify(l_(s,r.v7_relativeSplatPath));return y.useMemo(()=>u_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function ej(t,e){return tj(t,e)}function tj(t,e,n,r){Ja()||at(!1);let{navigator:s}=y.useContext(bi),{matches:i}=y.useContext(zr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ci(),c;if(e){var d;let w=typeof e=="string"?Eo(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||at(!1),c=w}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=b2(t,{pathname:p}),g=oj(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:si([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:si([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&g?y.createElement(zf.Provider,{value:{location:Cu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Gs.Pop}},g):g}function nj(){let t=cj(),e=q2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const rj=y.createElement(nj,null);class sj extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(zr.Provider,{value:this.props.routeContext},y.createElement(Ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ij(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(c_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(zr.Provider,{value:e},r)}function oj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||at(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=n,_=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let p,_=!1,g=null,w=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||rj,l&&(u<0&&h===0?(_=!0,w=null):u===h&&(_=!0,w=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),m=()=>{let E;return p?E=g:_?E=w:d.route.Component?E=y.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=c,y.createElement(ij,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(sj,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Lb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Lb||{}),Rh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rh||{});function aj(t){let e=y.useContext(c_);return e||at(!1),e}function lj(t){let e=y.useContext(G2);return e||at(!1),e}function uj(t){let e=y.useContext(zr);return e||at(!1),e}function Vb(t){let e=uj(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function cj(){var t;let e=y.useContext(Ob),n=lj(Rh.UseRouteError),r=Vb(Rh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dj(){let{router:t}=aj(Lb.UseNavigateStable),e=Vb(Rh.UseNavigateStable),n=y.useRef(!1);return Db(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cu({fromRouteId:e},i)))},[t,e])}function kE(t){let{to:e,replace:n,state:r,relative:s}=t;Ja()||at(!1);let{future:i,static:o}=y.useContext(bi),{matches:a}=y.useContext(zr),{pathname:l}=Ci(),u=xo(),c=u_(e,l_(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return y.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function hj(t){return X2(t.context)}function mr(t){at(!1)}function fj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Gs.Pop,navigator:i,static:o=!1,future:a}=t;Ja()&&at(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Cu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Eo(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:_="default"}=r,g=y.useMemo(()=>{let w=a_(c,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:_},navigationType:s}},[l,c,d,h,p,_,s]);return g==null?null:y.createElement(bi.Provider,{value:u},y.createElement(zf.Provider,{children:n,value:g}))}function pj(t){let{children:e,location:n}=t;return ej(ry(e),n)}new Promise(()=>{});function ry(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,ry(r.props.children,i));return}r.type!==mr&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ry(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function mj(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function gj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yj(t,e){return t.button===0&&(!e||e==="_self")&&!gj(t)}const vj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_j="6";try{window.__reactRouterVersion=_j}catch{}const wj="startTransition",PE=n1[wj];function Ej(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=T2({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=y.useCallback(d=>{u&&PE?PE(()=>l(d)):l(d)},[l,u]);return y.useLayoutEffect(()=>o.listen(c),[o,c]),y.createElement(fj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const xj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Au=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=mj(e,vj),{basename:p}=y.useContext(bi),_,g=!1;if(typeof u=="string"&&Tj.test(u)&&(_=u,xj))try{let E=new URL(window.location.href),x=u.startsWith("//")?new URL(E.protocol+u):new URL(u),T=a_(x.pathname,p);x.origin===E.origin&&T!=null?u=T+x.search+x.hash:g=!0}catch{}let w=Q2(u,{relative:s}),v=Ij(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function m(E){r&&r(E),E.defaultPrevented||v(E)}return y.createElement("a",sy({},h,{href:_||w,onClick:g||i?r:m,ref:n,target:l}))});var NE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(NE||(NE={}));var OE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OE||(OE={}));function Ij(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=xo(),u=Ci(),c=Mb(t,{relative:o});return y.useCallback(d=>{if(yj(d,n)){d.preventDefault();let h=r!==void 0?r:Ah(u)===Ah(c);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,r,s,n,t,i,o,a])}var DE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Sj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new bj;const h=i<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cj=function(t){const e=jb(t);return Fb.encodeByteArray(e,!0)},kh=function(t){return Cj(t).replace(/\./g,"")},$b=function(t){try{return Fb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=()=>Aj().__FIREBASE_DEFAULTS__,kj=()=>{if(typeof process>"u"||typeof DE>"u")return;const t=DE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$b(t[1]);return e&&JSON.parse(e)},d_=()=>{try{return Rj()||kj()||Pj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ub=t=>{var e,n;return(n=(e=d_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bb=t=>{const e=Ub(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zb=()=>{var t;return(t=d_())===null||t===void 0?void 0:t.config},Wb=t=>{var e;return(e=d_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kh(JSON.stringify(n)),kh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Oj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Dj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Mj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lj(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Vj(){try{return typeof indexedDB=="object"}catch{return!1}}function jj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Fj,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$j(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Wr(s,a,r)}}function $j(t,e){return t.replace(Uj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Uj=/\{\$([^}]+)}/g;function Bj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ph(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ME(i)&&ME(o)){if(!Ph(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ME(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zj(t,e){const n=new Wj(t,e);return n.subscribe.bind(n)}class Wj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Hj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=gm),s.error===void 0&&(s.error=gm),s.complete===void 0&&(s.complete=gm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gj(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kj(t){return t===Li?void 0:t}function Gj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const Yj={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},Zj=Se.INFO,Xj={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},Jj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Xj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h_{constructor(e){this.name=e,this._logLevel=Zj,this._logHandler=Jj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const eF=(t,e)=>e.some(n=>t instanceof n);let LE,VE;function tF(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nF(){return VE||(VE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qb=new WeakMap,iy=new WeakMap,Kb=new WeakMap,ym=new WeakMap,f_=new WeakMap;function rF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ii(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qb.set(n,t)}).catch(()=>{}),f_.set(e,t),e}function sF(t){if(iy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});iy.set(t,e)}let oy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iF(t){oy=t(oy)}function oF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vm(this),e,...n);return Kb.set(r,e.sort?e.sort():[e]),ii(r)}:nF().includes(t)?function(...e){return t.apply(vm(this),e),ii(qb.get(this))}:function(...e){return ii(t.apply(vm(this),e))}}function aF(t){return typeof t=="function"?oF(t):(t instanceof IDBTransaction&&sF(t),eF(t,tF())?new Proxy(t,oy):t)}function ii(t){if(t instanceof IDBRequest)return rF(t);if(ym.has(t))return ym.get(t);const e=aF(t);return e!==t&&(ym.set(t,e),f_.set(e,t)),e}const vm=t=>f_.get(t);function lF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ii(o.result),l.oldVersion,l.newVersion,ii(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const uF=["get","getKey","getAll","getAllKeys","count"],cF=["put","add","delete","clear"],_m=new Map;function jE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=cF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return _m.set(e,i),i}iF(t=>({...t,get:(e,n,r)=>jE(e,n)||t.get(e,n,r),has:(e,n)=>!!jE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ay="@firebase/app",FE="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new h_("@firebase/app"),fF="@firebase/app-compat",pF="@firebase/analytics-compat",mF="@firebase/analytics",gF="@firebase/app-check-compat",yF="@firebase/app-check",vF="@firebase/auth",_F="@firebase/auth-compat",wF="@firebase/database",EF="@firebase/database-compat",xF="@firebase/functions",TF="@firebase/functions-compat",IF="@firebase/installations",SF="@firebase/installations-compat",bF="@firebase/messaging",CF="@firebase/messaging-compat",AF="@firebase/performance",RF="@firebase/performance-compat",kF="@firebase/remote-config",PF="@firebase/remote-config-compat",NF="@firebase/storage",OF="@firebase/storage-compat",DF="@firebase/firestore",MF="@firebase/firestore-compat",LF="firebase",VF="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="[DEFAULT]",jF={[ay]:"fire-core",[fF]:"fire-core-compat",[mF]:"fire-analytics",[pF]:"fire-analytics-compat",[yF]:"fire-app-check",[gF]:"fire-app-check-compat",[vF]:"fire-auth",[_F]:"fire-auth-compat",[wF]:"fire-rtdb",[EF]:"fire-rtdb-compat",[xF]:"fire-fn",[TF]:"fire-fn-compat",[IF]:"fire-iid",[SF]:"fire-iid-compat",[bF]:"fire-fcm",[CF]:"fire-fcm-compat",[AF]:"fire-perf",[RF]:"fire-perf-compat",[kF]:"fire-rc",[PF]:"fire-rc-compat",[NF]:"fire-gcs",[OF]:"fire-gcs-compat",[DF]:"fire-fst",[MF]:"fire-fst-compat","fire-js":"fire-js",[LF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,uy=new Map;function FF(t,e){try{t.container.addComponent(e)}catch(n){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ao(t){const e=t.name;if(uy.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;uy.set(e,t);for(const n of Nh.values())FF(n,t);return!0}function Wf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},oi=new vc("app","Firebase",$F);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=VF;function p_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ly,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw oi.create("bad-app-name",{appName:String(s)});if(n||(n=zb()),!n)throw oi.create("no-options");const i=Nh.get(s);if(i){if(Ph(n,i.options)&&Ph(r,i.config))return i;throw oi.create("duplicate-app",{appName:s})}const o=new Qj(s);for(const l of uy.values())o.addComponent(l);const a=new UF(n,r,o);return Nh.set(s,a),a}function m_(t=ly){const e=Nh.get(t);if(!e&&t===ly&&zb())return p_();if(!e)throw oi.create("no-app",{appName:t});return e}function kr(t,e,n){var r;let s=(r=jF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(a.join(" "));return}ao(new mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="firebase-heartbeat-database",zF=1,Ru="firebase-heartbeat-store";let wm=null;function Gb(){return wm||(wm=lF(BF,zF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ru)}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),wm}async function WF(t){try{return await(await Gb()).transaction(Ru).objectStore(Ru).get(Qb(t))}catch(e){if(e instanceof Wr)oo.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oo.warn(n.message)}}}async function $E(t,e){try{const r=(await Gb()).transaction(Ru,"readwrite");await r.objectStore(Ru).put(e,Qb(t)),await r.done}catch(n){if(n instanceof Wr)oo.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oo.warn(r.message)}}}function Qb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=1024,qF=30*24*60*60*1e3;class KF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=UE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=qF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=UE(),{heartbeatsToSend:r,unsentEntries:s}=GF(this._heartbeatsCache.heartbeats),i=kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function UE(){return new Date().toISOString().substring(0,10)}function GF(t,e=HF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),BE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),BE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vj()?jj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function BE(t){return kh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){ao(new mi("platform-logger",e=>new dF(e),"PRIVATE")),ao(new mi("heartbeat",e=>new KF(e),"PRIVATE")),kr(ay,FE,t),kr(ay,FE,"esm2017"),kr("fire-js","")}YF("");var Er=function(){return Er=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Er.apply(this,arguments)};function wc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ZF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XF=Yb,Zb=new vc("auth","Firebase",Yb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new h_("@firebase/auth");function JF(t,...e){Oh.logLevel<=Se.WARN&&Oh.warn(`Auth (${To}): ${t}`,...e)}function Bd(t,...e){Oh.logLevel<=Se.ERROR&&Oh.error(`Auth (${To}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw g_(t,...e)}function Pr(t,...e){return g_(t,...e)}function e$(t,e,n){const r=Object.assign(Object.assign({},XF()),{[e]:n});return new vc("auth","Firebase",r).create(e,{appName:t.name})}function g_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zb.create(t,...e)}function de(t,e,...n){if(!t)throw g_(e,...n)}function ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function fs(t,e){t||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function t$(){return zE()==="http:"||zE()==="https:"}function zE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t$()||Dj()||"connection"in navigator)?navigator.onLine:!0}function r$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=Oj()||Mj()}get(){return n$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e){fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=new Ec(3e4,6e4);function Io(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ai(t,e,n,r,s={}){return Jb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=_c(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Xb.fetch()(eC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Jb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},s$),e);try{const s=new a$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw e$(t,c,u);sr(t,c)}}catch(s){if(s instanceof Wr)throw s;sr(t,"network-request-failed",{message:String(s)})}}async function Hf(t,e,n,r,s={}){const i=await Ai(t,e,n,r,s);return"mfaPendingCredential"in i&&sr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function eC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?y_(t.config,s):`${t.config.apiScheme}://${s}`}function o$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),i$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pr(t,e,r);return s.customData._tokenResponse=n,s}function WE(t){return t!==void 0&&t.enterprise!==void 0}class l${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return o$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function u$(t,e){return Ai(t,"GET","/v2/recaptchaConfig",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e){return Ai(t,"POST","/v1/accounts:delete",e)}async function d$(t,e){return Ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h$(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=v_(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Yl(Em(s.auth_time)),issuedAtTime:Yl(Em(s.iat)),expirationTime:Yl(Em(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Em(t){return Number(t)*1e3}function v_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const s=$b(n);return s?JSON.parse(s):(Bd("Failed to decode base64 JWT payload"),null)}catch(s){return Bd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function f$(t){const e=v_(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&p$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function p$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ku(t,d$(n,{idToken:r}));de(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?v$(i.providerUserInfo):[],a=y$(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new tC(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function g$(t){const e=mt(t);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function v$(t){return t.map(e=>{var{providerId:n}=e,r=wc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t,e){const n=await Jb(t,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=eC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w$(t,e){return Ai(t,"POST","/v2/accounts:revokeToken",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await _$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Pu;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=wc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ku(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h$(this,e)}reload(){return g$(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ku(this,c$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:x,isAnonymous:T,providerData:b,stsTokenManager:C}=n;de(E&&C,e,"internal-error");const R=Pu.fromJSON(this.name,C);de(typeof E=="string",e,"internal-error"),As(d,e.name),As(h,e.name),de(typeof x=="boolean",e,"internal-error"),de(typeof T=="boolean",e,"internal-error"),As(p,e.name),As(_,e.name),As(g,e.name),As(w,e.name),As(v,e.name),As(m,e.name);const F=new Yi({uid:E,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:T,photoURL:_,phoneNumber:p,tenantId:g,stsTokenManager:R,createdAt:v,lastLoginAt:m});return b&&Array.isArray(b)&&(F.providerData=b.map(L=>Object.assign({},L))),w&&(F._redirectEventId=w),F}static async _fromIdTokenResponse(e,n,r=!1){const s=new Pu;s.updateFromServerResponse(n);const i=new Yi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Dh(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function ns(t){fs(t instanceof Function,"Expected a class definition");let e=HE.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nC.type="NONE";const qE=nC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t,e,n){return`firebase:${t}:${e}:${n}`}class ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=zd(this.userKey,s.apiKey,i),this.fullPersistenceKey=zd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ua(ns(qE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ns(qE);const o=zd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Yi._fromJSON(e,c);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ua(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ua(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aC(e))return"Blackberry";if(lC(e))return"Webos";if(__(e))return"Safari";if((e.includes("chrome/")||sC(e))&&!e.includes("edge/"))return"Chrome";if(oC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rC(t=Wt()){return/firefox\//i.test(t)}function __(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sC(t=Wt()){return/crios\//i.test(t)}function iC(t=Wt()){return/iemobile/i.test(t)}function oC(t=Wt()){return/android/i.test(t)}function aC(t=Wt()){return/blackberry/i.test(t)}function lC(t=Wt()){return/webos/i.test(t)}function qf(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function E$(t=Wt()){var e;return qf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x$(){return Lj()&&document.documentMode===10}function uC(t=Wt()){return qf(t)||oC(t)||lC(t)||aC(t)||/windows phone/i.test(t)||iC(t)}function T$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e=[]){let n;switch(t){case"Browser":n=KE(Wt());break;case"Worker":n=`${KE(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$(t,e={}){return Ai(t,"GET","/v2/passwordPolicy",Io(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=6;class C${constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:b$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GE(this),this.idTokenSubscription=new GE(this),this.beforeStateQueue=new I$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?mt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S$(this),n=new C$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await w$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await ua.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function el(t){return mt(t)}class GE{constructor(e){this.auth=e,this.observer=null,this.addObserver=zj(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function dC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Pr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",R$().appendChild(r)})}function k$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const P$="https://www.google.com/recaptcha/enterprise.js?render=",N$="recaptcha-enterprise",O$="NO_RECAPTCHA";class D${constructor(e){this.type=N$,this.auth=el(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{u$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new l$(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;WE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(O$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&WE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}dC(P$+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function QE(t,e,n,r=!1){const s=new D$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function YE(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await QE(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await QE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t,e){const n=Wf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ph(i,e??{}))return s;sr(s,"already-initialized")}return n.initialize({options:e})}function L$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function V$(t,e,n){const r=el(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=hC(e),{host:o,port:a}=j$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),F$()}function hC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j$(t){const e=hC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ZE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ZE(o)}}}function ZE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function $$(t,e){return Ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e){return Hf(t,"POST","/v1/accounts:signInWithPassword",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t,e){return Hf(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}async function z$(t,e){return Hf(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends w_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YE(e,n,"signInWithPassword",U$);case"emailLink":return B$(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YE(e,r,"signUpPassword",$$);case"emailLink":return z$(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e){return Hf(t,"POST","/v1/accounts:signInWithIdp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="http://localhost";class lo extends w_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=wc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new lo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){const e={requestUri:W$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q$(t){const e=kl(Pl(t)).link,n=e?kl(Pl(e)).deep_link_id:null,r=kl(Pl(t)).deep_link_id;return(r?kl(Pl(r)).link:null)||r||n||e||t}class E_{constructor(e){var n,r,s,i,o,a;const l=kl(Pl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=H$((s=l.mode)!==null&&s!==void 0?s:null);de(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=q$(e);try{return new E_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(e,n){return Nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=E_.parseLink(n);return de(r,"argument-error"),Nu._fromEmailAndCode(e,r.code,r.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends fC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends xc{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends xc{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends xc{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return js.credential(n,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Yi._fromIdTokenResponse(e,r,s),o=XE(r);return new Ma({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=XE(r);return new Ma({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function XE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Wr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Mh(e,n,r,s)}}function pC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,i,e,r):i})}async function K$(t,e,n=!1){const r=await ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await ku(t,pC(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=v_(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Ma._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(t,e,n=!1){const r="signIn",s=await pC(t,r,e),i=await Ma._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Q$(t,e){return mC(el(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y$(t){const e=el(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Z$(t,e,n){return Q$(mt(t),tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y$(t),r})}function X$(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function J$(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function e4(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function JE(t){return mt(t).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(){const t=Wt();return __(t)||qf(t)}const n4=1e3,r4=10;class yC extends gC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=t4()&&T$(),this.fallbackToPolling=uC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);x$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,r4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},n4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yC.type="LOCAL";const s4=yC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC extends gC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vC.type="SESSION";const _C=vC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await i4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=x_("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function a4(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function l4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function c4(){return wC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebaseLocalStorageDb",d4=1,Vh="firebaseLocalStorage",xC="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gf(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function h4(){const t=indexedDB.deleteDatabase(EC);return new Tc(t).toPromise()}function dy(){const t=indexedDB.open(EC,d4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vh,{keyPath:xC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await h4(),e(await dy()))})})}async function ex(t,e,n){const r=Gf(t,!0).put({[xC]:e,value:n});return new Tc(r).toPromise()}async function f4(t,e){const n=Gf(t,!1).get(e),r=await new Tc(n).toPromise();return r===void 0?null:r.value}function tx(t,e){const n=Gf(t,!0).delete(e);return new Tc(n).toPromise()}const p4=800,m4=3;class TC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>m4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(c4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await l4(),!this.activeServiceWorker)return;this.sender=new o4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dy();return await ex(e,Lh,"1"),await tx(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ex(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>f4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Gf(s,!1).getAll();return new Tc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TC.type="LOCAL";const g4=TC;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t,e){return e?ns(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends w_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v4(t){return mC(t.auth,new T_(t),t.bypassAuthState)}function _4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),G$(n,new T_(t),t.bypassAuthState)}async function w4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),K$(n,new T_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v4;case"linkViaPopup":case"linkViaRedirect":return w4;case"reauthViaPopup":case"reauthViaRedirect":return _4;default:sr(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Ec(2e3,1e4);class Xo extends IC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=x_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E4.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="pendingRedirect",Wd=new Map;class T4 extends IC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wd.get(this.auth._key());if(!e){try{const r=await I4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I4(t,e){const n=C4(e),r=b4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function S4(t,e){Wd.set(t._key(),e)}function b4(t){return ns(t._redirectPersistence)}function C4(t){return zd(x4,t.config.apiKey,t.name)}async function A4(t,e,n=!1){const r=el(t),s=y4(r,e),o=await new T4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=10*60*1e3;class k4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R4&&this.cachedEventUids.clear(),this.cachedEventUids.has(nx(e))}saveEventToCache(e){this.cachedEventUids.add(nx(e)),this.lastProcessedEventTime=Date.now()}}function nx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e={}){return Ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D4=/^https?/;async function M4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N4(t);for(const n of e)try{if(L4(n))return}catch{}sr(t,"unauthorized-domain")}function L4(t){const e=cy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!D4.test(n))return!1;if(O4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new Ec(3e4,6e4);function rx(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j4(t){return new Promise((e,n)=>{var r,s,i;function o(){rx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rx(),n(Pr(t,"network-request-failed"))},timeout:V4.get()})}if(!((s=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Nr().gapi)===null||i===void 0)&&i.load)o();else{const a=k$("iframefcb");return Nr()[a]=()=>{gapi.load?o():n(Pr(t,"network-request-failed"))},dC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function F4(t){return Hd=Hd||j4(t),Hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new Ec(5e3,15e3),U4="__/auth/iframe",B4="emulator/auth/iframe",z4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H4(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y_(e,B4):`https://${t.config.authDomain}/${U4}`,r={apiKey:e.apiKey,appName:t.name,v:To},s=W4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_c(r).slice(1)}`}async function q4(t){const e=await F4(t),n=Nr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:H4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Pr(t,"network-request-failed"),a=Nr().setTimeout(()=>{i(o)},$4.get());function l(){Nr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G4=500,Q4=600,Y4="_blank",Z4="http://localhost";class sx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X4(t,e,n,r=G4,s=Q4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},K4),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Wt().toLowerCase();n&&(a=sC(u)?Y4:n),rC(u)&&(e=e||Z4,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,_])=>`${h}${p}=${_},`,"");if(E$(u)&&a!=="_self")return J4(e||"",a),new sx(null);const d=window.open(e||"",a,c);de(d,t,"popup-blocked");try{d.focus()}catch{}return new sx(d)}function J4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="__/auth/handler",tU="emulator/auth/handler",nU=encodeURIComponent("fac");async function ix(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:To,eventId:s};if(e instanceof fC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Bj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof xc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${nU}=${encodeURIComponent(l)}`:"";return`${rU(t)}?${_c(a).slice(1)}${u}`}function rU({config:t}){return t.emulator?y_(t,tU):`https://${t.authDomain}/${eU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class sU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_C,this._completeRedirectFn=A4,this._overrideRedirectResult=S4}async _openPopup(e,n,r,s){var i;fs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ix(e,n,r,cy(),s);return X4(e,o,x_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ix(e,n,r,cy(),s);return a4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(fs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await q4(e),r=new k4(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[xm];o!==void 0&&n(!!o),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uC()||__()||qf()}}const iU=sU;var ox="@firebase/auth",ax="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function lU(t){ao(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(t)},u=new A$(r,s,i,l);return L$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ao(new mi("auth-internal",e=>{const n=el(e.getProvider("auth").getImmediate());return(r=>new oU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(ox,ax,aU(t)),kr(ox,ax,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=5*60,cU=Wb("authIdTokenMaxAge")||uU;let lx=null;const dU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cU)return;const s=n==null?void 0:n.token;lx!==s&&(lx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bC(t=m_()){const e=Wf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M$(t,{popupRedirectResolver:iU,persistence:[g4,s4,_C]}),r=Wb("authTokenSyncURL");if(r){const i=dU(r);J$(n,i,()=>i(n.currentUser)),X$(n,o=>i(o))}const s=Ub("auth");return s&&V$(n,`http://${s}`),n}lU("Browser");var hU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,I_=I_||{},fe=hU||self;function Qf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Yf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fU(t){return Object.prototype.hasOwnProperty.call(t,Tm)&&t[Tm]||(t[Tm]=++pU)}var Tm="closure_uid_"+(1e9*Math.random()>>>0),pU=0;function mU(t,e,n){return t.call.apply(t.bind,arguments)}function gU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function $t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$t=mU:$t=gU,$t.apply(null,arguments)}function fd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Tt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Ri(){this.s=this.s,this.o=this.o}var yU=0;Ri.prototype.s=!1;Ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),yU!=0)&&fU(this)};Ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function S_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ux(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var vU=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};fe.addEventListener("test",n,e),fe.removeEventListener("test",n,e)}catch{}return t}();function Ou(t){return/^[\s\xa0]*$/.test(t)}function Zf(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function xr(t){return Zf().indexOf(t)!=-1}function b_(t){return b_[" "](t),t}b_[" "]=function(){};function _U(t,e){var n=h3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var wU=xr("Opera"),La=xr("Trident")||xr("MSIE"),AC=xr("Edge"),hy=AC||La,RC=xr("Gecko")&&!(Zf().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),EU=Zf().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge");function kC(){var t=fe.document;return t?t.documentMode:void 0}var fy;e:{var Im="",Sm=function(){var t=Zf();if(RC)return/rv:([^\);]+)(\)|;)/.exec(t);if(AC)return/Edge\/([\d\.]+)/.exec(t);if(La)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(EU)return/WebKit\/(\S+)/.exec(t);if(wU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Sm&&(Im=Sm?Sm[1]:""),La){var bm=kC();if(bm!=null&&bm>parseFloat(Im)){fy=String(bm);break e}}fy=Im}var py;if(fe.document&&La){var cx=kC();py=cx||parseInt(fy,10)||void 0}else py=void 0;var xU=py;function Du(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(RC){e:{try{b_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:TU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Du.$.h.call(this)}}Tt(Du,Ut);var TU={2:"touch",3:"pen",4:"mouse"};Du.prototype.h=function(){Du.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xf="closure_listenable_"+(1e6*Math.random()|0),IU=0;function SU(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++IU,this.fa=this.ia=!1}function Jf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function C_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function bU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function PC(t){const e={};for(const n in t)e[n]=t[n];return e}const dx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NC(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<dx.length;i++)n=dx[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ep(t){this.src=t,this.g={},this.h=0}ep.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=gy(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new SU(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function my(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=CC(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Jf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gy(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var A_="closure_lm_"+(1e6*Math.random()|0),Cm={};function OC(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)OC(t,e[i],n,r,s);return null}return n=LC(n),t&&t[Xf]?t.O(e,n,Yf(r)?!!r.capture:!!r,s):CU(t,e,n,!1,r,s)}function CU(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Yf(s)?!!s.capture:!!s,a=k_(t);if(a||(t[A_]=a=new ep(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=AU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vU||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(MC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AU(){function t(n){return e.call(t.src,t.listener,n)}const e=RU;return t}function DC(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)DC(t,e[i],n,r,s);else r=Yf(r)?!!r.capture:!!r,n=LC(n),t&&t[Xf]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=gy(i,n,r,s),-1<n&&(Jf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=k_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gy(e,n,r,s)),(n=-1<t?e[t]:null)&&R_(n))}function R_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Xf])my(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(MC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=k_(e))?(my(n,t),n.h==0&&(n.src=null,e[A_]=null)):Jf(t)}}}function MC(t){return t in Cm?Cm[t]:Cm[t]="on"+t}function RU(t,e){if(t.fa)t=!0;else{e=new Du(e,this);var n=t.listener,r=t.la||t.src;t.ia&&R_(t),t=n.call(r,e)}return t}function k_(t){return t=t[A_],t instanceof ep?t:null}var Am="__closure_events_fn_"+(1e9*Math.random()>>>0);function LC(t){return typeof t=="function"?t:(t[Am]||(t[Am]=function(e){return t.handleEvent(e)}),t[Am])}function xt(){Ri.call(this),this.i=new ep(this),this.S=this,this.J=null}Tt(xt,Ri);xt.prototype[Xf]=!0;xt.prototype.removeEventListener=function(t,e,n,r){DC(this,t,e,n,r)};function Rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var s=e;e=new Ut(r,t),NC(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=pd(o,r,!0,e)&&s}if(o=e.g=t,s=pd(o,r,!0,e)&&s,s=pd(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=pd(o,r,!1,e)&&s}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jf(n[r]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function pd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&my(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var P_=fe.JSON.stringify;class kU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function PU(){var t=N_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class NU{constructor(){this.h=this.g=null}add(e,n){const r=VC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var VC=new kU(()=>new OU,t=>t.reset());class OU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function DU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function MU(t){fe.setTimeout(()=>{throw t},0)}let Mu,Lu=!1,N_=new NU,jC=()=>{const t=fe.Promise.resolve(void 0);Mu=()=>{t.then(LU)}};var LU=()=>{for(var t;t=PU();){try{t.h.call(t.g)}catch(n){MU(n)}var e=VC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lu=!1};function tp(t,e){xt.call(this),this.h=t||1,this.g=e||fe,this.j=$t(this.qb,this),this.l=Date.now()}Tt(tp,xt);H=tp.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rt(this,"tick"),this.ga&&(O_(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function O_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){tp.$.N.call(this),O_(this),delete this.g};function D_(t,e,n){if(typeof t=="function")n&&(t=$t(t,n));else if(t&&typeof t.handleEvent=="function")t=$t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function FC(t){t.g=D_(()=>{t.g=null,t.i&&(t.i=!1,FC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class VU extends Ri{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:FC(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vu(t){Ri.call(this),this.h=t,this.g={}}Tt(Vu,Ri);var hx=[];function $C(t,e,n,r){Array.isArray(n)||(n&&(hx[0]=n.toString()),n=hx);for(var s=0;s<n.length;s++){var i=OC(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function UC(t){C_(t.g,function(e,n){this.g.hasOwnProperty(n)&&R_(e)},t),t.g={}}Vu.prototype.N=function(){Vu.$.N.call(this),UC(this)};Vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function np(){this.g=!0}np.prototype.Ea=function(){this.g=!1};function jU(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function FU(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Jo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+UU(t,n)+(r?" "+r:"")})}function $U(t,e){t.info(function(){return"TIMEOUT: "+e})}np.prototype.info=function(){};function UU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return P_(n)}catch{return e}}var So={},fx=null;function rp(){return fx=fx||new xt}So.Ta="serverreachability";function BC(t){Ut.call(this,So.Ta,t)}Tt(BC,Ut);function ju(t){const e=rp();Rt(e,new BC(e))}So.STAT_EVENT="statevent";function zC(t,e){Ut.call(this,So.STAT_EVENT,t),this.stat=e}Tt(zC,Ut);function Xt(t){const e=rp();Rt(e,new zC(e,t))}So.Ua="timingevent";function WC(t,e){Ut.call(this,So.Ua,t),this.size=e}Tt(WC,Ut);function Ic(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var sp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function M_(){}M_.prototype.h=null;function px(t){return t.h||(t.h=t.i())}function qC(){}var Sc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function L_(){Ut.call(this,"d")}Tt(L_,Ut);function V_(){Ut.call(this,"c")}Tt(V_,Ut);var yy;function ip(){}Tt(ip,M_);ip.prototype.g=function(){return new XMLHttpRequest};ip.prototype.i=function(){return{}};yy=new ip;function bc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vu(this),this.P=BU,t=hy?125:void 0,this.V=new tp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new KC}function KC(){this.i=null,this.g="",this.h=!1}var BU=45e3,GC={},vy={};H=bc.prototype;H.setTimeout=function(t){this.P=t};function _y(t,e,n){t.L=1,t.A=ap(ps(e)),t.u=n,t.S=!0,QC(t,null)}function QC(t,e){t.G=Date.now(),Cc(t),t.B=ps(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),rA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new KC,t.g=IA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new VU($t(t.Pa,t,t.g),t.O)),$C(t.U,t.g,"readystatechange",t.nb),e=t.I?PC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ju(),jU(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&Sr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const c=Sr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||hy||this.g&&(this.h.h||this.g.ja()||vx(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ju(3):ju(2)),op(this);var n=this.g.da();this.ca=n;t:if(YC(this)){var r=vx(this.g);t="";var s=r.length,i=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$i(this),Zl(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,FU(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ou(a)){var u=a;break t}}u=null}if(n=u)Jo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wy(this,n);else{this.i=!1,this.s=3,Xt(12),$i(this),Zl(this);break e}}this.S?(ZC(this,c,o),hy&&this.i&&c==3&&($C(this.U,this.V,"tick",this.mb),this.V.start())):(Jo(this.j,this.m,o,null),wy(this,o)),c==4&&$i(this),this.i&&!this.J&&(c==4?wA(this.l,this):(this.i=!1,Cc(this)))}else u3(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),$i(this),Zl(this)}}}catch{}finally{}};function YC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ZC(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=zU(t,n),s==vy){e==4&&(t.s=4,Xt(14),r=!1),Jo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==GC){t.s=4,Xt(15),Jo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Jo(t.j,t.m,s,null),wy(t,s);YC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),z_(e),e.M=!0,Xt(11))):(Jo(t.j,t.m,n,"[Invalid Chunked Response]"),$i(t),Zl(t))}H.mb=function(){if(this.g){var t=Sr(this.g),e=this.g.ja();this.o<e.length&&(op(this),ZC(this,t,e),this.i&&t!=4&&Cc(this))}};function zU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?vy:(n=Number(e.substring(n,r)),isNaN(n)?GC:(r+=1,r+n>e.length?vy:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,$i(this)};function Cc(t){t.Y=Date.now()+t.P,XC(t,t.P)}function XC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ic($t(t.lb,t),e)}function op(t){t.C&&(fe.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?($U(this.j,this.B),this.L!=2&&(ju(),Xt(17)),$i(this),this.s=2,Zl(this)):XC(this,this.Y-t)};function Zl(t){t.l.H==0||t.J||wA(t.l,t)}function $i(t){op(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,O_(t.V),UC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function wy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ey(n.i,t))){if(!t.K&&Ey(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)$h(n),dp(n);else break e;B_(n),Xt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ic($t(n.ib,n),6e3));if(1>=oA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ui(n,11)}else if((t.K||n.g==t)&&$h(n),!Ou(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(j_(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=TA(r,r.J?r.pa:null,r.Y),o.K){aA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(op(a),Cc(a)),r.g=o}else vA(r);0<n.j.length&&hp(n)}else u[0]!="stop"&&u[0]!="close"||Ui(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ui(n,7):U_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ju(4)}catch{}}function WU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function HU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function JC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=HU(t),r=WU(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var eA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Zi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zi){this.h=t.h,jh(this,t.j),this.s=t.s,this.g=t.g,Fh(this,t.m),this.l=t.l;var e=t.i,n=new Fu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mx(this,n),this.o=t.o}else t&&(e=String(t).match(eA))?(this.h=!1,jh(this,e[1]||"",!0),this.s=Nl(e[2]||""),this.g=Nl(e[3]||"",!0),Fh(this,e[4]),this.l=Nl(e[5]||"",!0),mx(this,e[6]||"",!0),this.o=Nl(e[7]||"")):(this.h=!1,this.i=new Fu(null,this.h))}Zi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ol(e,gx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ol(e,gx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ol(n,n.charAt(0)=="/"?QU:GU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ol(n,ZU)),t.join("")};function ps(t){return new Zi(t)}function jh(t,e,n){t.j=n?Nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mx(t,e,n){e instanceof Fu?(t.i=e,XU(t.i,t.h)):(n||(e=Ol(e,YU)),t.i=new Fu(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function ap(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ol(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,KU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function KU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var gx=/[#\/\?@]/g,GU=/[#\?:]/g,QU=/[#\?]/g,YU=/[#\?@]/g,ZU=/#/g;function Fu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ki(t){t.g||(t.g=new Map,t.h=0,t.i&&qU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=Fu.prototype;H.add=function(t,e){ki(this),this.i=null,t=nl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tA(t,e){ki(t),e=nl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nA(t,e){return ki(t),e=nl(t,e),t.g.has(e)}H.forEach=function(t,e){ki(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};H.ta=function(){ki(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};H.Z=function(t){ki(this);let e=[];if(typeof t=="string")nA(this,t)&&(e=e.concat(this.g.get(nl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return ki(this),this.i=null,t=nl(this,t),nA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rA(t,e,n){tA(t,e),0<n.length&&(t.i=null,t.g.set(nl(t,e),S_(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function nl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function XU(t,e){e&&!t.j&&(ki(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(tA(this,r),rA(this,s,n))},t)),t.j=e}var JU=class{constructor(t,e){this.g=t,this.map=e}};function sA(t){this.l=t||e3,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var e3=10;function iA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oA(t){return t.h?1:t.g?t.g.size:0}function Ey(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function j_(t,e){t.g?t.g.add(e):t.h=e}function aA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sA.prototype.cancel=function(){if(this.i=lA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function lA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return S_(t.i)}var t3=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function n3(){this.g=new t3}function r3(t,e,n){const r=n||"";try{JC(t,function(s,i){let o=s;Yf(s)&&(o=P_(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function s3(t,e){const n=new np;if(fe.Image){const r=new Image;r.onload=fd(md,n,r,"TestLoadImage: loaded",!0,e),r.onerror=fd(md,n,r,"TestLoadImage: error",!1,e),r.onabort=fd(md,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=fd(md,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function md(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function lp(t){this.l=t.ec||null,this.j=t.ob||!1}Tt(lp,M_);lp.prototype.g=function(){return new up(this.l,this.j)};lp.prototype.i=function(t){return function(){return t}}({});function up(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=F_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tt(up,xt);var F_=0;H=up.prototype;H.open=function(t,e){if(this.readyState!=F_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$u(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ac(this)),this.readyState=F_};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$u(this)),this.g&&(this.readyState=3,$u(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function uA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ac(this):$u(this),this.readyState==3&&uA(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,Ac(this))};H.Ya=function(t){this.g&&(this.response=t,Ac(this))};H.ka=function(){this.g&&Ac(this)};function Ac(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$u(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function $u(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(up.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var i3=fe.JSON.parse;function it(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cA,this.L=this.M=!1}Tt(it,xt);var cA="",o3=/^https?$/i,a3=["POST","PUT"];H=it.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yy.g(),this.C=this.u?px(this.u):px(yy),this.g.onreadystatechange=$t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){yx(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=fe.FormData&&t instanceof fe.FormData,!(0<=CC(a3,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fA(this),0<this.B&&((this.L=l3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$t(this.ua,this)):this.A=D_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){yx(this,i)}};function l3(t){return La&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof I_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))};function yx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dA(t),cp(t)}function dA(t){t.F||(t.F=!0,Rt(t,"complete"),Rt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),cp(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cp(this,!0)),it.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?hA(this):this.kb())};H.kb=function(){hA(this)};function hA(t){if(t.h&&typeof I_<"u"&&(!t.C[1]||Sr(t)!=4||t.da()!=2)){if(t.v&&Sr(t)==4)D_(t.La,0,t);else if(Rt(t,"readystatechange"),Sr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(eA)[1]||null;!s&&fe.self&&fe.self.location&&(s=fe.self.location.protocol.slice(0,-1)),r=!o3.test(s?s.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var i=2<Sr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",dA(t)}}finally{cp(t)}}}}function cp(t,e){if(t.g){fA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function fA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function Sr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),i3(e)}};function vx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function u3(t){const e={};t=(t.g&&2<=Sr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ou(t[r]))continue;var n=DU(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}bU(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pA(t){let e="";return C_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function El(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mA(t){this.Ga=0,this.j=[],this.l=new np,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=El("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=El("baseRetryDelayMs",5e3,t),this.hb=El("retryDelaySeedMs",1e4,t),this.eb=El("forwardChannelMaxRetries",2,t),this.xa=El("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sA(t&&t.concurrentRequestLimit),this.Ja=new n3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=mA.prototype;H.ra=8;H.H=1;function U_(t){if(gA(t),t.H==3){var e=t.W++,n=ps(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),Rc(t,n),e=new bc(t,t.l,e),e.L=2,e.A=ap(ps(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.A,n=!0),n||(e.g=IA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Cc(e)}xA(t)}function dp(t){t.g&&(z_(t),t.g.cancel(),t.g=null)}function gA(t){dp(t),t.u&&(fe.clearTimeout(t.u),t.u=null),$h(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function hp(t){if(!iA(t.i)&&!t.m){t.m=!0;var e=t.Na;Mu||jC(),Lu||(Mu(),Lu=!0),N_.add(e,t),t.C=0}}function c3(t,e){return oA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ic($t(t.Na,t,e),EA(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new bc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=PC(i),NC(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yA(this,s,e),n=ps(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),Rc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(pA(i)))+"&"+e:this.o&&$_(n,this.o,i)),j_(this.i,s),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),s.aa=!0,_y(s,n,null)):_y(s,n,e),this.H=2}}else this.H==3&&(t?_x(this,t):this.j.length==0||iA(this.i)||_x(this))};function _x(t,e){var n;e?n=e.m:n=t.W++;const r=ps(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),Rc(t,r),t.o&&t.s&&$_(r,t.o,t.s),n=new bc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=yA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),j_(t.i,n),_y(n,r,e)}function Rc(t,e){t.na&&C_(t.na,function(n,r){qe(e,r,n)}),t.h&&JC({},function(n,r){qe(e,r,n)})}function yA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$t(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const c=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{r3(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function vA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Mu||jC(),Lu||(Mu(),Lu=!0),N_.add(e,t),t.A=0}}function B_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ic($t(t.Ma,t),EA(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,_A(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ic($t(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xt(10),dp(this),_A(this))};function z_(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function _A(t){t.g=new bc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ps(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),Rc(t,e),t.o&&t.s&&$_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ap(ps(e)),n.u=null,n.S=!0,QC(n,t)}H.ib=function(){this.v!=null&&(this.v=null,dp(this),B_(this),Xt(19))};function $h(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function wA(t,e){var n=null;if(t.g==e){$h(t),z_(t),t.g=null;var r=2}else if(Ey(t.i,e))n=e.F,aA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=rp(),Rt(r,new WC(r,n)),hp(t)}else vA(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&c3(t,e)||r==2&&B_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ui(t,5);break;case 4:Ui(t,10);break;case 3:Ui(t,6);break;default:Ui(t,2)}}}function EA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ui(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$t(t.pb,t);n||(n=new Zi("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||jh(n,"https"),ap(n)),s3(n.toString(),r)}else Xt(2);t.H=0,t.h&&t.h.za(e),xA(t),gA(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xt(2)):(this.l.info("Failed to ping google.com"),Xt(1))};function xA(t){if(t.H=0,t.ma=[],t.h){const e=lA(t.i);(e.length!=0||t.j.length!=0)&&(ux(t.ma,e),ux(t.ma,t.j),t.i.i.length=0,S_(t.j),t.j.length=0),t.h.ya()}}function TA(t,e,n){var r=n instanceof Zi?ps(n):new Zi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Fh(r,r.m);else{var s=fe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Zi(null);r&&jh(i,r),e&&(i.g=e),s&&Fh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),Rc(t,r),r}function IA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new it(new lp({ob:n})):new it(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function SA(){}H=SA.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function Uh(){if(La&&!(10<=Number(xU)))throw Error("Environmental error: no available transport.")}Uh.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){xt.call(this),this.g=new mA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ou(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ou(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new rl(this)}Tt(bn,xt);bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=TA(t,null,t.Y),hp(t)};bn.prototype.close=function(){U_(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=P_(t),t=n);e.j.push(new JU(e.fb++,t)),e.H==3&&hp(e)};bn.prototype.N=function(){this.g.h=null,delete this.j,U_(this.g),delete this.g,bn.$.N.call(this)};function bA(t){L_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Tt(bA,L_);function CA(){V_.call(this),this.status=1}Tt(CA,V_);function rl(t){this.g=t}Tt(rl,SA);rl.prototype.Ba=function(){Rt(this.g,"a")};rl.prototype.Aa=function(t){Rt(this.g,new bA(t))};rl.prototype.za=function(t){Rt(this.g,new CA)};rl.prototype.ya=function(){Rt(this.g,"b")};function d3(){this.blockSize=-1}function ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Tt(ir,d3);ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Rm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}ir.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Rm(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Rm(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Rm(this,r),s=0;break}}this.h=s,this.i+=e};ir.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Le(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var h3={};function W_(t){return-128<=t&&128>t?_U(t,function(e){return new Le([e|0],0>e?-1:0)}):new Le([t|0],0>t?-1:0)}function br(t){if(isNaN(t)||!isFinite(t))return da;if(0>t)return bt(br(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=xy;return new Le(e,0)}function AA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return bt(AA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=br(Math.pow(e,8)),r=da,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=br(Math.pow(e,i)),r=r.R(i).add(br(o))):(r=r.R(n),r=r.add(br(o)))}return r}var xy=4294967296,da=W_(0),Ty=W_(1),wx=W_(16777216);H=Le.prototype;H.ea=function(){if(Dn(this))return-bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:xy+r)*e,e*=xy}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(rs(this))return"0";if(Dn(this))return"-"+bt(this).toString(t);for(var e=br(Math.pow(t,6)),n=this,r="";;){var s=zh(n,e).g;n=Bh(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,rs(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function rs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Dn(t){return t.h==-1}H.X=function(t){return t=Bh(this,t),Dn(t)?-1:rs(t)?0:1};function bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Le(n,~t.h).add(Ty)}H.abs=function(){return Dn(this)?bt(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Le(n,n[n.length-1]&-2147483648?-1:0)};function Bh(t,e){return t.add(bt(e))}H.R=function(t){if(rs(this)||rs(t))return da;if(Dn(this))return Dn(t)?bt(this).R(bt(t)):bt(bt(this).R(t));if(Dn(t))return bt(this.R(bt(t)));if(0>this.X(wx)&&0>t.X(wx))return br(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,gd(n,2*r+2*s),n[2*r+2*s+1]+=i*l,gd(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,gd(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,gd(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Le(n,0)};function gd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xl(t,e){this.g=t,this.h=e}function zh(t,e){if(rs(e))throw Error("division by zero");if(rs(t))return new xl(da,da);if(Dn(t))return e=zh(bt(t),e),new xl(bt(e.g),bt(e.h));if(Dn(e))return e=zh(t,bt(e)),new xl(bt(e.g),e.h);if(30<t.g.length){if(Dn(t)||Dn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ty,r=e;0>=r.X(t);)n=Ex(n),r=Ex(r);var s=Po(n,1),i=Po(r,1);for(r=Po(r,2),n=Po(n,2);!rs(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Po(r,1),n=Po(n,1)}return e=Bh(t,s.R(e)),new xl(s,e)}for(s=da;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=br(n),o=i.R(e);Dn(o)||0<o.X(t);)n-=r,i=br(n),o=i.R(e);rs(i)&&(i=Ty),s=s.add(i),t=Bh(t,o)}return new xl(s,t)}H.gb=function(t){return zh(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Le(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Le(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Le(n,this.h^t.h)};function Ex(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Le(n,t.h)}function Po(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Le(s,t.h)}Uh.prototype.createWebChannel=Uh.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;sp.NO_ERROR=0;sp.TIMEOUT=8;sp.HTTP_ERROR=6;HC.COMPLETE="complete";qC.EventType=Sc;Sc.OPEN="a";Sc.CLOSE="b";Sc.ERROR="c";Sc.MESSAGE="d";xt.prototype.listen=xt.prototype.O;it.prototype.listenOnce=it.prototype.P;it.prototype.getLastError=it.prototype.Sa;it.prototype.getLastErrorCode=it.prototype.Ia;it.prototype.getStatus=it.prototype.da;it.prototype.getResponseJson=it.prototype.Wa;it.prototype.getResponseText=it.prototype.ja;it.prototype.send=it.prototype.ha;it.prototype.setWithCredentials=it.prototype.Oa;ir.prototype.digest=ir.prototype.l;ir.prototype.reset=ir.prototype.reset;ir.prototype.update=ir.prototype.j;Le.prototype.add=Le.prototype.add;Le.prototype.multiply=Le.prototype.R;Le.prototype.modulo=Le.prototype.gb;Le.prototype.compare=Le.prototype.X;Le.prototype.toNumber=Le.prototype.ea;Le.prototype.toString=Le.prototype.toString;Le.prototype.getBits=Le.prototype.D;Le.fromNumber=br;Le.fromString=AA;var f3=function(){return new Uh},p3=function(){return rp()},km=sp,m3=HC,g3=So,xx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yd=qC,y3=it,v3=ir,ha=Le;const Tx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new h_("@firebase/firestore");function Tl(){return uo.logLevel}function te(t,...e){if(uo.logLevel<=Se.DEBUG){const n=e.map(H_);uo.debug(`Firestore (${sl}): ${t}`,...n)}}function ms(t,...e){if(uo.logLevel<=Se.ERROR){const n=e.map(H_);uo.error(`Firestore (${sl}): ${t}`,...n)}}function Va(t,...e){if(uo.logLevel<=Se.WARN){const n=e.map(H_);uo.warn(`Firestore (${sl}): ${t}`,...n)}}function H_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+t;throw ms(e),new Error(e)}function Ue(t,e){t||he()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class w3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class E3{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new RA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Vt(e)}}class x3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class T3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new x3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new I3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=b3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function ja(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new pt(0,0))}static max(){return new pe(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends Uu{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const C3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Uu{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return C3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ke.fromString(e))}static fromName(e){return new ie(Ke.fromString(e).popFirst(5))}static empty(){return new ie(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ke(e.slice()))}}function A3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new gi(s,ie.empty(),e)}function R3(t){return new gi(t.readTime,t.key,-1)}class gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gi(pe.min(),ie.empty(),-1)}static max(){return new gi(pe.max(),ie.empty(),-1)}}function k3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==P3)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Pc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}q_._e=-1;function fp(t){return t==null}function Wh(t){return t===0&&1/t==-1/0}function O3(t){return typeof t=="number"&&Number.isInteger(t)&&!Wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sx(this.data.getIterator())}getIteratorFrom(e){return new Sx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class Sx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new wn([])}unionWith(e){let n=new kt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NA("Invalid base64 string: "+i):i}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const D3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=D3.exec(t);if(Ue(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function G_(t){const e=t.mapValue.fields.__previous_value__;return K_(e)?G_(e):e}function Bu(t){const e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?K_(t)?4:L3(t)?9007199254740991:10:he()}function jr(t,e){if(t===e)return!0;const n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=yi(s.timestampValue),a=yi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return co(s.bytesValue).isEqual(co(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ct(s.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ct(s.integerValue)===ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ct(s.doubleValue),a=ct(i.doubleValue);return o===a?Wh(o)===Wh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ja(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Ix(o)!==Ix(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!jr(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function Wu(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function Fa(t,e){if(t===e)return 0;const n=ho(t),r=ho(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ct(i.integerValue||i.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return bx(t.timestampValue,e.timestampValue);case 4:return bx(Bu(t),Bu(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(i,o){const a=co(i),l=co(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ne(a[u],l[u]);if(c!==0)return c}return Ne(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ne(ct(i.latitude),ct(o.latitude));return a!==0?a:Ne(ct(i.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Fa(a[u],l[u]);if(c)return c}return Ne(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===_d.mapValue&&o===_d.mapValue)return 0;if(i===_d.mapValue)return 1;if(o===_d.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ne(l[d],c[d]);if(h!==0)return h;const p=Fa(a[l[d]],u[c[d]]);if(p!==0)return p}return Ne(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function bx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=yi(t),r=yi(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function $a(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Iy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Iy(n.fields[o])}`;return s+"}"}(t.mapValue):he()}function Cx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function Q_(t){return!!t&&"arrayValue"in t}function Ax(t){return!!t&&"nullValue"in t}function Rx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function Xl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function L3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Xl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){bo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new un(Xl(this.value))}}function OA(t){const e=[];return bo(t.fields,(n,r)=>{const s=new Ct([n]);if(qd(r)){const i=OA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,pe.min(),pe.min(),pe.min(),un.empty(),0)}static newFoundDocument(e,n,r,s){return new Ft(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Ft(e,2,n,pe.min(),pe.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,pe.min(),pe.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function kx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Fa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Px(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function V3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{}class ft extends DA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F3(e,n,r):n==="array-contains"?new B3(e,r):n==="in"?new z3(e,r):n==="not-in"?new W3(e,r):n==="array-contains-any"?new H3(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $3(e,r):new U3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fa(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends DA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new or(e,n)}matches(e){return MA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function MA(t){return t.op==="and"}function LA(t){return j3(t)&&MA(t)}function j3(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function by(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+$a(t.value);if(LA(t))return t.filters.map(e=>by(e)).join(",");{const e=t.filters.map(n=>by(n)).join(",");return`${t.op}(${e})`}}function VA(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&jr(r.value,s.value)}(t,e):t instanceof or?function(r,s){return s instanceof or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&VA(o,s.filters[a]),!0):!1}(t,e):void he()}function jA(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(t):t instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(jA).join(" ,")+"}"}(t):"Filter"}class F3 extends ft{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class $3 extends ft{constructor(e,n){super(e,"in",n),this.keys=FA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U3 extends ft{constructor(e,n){super(e,"not-in",n),this.keys=FA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class B3 extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Q_(n)&&Wu(n.arrayValue,this.value)}}class z3 extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class W3 extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wu(this.value.arrayValue,n)}}class H3 extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Q_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Nx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new q3(t,e,n,r,s,i,o)}function Y_(t){const e=ge(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>by(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),e.ce=n}return e.ce}function Z_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Px(t.startAt,e.startAt)&&Px(t.endAt,e.endAt)}function Cy(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function K3(t,e,n,r,s,i,o,a){return new il(t,e,n,r,s,i,o,a)}function pp(t){return new il(t)}function Ox(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $A(t){return t.collectionGroup!==null}function Jl(t){const e=ge(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Hu(i,r))}),n.has(Ct.keyField().canonicalString())||e.le.push(new Hu(Ct.keyField(),r))}return e.le}function Or(t){const e=ge(t);return e.he||(e.he=G3(e,Jl(t))),e.he}function G3(t,e){if(t.limitType==="F")return Nx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Hu(s.field,i)});const n=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;return Nx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ay(t,e){const n=t.filters.concat([e]);return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ry(t,e,n){return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mp(t,e){return Z_(Or(t),Or(e))&&t.limitType===e.limitType}function UA(t){return`${Y_(Or(t))}|lt:${t.limitType}`}function Lo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jA(s)).join(", ")}]`),fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>$a(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>$a(s)).join(",")),`Target(${r})`}(Or(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=kx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Jl(r),s)||r.endAt&&!function(o,a,l){const u=kx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Jl(r),s))}(t,e)}function Q3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BA(t){return(e,n)=>{let r=!1;for(const s of Jl(t)){const i=Y3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Y3(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Fa(l,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new et(ie.comparator);function gs(){return Z3}const zA=new et(ie.comparator);function Dl(...t){let e=zA;for(const n of t)e=e.insert(n.key,n);return e}function WA(t){let e=zA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bi(){return eu()}function HA(){return eu()}function eu(){return new ol(t=>t.toString(),(t,e)=>t.isEqual(e))}const X3=new et(ie.comparator),J3=new kt(ie.comparator);function Ie(...t){let e=J3;for(const n of t)e=e.add(n);return e}const e9=new kt(Ne);function t9(){return e9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function KA(t){return{integerValue:""+t}}function n9(t,e){return O3(e)?KA(e):qA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this._=void 0}}function r9(t,e,n){return t instanceof qh?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&K_(i)&&(i=G_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof qu?QA(t,e):t instanceof Ku?YA(t,e):function(s,i){const o=GA(s,i),a=Dx(o)+Dx(s.Ie);return Sy(o)&&Sy(s.Ie)?KA(a):qA(s.serializer,a)}(t,e)}function s9(t,e,n){return t instanceof qu?QA(t,e):t instanceof Ku?YA(t,e):n}function GA(t,e){return t instanceof Kh?function(r){return Sy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class qh extends yp{}class qu extends yp{constructor(e){super(),this.elements=e}}function QA(t,e){const n=ZA(e);for(const r of t.elements)n.some(s=>jr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ku extends yp{constructor(e){super(),this.elements=e}}function YA(t,e){let n=ZA(e);for(const r of t.elements)n=n.filter(s=>!jr(s,r));return{arrayValue:{values:n}}}class Kh extends yp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Dx(t){return ct(t.integerValue||t.doubleValue)}function ZA(t){return Q_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function i9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof qu&&s instanceof qu||r instanceof Ku&&s instanceof Ku?ja(r.elements,s.elements,jr):r instanceof Kh&&s instanceof Kh?jr(r.Ie,s.Ie):r instanceof qh&&s instanceof qh}(t.transform,e.transform)}class o9{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vp{}function XA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eR(t.key,Dr.none()):new Nc(t.key,t.data,Dr.none());{const n=t.data,r=un.empty();let s=new kt(Ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Pi(t.key,r,new wn(s.toArray()),Dr.none())}}function a9(t,e,n){t instanceof Nc?function(s,i,o){const a=s.value.clone(),l=Lx(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(s,i,o){if(!Kd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Lx(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(JA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tu(t,e,n,r){return t instanceof Nc?function(i,o,a,l){if(!Kd(i.precondition,o))return a;const u=i.value.clone(),c=Vx(i.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(i,o,a,l){if(!Kd(i.precondition,o))return a;const u=Vx(i.fieldTransforms,l,o),c=o.data;return c.setAll(JA(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return Kd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function l9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=GA(r.transform,s||null);i!=null&&(n===null&&(n=un.empty()),n.set(r.field,i))}return n||null}function Mx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ja(r,s,(i,o)=>i9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nc extends vp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Pi extends vp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Lx(t,e,n){const r=new Map;Ue(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,s9(o,a,n[s]))}return r}function Vx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,r9(i,o,e))}return r}class eR extends vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u9 extends vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&a9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=XA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,(n,r)=>Mx(n,r))&&ja(this.baseMutations,e.baseMutations,(n,r)=>Mx(n,r))}}class X_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ue(e.mutations.length===r.length);let s=function(){return X3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new X_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d9=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,be;function f9(t){switch(t){default:return he();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function tR(t){if(t===void 0)return ms("GRPC error has no .code"),O.UNKNOWN;switch(t){case ut.OK:return O.OK;case ut.CANCELLED:return O.CANCELLED;case ut.UNKNOWN:return O.UNKNOWN;case ut.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ut.INTERNAL:return O.INTERNAL;case ut.UNAVAILABLE:return O.UNAVAILABLE;case ut.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ut.NOT_FOUND:return O.NOT_FOUND;case ut.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ut.ABORTED:return O.ABORTED;case ut.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ut.DATA_LOSS:return O.DATA_LOSS;default:return he()}}(be=ut||(ut={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new ha([4294967295,4294967295],0);function jx(t){const e=p9().encode(t),n=new v3;return n.update(e),new Uint8Array(n.digest())}function Fx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ha([n,r],0),new ha([s,i],0)]}class J_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ha.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(ha.fromNumber(r)));return s.compare(m9)===1&&(s=new ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=jx(e),[r,s]=Fx(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new J_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=jx(e),[r,s]=Fx(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _p(pe.min(),s,new et(Ne),gs(),Ie())}}class Oc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class nR{constructor(e,n){this.targetId=e,this.fe=n}}class rR{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class $x{constructor(){this.ge=0,this.pe=Bx(),this.ye=Ht.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he()}}),new Oc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Bx()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ue(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class g9{constructor(e){this.Le=e,this.ke=new Map,this.qe=gs(),this.Qe=Ux(),this.Ke=new et(Ne)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Cy(i))if(r===0){const o=new ie(i.path);this.We(n,o,Ft.newNoDocument(o,pe.min()))}else Ue(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=co(r).toUint8Array()}catch(l){if(l instanceof NA)return Va("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new J_(o,s,i)}catch(l){return Va(l instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Cy(a.target)){const l=new ie(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ft.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=Ie();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new _p(e,n,this.Ke,this.qe,r);return this.qe=gs(),this.Qe=Ux(),this.Ke=new et(Ne),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new $x,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new kt(Ne),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new $x),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ux(){return new et(ie.comparator)}function Bx(){return new et(ie.comparator)}const y9={asc:"ASCENDING",desc:"DESCENDING"},v9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_9={and:"AND",or:"OR"};class w9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ky(t,e){return t.useProto3Json||fp(e)?e:{value:e}}function Gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E9(t,e){return Gh(t,e.toTimestamp())}function Mr(t){return Ue(!!t),pe.fromTimestamp(function(n){const r=yi(n);return new pt(r.seconds,r.nanos)}(t))}function e0(t,e){return function(r){return new Ke(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function iR(t){const e=Ke.fromString(t);return Ue(uR(e)),e}function Py(t,e){return e0(t.databaseId,e.path)}function Pm(t,e){const n=iR(e);if(n.get(1)!==t.databaseId.projectId)throw new X(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(oR(n))}function Ny(t,e){return e0(t.databaseId,e)}function x9(t){const e=iR(t);return e.length===4?Ke.emptyPath():oR(e)}function Oy(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oR(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zx(t,e,n){return{name:Py(t,e),fields:n.value.mapValue.fields}}function T9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(Ue(c===void 0||typeof c=="string"),Ht.fromBase64String(c||"")):(Ue(c===void 0||c instanceof Uint8Array),Ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?O.UNKNOWN:tR(u.code);return new X(c,u.message||"")}(o);n=new rR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pm(t,r.document.name),i=Mr(r.document.updateTime),o=r.document.createTime?Mr(r.document.createTime):pe.min(),a=new un({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Gd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Pm(t,r.document),i=r.readTime?Mr(r.readTime):pe.min(),o=Ft.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Gd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Pm(t,r.document),i=r.removedTargetIds||[];n=new Gd([],i,s,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new h9(s,i),a=r.targetId;n=new nR(a,o)}}return n}function I9(t,e){let n;if(e instanceof Nc)n={update:zx(t,e.key,e.value)};else if(e instanceof eR)n={delete:Py(t,e.key)};else if(e instanceof Pi)n={update:zx(t,e.key,e.data),updateMask:O9(e.fieldMask)};else{if(!(e instanceof u9))return he();n={verify:Py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof qh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:E9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function S9(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Mr(s.updateTime):Mr(i);return o.isEqual(pe.min())&&(o=Mr(i)),new o9(o,s.transformResults||[])}(n,e))):[]}function b9(t,e){return{documents:[Ny(t,e.path)]}}function C9(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ny(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ny(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return lR(or.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Vo(d.field),direction:k9(d.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=ky(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function A9(t){let e=x9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(d){const h=aR(d);return h instanceof or&&LA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(_){return new Hu(jo(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,fp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Hh(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new Hh(p,h)}(n.endAt)),K3(e,s,o,i,a,"F",l,u)}function R9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=jo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jo(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(jo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(r=>aR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function k9(t){return y9[t]}function P9(t){return v9[t]}function N9(t){return _9[t]}function Vo(t){return{fieldPath:t.canonicalString()}}function jo(t){return Ct.fromServerFormat(t.fieldPath)}function lR(t){return t instanceof ft?function(n){if(n.op==="=="){if(Rx(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(Ax(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rx(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(Ax(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:P9(n.op),value:n.value}}}(t):t instanceof or?function(n){const r=n.getFilters().map(s=>lR(s));return r.length===1?r[0]:{compositeFilter:{op:N9(n.op),filters:r}}}(t):he()}function O9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.ut=e}}function M9(t){const e=A9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this.on=new V9}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(gi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class V9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new kt(Ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new kt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ua(0)}static Nn(){return new Ua(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.changes=new ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&tu(r.mutation,s,wn.empty(),pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Bi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Dl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=gs();const o=eu(),a=function(){return eu()}();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof Pi)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),tu(c.mutation,u,c.mutation.getFieldMask(),pt.now())):o.set(u.key,wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new F9(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=eu();let s=new et((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||wn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=HA();c.forEach(h=>{if(!i.has(h)){const p=XA(n.get(h),r.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$A(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(Bi());let a=-1,l=i;return o.next(u=>M.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(c)?M.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ie())).next(c=>({batchId:a,changes:WA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=Dl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Dl();return this.indexManager.getCollectionParents(e,i).next(a=>M.forEach(a,l=>{const u=function(d,h){return new il(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ft.newInvalidDocument(c)))});let a=Dl();return o.forEach((l,u)=>{const c=i.get(l);c!==void 0&&tu(c.mutation,u,wn.empty(),pt.now()),gp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mr(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:M9(s.bundledQuery),readTime:Mr(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(){this.overlays=new et(ie.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bi();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=Bi(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Bi(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Bi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return M.resolve(a)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new d9(n,r));let i=this.lr.get(n);i===void 0&&(i=Ie(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.hr=new kt(_t.Pr),this.Ir=new kt(_t.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new _t(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ie(new Ke([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ie(new Ke([])),r=new _t(n,e),s=new _t(n,e+1);let i=Ie();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ie.comparator(e.key,n.key)||Ne(e.gr,n.gr)}static Tr(e,n){return Ne(e.gr,n.gr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new kt(_t.Pr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new c9(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ne);return n.forEach(s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new _t(new ie(i),0);let a=new kt(Ne);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ue(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new _t(n,0),s=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.Cr=e,this.docs=function(){return new et(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ft.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gs();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||k3(R3(c),r)<=0||(s.has(c.key)||gp(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new H9(this)}getSize(e){return M.resolve(this.size)}}class H9 extends j9{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.persistence=e,this.Fr=new ol(n=>Y_(n),Z_),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new t0,this.targetCount=0,this.Nr=Ua.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ua(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n){this.Br={},this.overlays={},this.Lr=new q_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new q9(this),this.indexManager=new L9,this.remoteDocumentCache=function(s){return new W9(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new D9(n),this.Kr=new U9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new z9(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new G9(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class G9 extends N3{constructor(e){super(),this.currentSequenceNumber=e}}class n0{constructor(e){this.persistence=e,this.Gr=new t0,this.zr=null}static jr(e){return new n0(e)}get Hr(){if(this.zr)return this.zr;throw he()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const s=ie.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new r0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Q9;return this.Hi(e,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Tl()<=Se.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(Tl()<=Se.DEBUG&&te("QueryEngine","Query:",Lo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Tl()<=Se.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(n))):M.resolve())}zi(e,n){if(Ox(n))return M.resolve(null);let r=Or(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ry(n,null,"F"),r=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Ry(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,s){return Ox(n)||s.isEqual(pe.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?M.resolve(null):(Tl()<=Se.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lo(n)),this.Xi(e,o,n,A3(s,-1)).next(a=>a))})}Yi(e,n){let r=new kt(BA(e));return n.forEach((s,i)=>{gp(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return Tl()<=Se.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Lo(n)),this.Gi.getDocumentsMatchingQuery(e,n,gi.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new et(Ne),this.ns=new ol(i=>Y_(i),Z_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $9(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function X9(t,e,n,r){return new Z9(t,e,n,r)}async function cR(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function J9(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=M.resolve();return h.forEach(_=>{p=p.next(()=>c.getEntry(l,_)).next(g=>{const w=u.docVersions.get(_);Ue(w!==null),g.version.compareTo(w)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dR(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function e5(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=s.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(i,c.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),s=s.insert(d,p),function(g,w,v){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,c)&&a.push(n.qr.updateTargetData(i,p))});let l=gs(),u=Ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(t5(i,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(pe.min())){const c=n.qr.getLastRemoteSnapshotVersion(i).next(d=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ts=s,i))}function t5(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:s}})}function n5(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r5(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Qs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Dy(t,e,n){const r=ge(t),s=r.ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Pc(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function Wx(t,e,n){const r=ge(t);let s=pe.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=ge(l),h=d.ns.get(c);return h!==void 0?M.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,Or(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:Ie())).next(a=>(s5(r,Q3(e),a),{documents:a,ls:i})))}function s5(t,e,n){let r=t.rs.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.rs.set(e,r)}class Hx{constructor(){this.activeTargetIds=t9()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i5{constructor(){this.eo=new Hx,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Hx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function Nm(){return wd===null?wd=function(){return 268435456+Math.round(2147483648*Math.random())}():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class u5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=Nm(),l=this.So(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,i,o),this.Do(n,l,u,s).then(c=>(te("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Va("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",s),c})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=a5[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=Nm();return new Promise((o,a)=>{const l=new y3;l.setWithCredentials(!0),l.listenOnce(m3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case km.NO_ERROR:const c=l.getResponseJson();te(Mt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case km.TIMEOUT:te(Mt,`RPC '${e}' ${i} timed out`),a(new X(O.DEADLINE_EXCEEDED,"Request time out"));break;case km.HTTP_ERROR:const d=l.getStatus();if(te(Mt,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const _=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(v)>=0?v:O.UNKNOWN}(p.status);a(new X(_,p.message))}else a(new X(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(O.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{te(Mt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);te(Mt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}vo(e,n,r){const s=Nm(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=f3(),a=p3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");te(Mt,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const _=new l5({co:w=>{p?te(Mt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(h||(te(Mt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),te(Mt,`RPC '${e}' stream ${s} sending:`,w),d.send(w))},lo:()=>d.close()}),g=(w,v,m)=>{w.listen(v,E=>{try{m(E)}catch(x){setTimeout(()=>{throw x},0)}})};return g(d,yd.EventType.OPEN,()=>{p||te(Mt,`RPC '${e}' stream ${s} transport opened.`)}),g(d,yd.EventType.CLOSE,()=>{p||(p=!0,te(Mt,`RPC '${e}' stream ${s} transport closed`),_.Ro())}),g(d,yd.EventType.ERROR,w=>{p||(p=!0,Va(Mt,`RPC '${e}' stream ${s} transport errored:`,w),_.Ro(new X(O.UNAVAILABLE,"The operation could not be completed")))}),g(d,yd.EventType.MESSAGE,w=>{var v;if(!p){const m=w.data[0];Ue(!!m);const E=m,x=E.error||((v=E[0])===null||v===void 0?void 0:v.error);if(x){te(Mt,`RPC '${e}' stream ${s} received error:`,x);const T=x.status;let b=function(F){const L=ut[F];if(L!==void 0)return tR(L)}(T),C=x.message;b===void 0&&(b=O.INTERNAL,C="Unknown error status: "+T+" with message "+x.message),p=!0,_.Ro(new X(b,C)),d.close()}else te(Mt,`RPC '${e}' stream ${s} received:`,m),_.Vo(m)}}),g(a,g3.STAT_EVENT,w=>{w.stat===xx.PROXY?te(Mt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===xx.NOPROXY&&te(Mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){return new w9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new hR(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new X(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c5 extends fR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=T9(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Mr(o.readTime):pe.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Oy(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Cy(l)?{documents:b9(i,l)}:{query:C9(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sR(i,o.resumeToken);const u=ky(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=Gh(i,o.snapshotVersion.toTimestamp());const u=ky(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=R9(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Oy(this.serializer),n.removeTarget=e,this.e_(n)}}class d5 extends fR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=S9(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.I_(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Oy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I9(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new X(O.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(O.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(O.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class f5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ms(n),this.f_=!1):te("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Co(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ge(l);u.C_.add(4),await Dc(u),u.M_.set("Unknown"),u.C_.delete(4),await Ep(u)}(this))})}),this.M_=new f5(r,s)}}async function Ep(t){if(Co(t))for(const e of t.v_)await e(!0)}async function Dc(t){for(const e of t.v_)await e(!1)}function pR(t,e){const n=ge(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),o0(n)?i0(n):al(n).Ho()&&s0(n,e))}function mR(t,e){const n=ge(t),r=al(n);n.D_.delete(e),r.Ho()&&gR(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Co(n)&&n.M_.set("Unknown"))}function s0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).u_(e)}function gR(t,e){t.x_.Oe(e),al(t).c_(e)}function i0(t){t.x_=new g9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),al(t).start(),t.M_.g_()}function o0(t){return Co(t)&&!al(t).jo()&&t.D_.size>0}function Co(t){return ge(t).C_.size===0}function yR(t){t.x_=void 0}async function m5(t){t.D_.forEach((e,n)=>{s0(t,e)})}async function g5(t,e){yR(t),o0(t)?(t.M_.w_(e),i0(t)):t.M_.set("Unknown")}async function y5(t,e,n){if(t.M_.set("Online"),e instanceof rR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(t,r)}else if(e instanceof Gd?t.x_.$e(e):e instanceof nR?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(pe.min()))try{const r=await dR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.D_.get(u);c&&i.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=i.D_.get(l);if(!c)return;i.D_.set(l,c.withResumeToken(Ht.EMPTY_BYTE_STRING,c.snapshotVersion)),gR(i,l);const d=new Qs(c.target,l,u,c.sequenceNumber);s0(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Qh(t,r)}}async function Qh(t,e,n){if(!Pc(e))throw e;t.C_.add(1),await Dc(t),t.M_.set("Offline"),n||(n=()=>dR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Ep(t)})}function vR(t,e){return e().catch(n=>Qh(t,n,e))}async function xp(t){const e=ge(t),n=vi(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;v5(e);)try{const s=await n5(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,_5(e,s)}catch(s){await Qh(e,s)}_R(e)&&wR(e)}function v5(t){return Co(t)&&t.b_.length<10}function _5(t,e){t.b_.push(e);const n=vi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function _R(t){return Co(t)&&!vi(t).jo()&&t.b_.length>0}function wR(t){vi(t).start()}async function w5(t){vi(t).E_()}async function E5(t){const e=vi(t);for(const n of t.b_)e.P_(n.mutations)}async function x5(t,e,n){const r=t.b_.shift(),s=X_.from(r,e,n);await vR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xp(t)}async function T5(t,e){e&&vi(t).h_&&await async function(r,s){if(function(o){return f9(o)&&o!==O.ABORTED}(s.code)){const i=r.b_.shift();vi(r).Yo(),await vR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await xp(r)}}(t,e),_R(t)&&wR(t)}async function Kx(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Co(n);n.C_.add(3),await Dc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Ep(n)}async function I5(t,e){const n=ge(t);e?(n.C_.delete(2),await Ep(n)):e||(n.C_.add(2),await Dc(n),n.M_.set("Unknown"))}function al(t){return t.O_||(t.O_=function(n,r,s){const i=ge(n);return i.A_(),new c5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:m5.bind(null,t),Io:g5.bind(null,t),a_:y5.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),o0(t)?i0(t):t.M_.set("Unknown")):(await t.O_.stop(),yR(t))})),t.O_}function vi(t){return t.N_||(t.N_=function(n,r,s){const i=ge(n);return i.A_(),new d5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:w5.bind(null,t),Io:T5.bind(null,t),T_:E5.bind(null,t),I_:x5.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await xp(t)):(await t.N_.stop(),t.b_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new a0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(t,e){if(ms("AsyncQueue",`${e}: ${t}`),Pc(t))return new X(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new fa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.B_=new et(ie.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):he():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ba{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ba(e,n,fa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(){this.k_=void 0,this.listeners=[]}}class b5{constructor(){this.queries=new ol(e=>UA(e),mp),this.onlineState="Unknown",this.q_=new Set}}async function u0(t,e){const n=ge(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new S5),s)try{i.k_=await n.onListen(r)}catch(o){const a=l0(o,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Q_(n.onlineState),i.k_&&e.K_(i.k_)&&d0(n)}async function c0(t,e){const n=ge(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function C5(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&d0(n)}function A5(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function d0(t){t.q_.forEach(e=>{e.next()})}class h0{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.key=e}}class xR{constructor(e){this.key=e}}class R5{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ie(),this.mutatedKeys=Ie(),this._a=BA(e),this.aa=new fa(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Gx,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,d)=>{const h=s.get(c),p=gp(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?_!==g&&(r.track({type:3,doc:p}),w=!0):this.ha(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this._a(p,l)>0||u&&this._a(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),i=g?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,d)=>function(p,_){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return g(p)-g(_)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),s=s!=null&&s;const a=n&&!s?this.Ia():[],l=this.oa.size===0&&this.current&&!s?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new Ba(this.query,e.aa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Gx,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ie(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new xR(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new ER(r))}),n}da(e){this.ia=e.ls,this.oa=Ie();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ba.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class k5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P5{constructor(e){this.key=e,this.Ra=!1}}class N5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ol(a=>UA(a),mp),this.fa=new Map,this.ga=new Set,this.pa=new et(ie.comparator),this.ya=new Map,this.wa=new t0,this.Sa={},this.ba=new Map,this.Da=Ua.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function O5(t,e){const n=z5(t);let r,s;const i=n.ma.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await r5(n.localStore,Or(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await D5(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&pR(n.remoteStore,o)}return s}async function D5(t,e,n,r,s){t.va=(d,h,p)=>async function(g,w,v,m){let E=w.view.ca(v);E.Zi&&(E=await Wx(g.localStore,w.query,!1).then(({documents:C})=>w.view.ca(C,E)));const x=m&&m.targetChanges.get(w.targetId),T=m&&m.targetMismatches.get(w.targetId)!=null,b=w.view.applyChanges(E,g.isPrimaryClient,x,T);return Yx(g,w.targetId,b.Ta),b.snapshot}(t,d,h,p);const i=await Wx(t.localStore,e,!0),o=new R5(e,i.ls),a=o.ca(i.documents),l=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Yx(t,n,u.Ta);const c=new k5(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function M5(t,e){const n=ge(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!mp(i,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Dy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),mR(n.remoteStore,r.targetId),My(n,r.targetId)}).catch(kc)):(My(n,r.targetId),await Dy(n.localStore,r.targetId,!0))}async function L5(t,e,n){const r=W5(t);try{const s=await function(o,a){const l=ge(o),u=pt.now(),c=a.reduce((p,_)=>p.add(_.key),Ie());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=gs(),g=Ie();return l.ss.getEntries(p,c).next(w=>{_=w,_.forEach((v,m)=>{m.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(w=>{d=w;const v=[];for(const m of a){const E=l9(m,d.get(m.key).overlayedDocument);E!=null&&v.push(new Pi(m.key,E,OA(E.value.mapValue),Dr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(w=>{h=w;const v=w.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,w.batchId,v)})}).then(()=>({batchId:h.batchId,changes:WA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new et(Ne)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,s.batchId,n),await Mc(r,s.changes),await xp(r.remoteStore)}catch(s){const i=l0(s,"Failed to persist write");n.reject(i)}}async function TR(t,e){const n=ge(t);try{const r=await e5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Ue(o.Ra):s.removedDocuments.size>0&&(Ue(o.Ra),o.Ra=!1))}),await Mc(n,r,e)}catch(r){await kc(r)}}function Qx(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ge(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&d0(l)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V5(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),i=s&&s.key;if(i){let o=new et(ie.comparator);o=o.insert(i,Ft.newNoDocument(i,pe.min()));const a=Ie().add(i),l=new _p(pe.min(),new Map,new et(Ne),o,a);await TR(r,l),r.pa=r.pa.remove(i),r.ya.delete(e),f0(r)}else await Dy(r.localStore,e,!1).then(()=>My(r,e,n)).catch(kc)}async function j5(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await J9(n.localStore,e);SR(n,r,null),IR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mc(n,s)}catch(s){await kc(s)}}async function F5(t,e,n){const r=ge(t);try{const s=await function(o,a){const l=ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ue(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);SR(r,e,n),IR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mc(r,s)}catch(s){await kc(s)}}function IR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function SR(t,e,n){const r=ge(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function My(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||bR(t,r)})}function bR(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(mR(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),f0(t))}function Yx(t,e,n){for(const r of n)r instanceof ER?(t.wa.addReference(r.key,e),$5(t,r)):r instanceof xR?(te("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||bR(t,r.key)):he()}function $5(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(te("SyncEngine","New document in limbo: "+n),t.ga.add(r),f0(t))}function f0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ie(Ke.fromString(e)),r=t.Da.next();t.ya.set(r,new P5(n)),t.pa=t.pa.insert(n,r),pR(t.remoteStore,new Qs(Or(pp(n.path)),r,"TargetPurposeLimboResolution",q_._e))}}async function Mc(t,e,n){const r=ge(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const c=r0.Qi(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.Va.a_(s),await async function(l,u){const c=ge(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>M.forEach(u,h=>M.forEach(h.ki,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>M.forEach(h.qi,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Pc(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.ts.get(h),_=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(_);c.ts=c.ts.insert(h,g)}}}(r.localStore,i))}async function U5(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await cR(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(a=>{a.forEach(l=>{l.reject(new X(O.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mc(n,r._s)}}function B5(t,e){const n=ge(t),r=n.ya.get(e);if(r&&r.Ra)return Ie().add(r.key);{let s=Ie();const i=n.fa.get(e);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function z5(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V5.bind(null,e),e.Va.a_=C5.bind(null,e.eventManager),e.Va.Fa=A5.bind(null,e.eventManager),e}function W5(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F5.bind(null,e),e}class Zx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return X9(this.persistence,new Y9,e.initialUser,this.serializer)}createPersistence(e){return new K9(n0.jr,this.serializer)}createSharedClientState(e){return new i5}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class H5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U5.bind(null,this.syncEngine),await I5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new b5}()}createDatastore(e){const n=wp(e.databaseInfo.databaseId),r=function(i){return new u5(i)}(e.databaseInfo);return function(i,o,a,l){return new h5(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new p5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Qx(this.syncEngine,n,0),function(){return qx.D()?new qx:new o5}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,c){const d=new N5(s,i,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ge(n);te("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Dc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vt.UNAUTHENTICATED,this.clientId=kA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{te("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(te("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dm(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await cR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G5(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Kx(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Kx(e.remoteStore,i)),t._onlineComponents=e}function K5(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function G5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!K5(n))throw n;Va("Error using user provided cache. Falling back to memory cache: "+n),await Dm(t,new Zx)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Dm(t,new Zx);return t._offlineComponents}async function CR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Xx(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Xx(t,new H5))),t._onlineComponents}function Q5(t){return CR(t).then(e=>e.syncEngine)}async function Yh(t){const e=await CR(t),n=e.eventManager;return n.onListen=O5.bind(null,e.syncEngine),n.onUnlisten=M5.bind(null,e.syncEngine),n}function Y5(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new p0({next:h=>{o.enqueueAndForget(()=>c0(i,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new X(O.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new X(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new h0(pp(a.path),c,{includeMetadataChanges:!0,J_:!0});return u0(i,d)}(await Yh(t),t.asyncQueue,e,n,r)),r.promise}function Z5(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new p0({next:h=>{o.enqueueAndForget(()=>c0(i,d)),h.fromCache&&l.source==="server"?u.reject(new X(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new h0(a,c,{includeMetadataChanges:!0,J_:!0});return u0(i,d)}(await Yh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e,n){if(!n)throw new X(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X5(t,e,n,r){if(e===!0&&r===!0)throw new X(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eT(t){if(!ie.isDocumentKey(t))throw new X(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tT(t){if(ie.isDocumentKey(t))throw new X(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tp(t);throw new X(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ip{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _3;switch(r.type){case"firstParty":return new T3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jx.get(n);r&&(te("ComponentProvider","Removing Datastore"),Jx.delete(n),r.terminate())}(this),Promise.resolve()}}function J5(t,e,n,r={}){var s;const i=(t=Jn(t,Ip))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Vt.MOCK_USER;else{a=Hb(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Vt(u)}t._authCredentials=new w3(new RA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class ai extends Ni{constructor(e,n,r){super(e,n,pp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ie(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function Ly(t,e,...n){if(t=mt(t),RR("collection","path",e),t instanceof Ip){const r=Ke.fromString(e,...n);return tT(r),new ai(t,null,r)}{if(!(t instanceof en||t instanceof ai))throw new X(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return tT(r),new ai(t.firestore,null,r)}}function Gu(t,e,...n){if(t=mt(t),arguments.length===1&&(e=kA.newId()),RR("doc","path",e),t instanceof Ip){const r=Ke.fromString(e,...n);return eT(r),new en(t,null,new ie(r))}{if(!(t instanceof en||t instanceof ai))throw new X(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return eT(r),new en(t.firestore,t instanceof ai?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new hR(this,"async_queue_retry"),this.iu=()=>{const n=Om();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Om();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new os;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Pc(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ms("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=a0.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&he()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function rT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class fo extends Ip{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new eB}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||PR(this),this._firestoreClient.terminate()}}function kR(t,e){const n=typeof t=="object"?t:m_(),r=typeof t=="string"?t:"(default)",s=Wf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Bb("firestore");i&&J5(s,...i)}return s}function Sp(t){return t._firestoreClient||PR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PR(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,c){return new M3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,AR(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new q5(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new za(Ht.fromBase64String(e))}catch(n){throw new X(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new za(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=/^__.*__$/;class nB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(e,this.data,n,this.fieldTransforms)}}class NR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class y0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Zh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(OR(this.Iu)&&tB.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class rB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wp(e)}pu(e,n,r,s=!1){return new y0({Iu:e,methodName:n,gu:r,path:Ct.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v0(t){const e=t._freezeSettings(),n=wp(t._databaseId);return new rB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sB(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);_0("Data must be an object, but it was:",o,r);const a=DR(r,o);let l,u;if(i.merge)l=new wn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const h=Vy(e,d,n);if(!o.contains(h))throw new X(O.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);LR(c,h)||c.push(h)}l=new wn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new nB(new un(a),l,u)}class Cp extends m0{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}function iB(t,e,n,r){const s=t.pu(1,e,n);_0("Data must be an object, but it was:",s,r);const i=[],o=un.empty();bo(r,(l,u)=>{const c=w0(e,l,n);u=mt(u);const d=s.Ru(c);if(u instanceof Cp)i.push(c);else{const h=Lc(u,d);h!=null&&(i.push(c),o.set(c,h))}});const a=new wn(i);return new NR(o,a,s.fieldTransforms)}function oB(t,e,n,r,s,i){const o=t.pu(1,e,n),a=[Vy(e,r,n)],l=[s];if(i.length%2!=0)throw new X(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Vy(e,i[h])),l.push(i[h+1]);const u=[],c=un.empty();for(let h=a.length-1;h>=0;--h)if(!LR(u,a[h])){const p=a[h];let _=l[h];_=mt(_);const g=o.Ru(p);if(_ instanceof Cp)u.push(p);else{const w=Lc(_,g);w!=null&&(u.push(p),c.set(p,w))}}const d=new wn(u);return new NR(c,d,o.fieldTransforms)}function aB(t,e,n,r=!1){return Lc(n,t.pu(r?4:3,e))}function Lc(t,e){if(MR(t=mt(t)))return _0("Unsupported field value:",e,t),DR(t,e);if(t instanceof m0)return function(r,s){if(!OR(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Lc(a,s.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=pt.fromDate(r);return{timestampValue:Gh(s.serializer,i)}}if(r instanceof pt){const i=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(s.serializer,i)}}if(r instanceof g0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof za)return{bytesValue:sR(s.serializer,r._byteString)};if(r instanceof en){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:e0(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${Tp(r)}`)}(t,e)}function DR(t,e){const n={};return PA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(t,(r,s)=>{const i=Lc(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function MR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof g0||t instanceof za||t instanceof en||t instanceof m0)}function _0(t,e,n){if(!MR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Tp(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function Vy(t,e,n){if((e=mt(e))instanceof bp)return e._internalPath;if(typeof e=="string")return w0(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const lB=new RegExp("[~\\*/\\[\\]]");function w0(t,e,n){if(e.search(lB)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bp(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(O.INVALID_ARGUMENT,a+t+l)}function LR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uB extends VR{data(){return super.data()}}function E0(t,e){return typeof e=="string"?w0(t,e):e instanceof bp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x0{}class FR extends x0{}function cB(t,e,...n){let r=[];e instanceof x0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof I0).length,a=i.filter(l=>l instanceof T0).length;if(o>1||o>0&&a>0)throw new X(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class T0 extends FR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new T0(e,n,r)}_apply(e){const n=this._parse(e);return $R(e._query,n),new Ni(e.firestore,e.converter,Ay(e._query,n))}_parse(e){const n=v0(e.firestore);return function(i,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new X(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){iT(d,c);const p=[];for(const _ of d)p.push(sT(l,i,_));h={arrayValue:{values:p}}}else h=sT(l,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||iT(d,c),h=aB(a,o,d,c==="in"||c==="not-in");return ft.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class I0 extends x0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new I0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)$R(o,l),o=Ay(o,l)}(e._query,n),new Ni(e.firestore,e.converter,Ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S0 extends FR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new S0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hu(i,o)}(e._query,this._field,this._direction);return new Ni(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new il(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function dB(t,e="asc"){const n=e,r=E0("orderBy",t);return S0._create(r,n)}function sT(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new X(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$A(e)&&n.indexOf("/")!==-1)throw new X(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!ie.isDocumentKey(r))throw new X(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cx(t,new ie(r))}if(n instanceof en)return Cx(t,n._key);throw new X(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tp(n)}.`)}function iT(t,e){if(!Array.isArray(t)||t.length===0)throw new X(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $R(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hB{convertValue(e,n="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new g0(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=G_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=yi(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Ue(uR(r));const s=new zu(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||ms(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UR extends VR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(E0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qd extends UR{data(e={}){return super.data(e)}}class BR{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ll(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qd(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Qd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Qd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:pB(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t){t=Jn(t,en);const e=Jn(t.firestore,fo);return Y5(Sp(e),t._key).then(n=>HR(e,t,n))}class b0 extends hB{constructor(e){super(),this.firestore=e}convertBytes(e){return new za(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function mB(t){t=Jn(t,Ni);const e=Jn(t.firestore,fo),n=Sp(e),r=new b0(e);return jR(t._query),Z5(n,t._query).then(s=>new BR(e,r,t,s))}function zR(t,e,n,...r){t=Jn(t,en);const s=Jn(t.firestore,fo),i=v0(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof bp?oB(i,"updateDoc",t._key,e,n,r):iB(i,"updateDoc",t._key,e),WR(s,[o.toMutation(t._key,Dr.exists(!0))])}function gB(t,e){const n=Jn(t.firestore,fo),r=Gu(t),s=fB(t.converter,e);return WR(n,[sB(v0(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function yB(t,...e){var n,r,s;t=mt(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||rT(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(rT(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,u,c;if(t instanceof en)u=Jn(t.firestore,fo),c=pp(t._key.path),l={next:d=>{e[o]&&e[o](HR(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Jn(t,Ni);u=Jn(d.firestore,fo),c=d._query;const h=new b0(u);l={next:p=>{e[o]&&e[o](new BR(u,h,d,p))},error:e[o+1],complete:e[o+2]},jR(t._query)}return function(h,p,_,g){const w=new p0(g),v=new h0(p,w,_);return h.asyncQueue.enqueueAndForget(async()=>u0(await Yh(h),v)),()=>{w.Na(),h.asyncQueue.enqueueAndForget(async()=>c0(await Yh(h),v))}}(Sp(u),c,a,l)}function WR(t,e){return function(r,s){const i=new os;return r.asyncQueue.enqueueAndForget(async()=>L5(await Q5(r),s,i)),i.promise}(Sp(t),e)}function HR(t,e,n){const r=n.docs.get(e._key),s=new b0(t);return new UR(t,s,e._key,r,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){sl=s})(To),ao(new mi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new fo(new E3(r.getProvider("auth-internal")),new S3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(u.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),kr(Tx,"4.4.0",e),kr(Tx,"4.4.0","esm2017")})();var vB="firebase",_B="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(vB,_B,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="firebasestorage.googleapis.com",wB="storageBucket",EB=2*60*1e3,xB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Wr{constructor(e,n,r=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function Mm(t){return"storage/"+t}function TB(){const t="An unknown error occurred, please check the error payload for server response.";return new Hr(Fr.UNKNOWN,t)}function IB(){return new Hr(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SB(){return new Hr(Fr.CANCELED,"User canceled the upload/download.")}function bB(t){return new Hr(Fr.INVALID_URL,"Invalid URL '"+t+"'.")}function CB(t){return new Hr(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aT(t){return new Hr(Fr.INVALID_ARGUMENT,t)}function KR(){return new Hr(Fr.APP_DELETED,"The Firebase app was deleted.")}function AB(t){return new Hr(Fr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qn.makeFromUrl(e,n)}catch{return new Qn(e,"")}if(r.path==="")return r;throw CB(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${s}/o${h}`,"i"),_={bucket:1,path:3},g=n===qR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${g}/${s}/${w}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:p,indices:_,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<E.length;x++){const T=E[x],b=T.regex.exec(e);if(b){const C=b[T.indices.bucket];let R=b[T.indices.path];R||(R=""),r=new Qn(C,R),T.postModify(r);break}}if(r==null)throw bB(e);return r}}class RB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){s=setTimeout(()=>{s=null,t(p,l())},w)}function h(){i&&clearTimeout(i)}function p(w,...v){if(u){h();return}if(w){h(),c.call(null,w,...v);return}if(l()||o){h(),c.call(null,w,...v);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,d(E)}let _=!1;function g(w){_||(_=!0,h(),!u&&(s!==null?(w||(a=2),clearTimeout(s),d(0)):w||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function PB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){return t!==void 0}function lT(t,e,n,r){if(r<e)throw aT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw aT(`Invalid value for '${t}'. Expected ${n} or less.`)}function OB(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xh||(Xh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n,r,s,i,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ed(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Xh.NO_ERROR,l=i.getStatus();if(!a||DB(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===Xh.ABORT;r(!1,new Ed(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ed(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());NB(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=TB();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?KR():SB();o(l)}else{const l=IB();o(l)}};this.canceled_?n(!1,new Ed(!1,null,!0)):this.backoffId_=kB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ed{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function FB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $B(t,e,n,r,s,i,o=!0){const a=OB(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return jB(u,e),LB(u,n),VB(u,i),FB(u,r),new MB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this._service=e,n instanceof Qn?this._location=n:this._location=Qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jh(e,n)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BB(this._location.path)}get storage(){return this._service}get parent(){const e=UB(this._location.path);if(e===null)return null;const n=new Qn(this._location.bucket,e);return new Jh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AB(e)}}function uT(t,e){const n=e==null?void 0:e[wB];return n==null?null:Qn.makeFromBucketSpec(n,t)}function zB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Hb(s,t.app.options.projectId))}class WB{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=qR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EB,this._maxUploadRetryTime=xB,this._requests=new Set,s!=null?this._bucket=Qn.makeFromBucketSpec(s,this._host):this._bucket=uT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=uT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new RB(KR());{const o=$B(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const cT="@firebase/storage",dT="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="storage";function QR(t=m_(),e){t=mt(t);const r=Wf(t,GR).getImmediate({identifier:e}),s=Bb("storage");return s&&HB(r,...s),r}function HB(t,e,n,r={}){zB(t,e,n,r)}function qB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new WB(n,r,s,e,To)}function KB(){ao(new mi(GR,qB,"PUBLIC").setMultipleInstances(!0)),kr(cT,dT,""),kr(cT,dT,"esm2017")}KB();const GB={apiKey:"AIzaSyD_QR6x-0ab_S7uTb0rTS01u9N62QNuq40",authDomain:"masruf-manager.firebaseapp.com",projectId:"masruf-manager",storageBucket:"masruf-manager.appspot.com",messagingSenderId:"153141113612",appId:"1:153141113612:web:ef0420214d096938e2cf29"},C0=p_(GB),xd=bC(C0),nu=kR(C0);QR(C0);const Lm=[{id:"1",name:"أحمد محمد",email:"employee@example.com",password:"password123",role:"employee",department:"التسويق"},{id:"2",name:"محمد خالد",email:"manager@example.com",password:"password123",role:"manager",department:"الإدارة"}],YR=y.createContext({user:null,login:async()=>{},logout:()=>{},loading:!0});function QB({children:t}){const[e,n]=y.useState(null),[r,s]=y.useState(!0),i=xo();y.useEffect(()=>{const l=localStorage.getItem("user");if(l)try{n(JSON.parse(l)),s(!1)}catch{localStorage.removeItem("user")}},[]),y.useEffect(()=>{e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")},[e]),y.useEffect(()=>{const l=e4(xd,async u=>{if(u)try{const c=await oT(Gu(nu,"users",u.uid));if(c.exists()){const d=c.data(),h={id:u.uid,...d};n(h),localStorage.setItem("user",JSON.stringify(h))}else{const d=Lm.find(h=>h.email===u.email);if(d){const{password:h,...p}=d;n(p),localStorage.setItem("user",JSON.stringify(p))}else await JE(xd),n(null)}}catch(c){console.error("Error fetching user data:",c),yn.error("حدث خطأ أثناء تحميل بيانات المستخدم")}else n(null);s(!1)});return()=>l()},[]);const o=async(l,u)=>{s(!0);try{const d=(await Z$(xd,l,u)).user,h=await oT(Gu(nu,"users",d.uid));if(h.exists()){const p=h.data(),_={id:d.uid,...p};n(_),localStorage.setItem("user",JSON.stringify(_)),yn.success("تم تسجيل الدخول بنجاح"),i("/")}else{const p=Lm.find(_=>_.email===l&&_.password===u);if(p){const{password:_,...g}=p;n(g),localStorage.setItem("user",JSON.stringify(g)),yn.success("تم تسجيل الدخول بنجاح"),i("/")}else yn.error("لم يتم العثور على بيانات المستخدم")}}catch(c){console.error("Login error:",c);const d=Lm.find(h=>h.email===l&&h.password===u);if(d){const{password:h,...p}=d;n(p),localStorage.setItem("user",JSON.stringify(p)),yn.success("تم تسجيل الدخول بنجاح"),i("/")}else yn.error("البريد الالكتروني أو كلمة المرور غير صحيحة")}finally{s(!1)}},a=async()=>{try{await JE(xd),localStorage.removeItem("user"),n(null),yn.info("تم تسجيل الخروج بنجاح"),i("/login")}catch(l){console.error("Logout error:",l),yn.error("حدث خطأ أثناء تسجيل الخروج")}};return f.jsx(YR.Provider,{value:{user:e,login:o,logout:a,loading:r},children:t})}const ws=()=>y.useContext(YR),ZR=y.createContext({expenses:[],addExpense:async()=>{},updateStatus:async()=>{},loading:!0});function YB({children:t}){const[e,n]=y.useState([]),[r,s]=y.useState(!0);y.useEffect(()=>{const l=cB(Ly(nu,"expenses"),dB("createdAt","desc")),u=yB(l,c=>{const d=[];c.forEach(h=>{const p=h.data();d.push({id:h.id,...p})}),n(d),s(!1)});return()=>u()},[]);const{user:i}=ws(),o=async l=>{if(!(i!=null&&i.id)||!i.name||!i.department){yn.error("بيانات المستخدم غير مكتملة");return}try{await gB(Ly(nu,"expenses"),{...l,attachments:l.attachments||[],status:"pending",createdAt:pt.now(),createdBy:i.id,employeeName:i.name,department:i.department}),yn.success("تم إرسال الطلب بنجاح")}catch(u){console.error(u),yn.error("فشل في إضافة الطلب")}},a=async(l,u)=>{try{await zR(Gu(nu,"expenses",l),{status:u}),n(c=>c.map(d=>d.id===l?{...d,status:u}:d)),yn.success("تم تحديث الحالة بنجاح")}catch(c){console.error(c),yn.error("حدث خطأ أثناء تحديث الحالة")}};return f.jsx(ZR.Provider,{value:{expenses:e,addExpense:o,updateStatus:a,loading:r},children:t})}const Vc=()=>y.useContext(ZR),ZB=Mf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dt=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?so:"button";return f.jsx(o,{className:Ae(ZB({variant:e,size:n,className:t})),ref:i,...s})});dt.displayName="Button";function XB(){const{user:t,logout:e}=ws();return f.jsx("header",{className:"border-b bg-white shadow-sm",children:f.jsxs("div",{className:"container flex items-center justify-between h-16 px-4",children:[f.jsx(Au,{to:"/",className:"flex items-center space-x-2 rtl:space-x-reverse",children:f.jsx("h1",{className:"text-xl font-bold text-primary",children:"نظام إدارة مصاريف الشركة"})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(dt,{variant:"ghost",size:"icon",children:f.jsx(uM,{className:"h-5 w-5"})}),f.jsx(dt,{variant:"ghost",size:"icon",children:f.jsx(LS,{className:"h-5 w-5"})}),t?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm font-medium",children:t.name}),f.jsx(dt,{variant:"ghost",size:"sm",onClick:e,children:"تسجيل الخروج"}),f.jsx(dt,{variant:"ghost",size:"icon",children:f.jsx(dM,{className:"h-5 w-5"})})]}):f.jsx(Au,{to:"/login",children:f.jsx(dt,{variant:"outline",size:"sm",children:"تسجيل الدخول"})})]})]})})}const JB={employee:"موظف",section_manager:"مدير قسم",manager:"مدير تنفيذي"};function ez(){var r;const{user:t}=ws(),e=Ci(),n=[{name:"لوحة المعلومات",href:"/",icon:lM},{name:"طلبات الصرف",href:"/expenses",icon:VS},...["section_manager","manager"].includes((t==null?void 0:t.role)||"")?[{name:"الطلبات المعلقة",href:"/pending",icon:LS}]:[],...(t==null?void 0:t.role)==="manager"?[{name:"إدارة المستخدمين",href:"/users",icon:hM},{name:"الإعدادات",href:"/settings",icon:cM}]:[]];return f.jsxs("div",{className:"hidden md:flex w-64 flex-col bg-white border-l shadow-sm",children:[f.jsx("div",{className:"flex flex-col flex-1 p-4 gap-2",children:n.map(s=>f.jsxs(Au,{to:s.href,className:Ae("flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md transition-colors hover:bg-secondary",e.pathname===s.href?"bg-primary/10 text-primary":"text-gray-600 hover:text-primary"),children:[f.jsx(s.icon,{className:"h-5 w-5"}),f.jsx("span",{children:s.name})]},s.href))}),f.jsx("div",{className:"p-4 border-t",children:f.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center",children:((r=t==null?void 0:t.name)==null?void 0:r.charAt(0))||"م"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:(t==null?void 0:t.name)||"مستخدم"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:JB[(t==null?void 0:t.role)||"employee"]})]})]})})]})}function tz(){return f.jsxs("div",{className:"min-h-screen bg-orange-50 flex flex-col",dir:"rtl",children:[f.jsx(XB,{}),f.jsxs("div",{className:"flex flex-1",children:[f.jsx(ez,{}),f.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:f.jsx(hj,{})})]}),f.jsx(QS,{position:"top-left",closeButton:!0,richColors:!0})]})}const Vm=({children:t,allowedRoles:e})=>{const{user:n,loading:r}=ws(),s=Ci();return r?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),f.jsx("p",{className:"mt-4 text-lg",children:"جاري تحميل البيانات..."})]})}):n?e&&!e.includes(n.role)?f.jsx(kE,{to:"/",replace:!0}):f.jsx(f.Fragment,{children:t}):f.jsx(kE,{to:"/login",state:{from:s},replace:!0})},Mn=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Mn.displayName="Card";const Tr=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",t),...e}));Tr.displayName="CardHeader";const Ir=y.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ir.displayName="CardTitle";const po=y.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));po.displayName="CardDescription";const Kn=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ae("p-6 pt-0",t),...e}));Kn.displayName="CardContent";const A0=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",t),...e}));A0.displayName="CardFooter";function nz(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(d){const{scope:h,children:p,..._}=d,g=(h==null?void 0:h[t][l])||a,w=y.useMemo(()=>_,Object.values(_));return f.jsx(g.Provider,{value:w,children:p})}function c(d,h){const p=(h==null?void 0:h[t][l])||a,_=y.useContext(p);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,rz(s,...e)]}function rz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var sz=y.createContext(void 0);function XR(t){const e=y.useContext(sz);return t||e||"ltr"}var jm="rovingFocusGroup.onEntryFocus",iz={bubbles:!1,cancelable:!0},Ap="RovingFocusGroup",[jy,JR,oz]=uS(Ap),[az,ek]=nz(Ap,[oz]),[lz,uz]=az(Ap),tk=y.forwardRef((t,e)=>f.jsx(jy.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(jy.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(cz,{...t,ref:e})})}));tk.displayName=Ap;var cz=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...d}=t,h=y.useRef(null),p=zt(e,h),_=XR(i),[g=null,w]=Pf({prop:o,defaultProp:a,onChange:l}),[v,m]=y.useState(!1),E=Sn(u),x=JR(n),T=y.useRef(!1),[b,C]=y.useState(0);return y.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(jm,E),()=>R.removeEventListener(jm,E)},[E]),f.jsx(lz,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(R=>w(R),[w]),onItemShiftTab:y.useCallback(()=>m(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(R=>R+1),[]),onFocusableItemRemove:y.useCallback(()=>C(R=>R-1),[]),children:f.jsx(Ve.div,{tabIndex:v||b===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:ke(t.onMouseDown,()=>{T.current=!0}),onFocus:ke(t.onFocus,R=>{const F=!T.current;if(R.target===R.currentTarget&&F&&!v){const L=new CustomEvent(jm,iz);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const re=x().filter(Z=>Z.focusable),D=re.find(Z=>Z.active),q=re.find(Z=>Z.id===g),se=[D,q,...re].filter(Boolean).map(Z=>Z.ref.current);sk(se,c)}}T.current=!1}),onBlur:ke(t.onBlur,()=>m(!1))})})}),nk="RovingFocusGroupItem",rk=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ql(),l=i||a,u=uz(nk,n),c=u.currentTabStopId===l,d=JR(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return y.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),f.jsx(jy.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(Ve.span,{tabIndex:c?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ke(t.onMouseDown,_=>{r?u.onItemFocus(l):_.preventDefault()}),onFocus:ke(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ke(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const g=fz(_,u.orientation,u.dir);if(g!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let v=d().filter(m=>m.focusable).map(m=>m.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const m=v.indexOf(_.currentTarget);v=u.loop?pz(v,m+1):v.slice(m+1)}setTimeout(()=>sk(v))}})})})});rk.displayName=nk;var dz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fz(t,e,n){const r=hz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dz[r]}function sk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function pz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mz=tk,gz=rk,R0="Tabs",[yz,DH]=Rf(R0,[ek]),ik=ek(),[vz,k0]=yz(R0),ok=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,c=XR(a),[d,h]=Pf({prop:r,onChange:s,defaultProp:i});return f.jsx(vz,{scope:n,baseId:Ql(),value:d,onValueChange:h,orientation:o,dir:c,activationMode:l,children:f.jsx(Ve.div,{dir:c,"data-orientation":o,...u,ref:e})})});ok.displayName=R0;var ak="TabsList",lk=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=k0(ak,n),o=ik(n);return f.jsx(mz,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});lk.displayName=ak;var uk="TabsTrigger",ck=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=k0(uk,n),a=ik(n),l=fk(o.baseId,r),u=pk(o.baseId,r),c=r===o.value;return f.jsx(gz,{asChild:!0,...a,focusable:!s,active:c,children:f.jsx(Ve.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ke(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ke(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ke(t.onFocus,()=>{const d=o.activationMode!=="manual";!c&&!s&&d&&o.onValueChange(r)})})})});ck.displayName=uk;var dk="TabsContent",hk=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=k0(dk,n),l=fk(a.baseId,r),u=pk(a.baseId,r),c=r===a.value,d=y.useRef(c);return y.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),f.jsx(wo,{present:s||c,children:({present:h})=>f.jsx(Ve.div,{"data-state":c?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});hk.displayName=dk;function fk(t,e){return`${t}-trigger-${e}`}function pk(t,e){return`${t}-content-${e}`}var _z=ok,mk=lk,gk=ck,yk=hk;const wz=_z,vk=y.forwardRef(({className:t,...e},n)=>f.jsx(mk,{ref:n,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));vk.displayName=mk.displayName;const Fy=y.forwardRef(({className:t,...e},n)=>f.jsx(gk,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Fy.displayName=gk.displayName;const $y=y.forwardRef(({className:t,...e},n)=>f.jsx(yk,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));$y.displayName=yk.displayName;const Ez=()=>{const{expenses:t}=Vc(),{user:e}=ws(),n=(e==null?void 0:e.role)==="employee"?t.filter(u=>u.createdBy===e.id):t,r=n.filter(u=>u.status==="pending").length,s=n.filter(u=>u.status==="approved").length,i=n.filter(u=>u.status==="rejected").length,o=n.reduce((u,c)=>u+c.amount,0),a=n.filter(u=>u.status==="approved").reduce((u,c)=>u+c.amount,0),l=[...n].sort((u,c)=>{var d,h;return((d=c.createdAt)==null?void 0:d.seconds)-((h=u.createdAt)==null?void 0:h.seconds)}).slice(0,5);return f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:["مرحباً، ",e==null?void 0:e.name]}),f.jsx("p",{className:"text-muted-foreground",children:"هذه لوحة معلومات نظام إدارة المصاريف - يمكنك متابعة طلباتك من هنا"}),(e==null?void 0:e.role)==="employee"&&f.jsx("div",{className:"mt-4",children:f.jsxs(Au,{to:"/expenses/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition",children:[f.jsx(aM,{className:"w-4 h-4"}),f.jsx("span",{children:"إضافة طلب صرف"})]})})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[f.jsxs(Mn,{children:[f.jsx(Tr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:f.jsx(Ir,{className:"text-sm font-medium",children:"إجمالي الطلبات"})}),f.jsxs(Kn,{children:[f.jsx("div",{className:"text-2xl font-bold",children:n.length}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[r," معلق • ",s," موافق عليه • ",i," مرفوض"]})]})]}),f.jsxs(Mn,{children:[f.jsx(Tr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:f.jsx(Ir,{className:"text-sm font-medium",children:"إجمالي المبالغ"})}),f.jsxs(Kn,{children:[f.jsxs("div",{className:"text-2xl font-bold",children:[o.toLocaleString()," ريال"]}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.toLocaleString()," ريال تمت الموافقة عليها"]})]})]}),f.jsxs(Mn,{children:[f.jsx(Tr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:f.jsx(Ir,{className:"text-sm font-medium",children:"طلبات بحاجة للمراجعة"})}),f.jsxs(Kn,{children:[f.jsx("div",{className:"text-2xl font-bold",children:r}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["من أصل ",n.length," طلب"]})]})]})]}),f.jsxs(wz,{defaultValue:"recent",className:"space-y-4",children:[f.jsxs(vk,{children:[f.jsx(Fy,{value:"recent",children:"أحدث الطلبات"}),f.jsx(Fy,{value:"pending",children:"الطلبات المعلقة"})]}),f.jsx($y,{value:"recent",className:"space-y-4",children:f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-1",children:f.jsxs(Mn,{children:[f.jsxs(Tr,{children:[f.jsx(Ir,{children:"أحدث الطلبات"}),f.jsx(po,{children:"آخر 5 طلبات تم تقديمها في النظام"})]}),f.jsx(Kn,{className:"space-y-4",children:l.length>0?l.map(u=>{var c;return f.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:u.expenseType||u.title}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.employeeName||"—"," •"," ",(c=u.createdAt)!=null&&c.seconds?new Date(u.createdAt.seconds*1e3).toLocaleDateString("ar-SA"):""]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"font-medium",children:[u.amount.toLocaleString()," ريال"]}),f.jsx("div",{className:`px-2 py-1 text-xs rounded-full ${u.status==="approved"?"bg-green-100 text-green-800":u.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:u.status==="approved"?"تمت الموافقة":u.status==="rejected"?"مرفوض":"معلق"})]})]},u.id)}):f.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"لا توجد طلبات حتى الآن"})})]})})}),f.jsx($y,{value:"pending",className:"space-y-4",children:f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-1",children:f.jsxs(Mn,{children:[f.jsxs(Tr,{children:[f.jsx(Ir,{children:"الطلبات المعلقة"}),f.jsx(po,{children:"الطلبات التي تنتظر الموافقة أو الرفض"})]}),f.jsx(Kn,{className:"space-y-4",children:n.filter(u=>u.status==="pending").length>0?n.filter(u=>u.status==="pending").map(u=>{var c;return f.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:u.expenseType||u.title}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.employeeName||"—"," •"," ",(c=u.createdAt)!=null&&c.seconds?new Date(u.createdAt.seconds*1e3).toLocaleDateString("ar-SA"):""]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"font-medium",children:[u.amount.toLocaleString()," ريال"]}),f.jsx("div",{className:"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800",children:"معلق"})]})]},u.id)}):f.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"لا توجد طلبات معلقة"})})]})})})]})]})},xz=Mf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tz({className:t,variant:e,...n}){return f.jsx("div",{className:Ae(xz({variant:e}),t),...n})}function Iz({className:t,...e}){return f.jsx("div",{className:Ae("animate-pulse rounded-md bg-muted",t),...e})}function Sz(){const{expenses:t,loading:e}=Vc(),{user:n}=ws(),r=t.filter(o=>o.createdBy===(n==null?void 0:n.id)),s=o=>{switch(o){case"pending":return"معلق";case"approved_by_department":return"بانتظار التنفيذي";case"waiting_executive":return"بانتظار التنفيذ";case"approved":return"مقبول";case"rejected":return"مرفوض";default:return o}},i=o=>{switch(o){case"approved":return"success";case"rejected":return"destructive";case"pending":case"approved_by_department":case"waiting_executive":return"secondary";default:return"outline"}};return f.jsxs("div",{className:"max-w-3xl mx-auto mt-10",children:[f.jsx("h1",{className:"text-2xl font-bold mb-6",children:"طلبات الصرف الخاصة بك"}),e?f.jsx("div",{className:"space-y-4",children:[...Array(3)].map((o,a)=>f.jsx(Iz,{className:"h-20 w-full rounded-xl"},a))}):r.length===0?f.jsx("p",{className:"text-gray-500",children:"لا توجد طلبات صرف حتى الآن."}):r.map(o=>f.jsx(Au,{to:`/expenses/${o.id}`,children:f.jsx(Mn,{className:"mb-4 cursor-pointer hover:shadow-md transition",children:f.jsxs(Kn,{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h2",{className:"text-lg font-semibold",children:o.title}),f.jsx(Tz,{variant:i(o.status),children:s(o.status)})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:o.description}),f.jsxs("p",{className:"mt-1 font-medium text-orange-600",children:[o.amount.toLocaleString()," ر.س"]})]})})},o.id))]})}const pa=y.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));pa.displayName="Input";const P0=y.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));P0.displayName="Textarea";function bz(){const t=xo(),{addExpense:e}=Vc(),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[l,u]=y.useState(null),[c,d]=y.useState(!1),h=async p=>{if(p.preventDefault(),!n||!s||!o)return;d(!0);const _=l&&l.length>0?Array.from(l).map(g=>`mock://file/${g.name}`):[];await e({title:n,amount:parseFloat(s),description:o,attachments:_}),d(!1),t("/")};return f.jsx("div",{className:"max-w-xl mx-auto mt-10",children:f.jsx(Mn,{children:f.jsxs(Kn,{className:"p-6",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"إضافة طلب صرف"}),f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsx(pa,{placeholder:"العنوان",value:n,onChange:p=>r(p.target.value)}),f.jsx(pa,{placeholder:"المبلغ",type:"number",value:s,onChange:p=>i(p.target.value)}),f.jsx(P0,{placeholder:"الوصف",value:o,onChange:p=>a(p.target.value)}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:"المرفقات (صور / فواتير):"}),f.jsx(pa,{type:"file",multiple:!0,accept:"image/*,.pdf",onChange:p=>u(p.target.files)})]}),f.jsx(dt,{type:"submit",disabled:c,children:c?"جاري الإرسال...":"إرسال الطلب"})]})]})})})}var Cz="Separator",hT="horizontal",Az=["horizontal","vertical"],_k=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=hT,...s}=t,i=Rz(r)?r:hT,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(Ve.div,{"data-orientation":i,...a,...s,ref:e})});_k.displayName=Cz;function Rz(t){return Az.includes(t)}var wk=_k;const Ek=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>f.jsx(wk,{ref:s,decorative:n,orientation:e,className:Ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ek.displayName=wk.displayName;const kz=()=>{var u,c,d;const{id:t}=J2(),{expenses:e,updateStatus:n}=Vc(),{user:r}=ws(),s=xo(),i=e.find(h=>h.id===t);if(!i)return f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"لم يتم العثور على الطلب"}),f.jsx("p",{className:"text-muted-foreground mb-4",children:"الطلب الذي تبحث عنه غير موجود أو تم حذفه"}),f.jsx(dt,{onClick:()=>s("/expenses"),children:"العودة إلى قائمة الطلبات"})]});const o=(u=i.createdAt)!=null&&u.seconds?new Date(i.createdAt.seconds*1e3).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"}):"—",a=i.status==="approved"?"bg-green-100 text-green-800":i.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",l=i.status==="approved"?"تمت الموافقة":i.status==="rejected"?"مرفوض":"معلق";return f.jsx("div",{className:"max-w-3xl mx-auto py-6 animate-fade-in",children:f.jsxs(Mn,{children:[f.jsx(Tr,{className:"border-b pb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs(Ir,{className:"text-2xl",children:["طلب صرف #",(c=i.id)==null?void 0:c.substring(0,5)]}),f.jsxs(po,{children:["تم تقديمه في ",o]})]}),f.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${a}`,children:l})]})}),f.jsxs(Kn,{className:"py-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"اسم الموظف"}),f.jsx("p",{className:"mt-1",children:i.employeeName||"—"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"القسم"}),f.jsx("p",{className:"mt-1",children:i.department||"—"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"نوع الصرف"}),f.jsx("p",{className:"mt-1",children:i.expenseType||"—"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"المبلغ"}),f.jsxs("p",{className:"mt-1 text-lg font-bold",children:[i.amount.toLocaleString()," ريال"]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"تاريخ التقديم"}),f.jsx("p",{className:"mt-1",children:o})]}),((d=i.updatedAt)==null?void 0:d.seconds)&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"آخر تحديث"}),f.jsx("p",{className:"mt-1",children:new Date(i.updatedAt.seconds*1e3).toLocaleDateString("ar-SA")})]})]})]}),f.jsx(Ek,{className:"my-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"الوصف"}),f.jsx("p",{className:"mt-2 p-3 bg-muted/30 rounded-md",children:i.description})]}),i.attachments&&i.attachments.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"المرفقات"}),f.jsx("ul",{className:"mt-2 space-y-2",children:i.attachments.map((h,p)=>f.jsxs("li",{className:"flex items-center gap-2 p-2 bg-muted/30 rounded-md",children:[f.jsx(VS,{className:"h-4 w-4"}),f.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600 hover:text-blue-800",children:["تحميل الملف ",p+1]})]},p))})]}),i.comments&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"تعليقات"}),f.jsx("p",{className:"mt-2 p-3 bg-muted/30 rounded-md",children:i.comments})]})]})]}),f.jsxs(A0,{className:"border-t pt-6 flex justify-between",children:[f.jsx(dt,{variant:"outline",onClick:()=>s("/expenses"),children:"العودة للقائمة"}),(r==null?void 0:r.role)==="manager"&&i.status==="pending"&&f.jsxs("div",{className:"space-x-2 rtl:space-x-reverse",children:[f.jsx(dt,{variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>{n(i.id,"rejected"),s("/expenses")},children:"رفض الطلب"}),f.jsx(dt,{className:"bg-green-600 hover:bg-green-700",onClick:()=>{n(i.id,"approved"),s("/expenses")},children:"الموافقة على الطلب"})]})]})]})})};var Fm="focusScope.autoFocusOnMount",$m="focusScope.autoFocusOnUnmount",fT={bubbles:!1,cancelable:!0},Pz="FocusScope",xk=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),u=Sn(s),c=Sn(i),d=y.useRef(null),h=zt(e,g=>l(g)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(E){if(p.paused||!a)return;const x=E.target;a.contains(x)?d.current=x:ks(d.current,{select:!0})},w=function(E){if(p.paused||!a)return;const x=E.relatedTarget;x!==null&&(a.contains(x)||ks(d.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&ks(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const m=new MutationObserver(v);return a&&m.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),m.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){mT.add(p);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Fm,fT);a.addEventListener(Fm,u),a.dispatchEvent(v),v.defaultPrevented||(Nz(Vz(Tk(a)),{select:!0}),document.activeElement===g&&ks(a))}return()=>{a.removeEventListener(Fm,u),setTimeout(()=>{const v=new CustomEvent($m,fT);a.addEventListener($m,c),a.dispatchEvent(v),v.defaultPrevented||ks(g??document.body,{select:!0}),a.removeEventListener($m,c),mT.remove(p)},0)}}},[a,u,c,p]);const _=y.useCallback(g=>{if(!n&&!r||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(w&&v){const m=g.currentTarget,[E,x]=Oz(m);E&&x?!g.shiftKey&&v===x?(g.preventDefault(),n&&ks(E,{select:!0})):g.shiftKey&&v===E&&(g.preventDefault(),n&&ks(x,{select:!0})):v===m&&g.preventDefault()}},[n,r,p.paused]);return f.jsx(Ve.div,{tabIndex:-1,...o,ref:h,onKeyDown:_})});xk.displayName=Pz;function Nz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ks(r,{select:e}),document.activeElement!==n)return}function Oz(t){const e=Tk(t),n=pT(e,t),r=pT(e.reverse(),t);return[n,r]}function Tk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pT(t,e){for(const n of t)if(!Dz(n,{upTo:e}))return n}function Dz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Mz(t){return t instanceof HTMLInputElement&&"select"in t}function ks(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Mz(t)&&e&&t.select()}}var mT=Lz();function Lz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=gT(t,e),t.unshift(e)},remove(e){var n;t=gT(t,e),(n=t[0])==null||n.resume()}}}function gT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Vz(t){return t.filter(e=>e.tagName!=="A")}var Um=0;function jz(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??yT()),document.body.insertAdjacentElement("beforeend",t[1]??yT()),Um++,()=>{Um===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Um--}},[])}function yT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Yd="right-scroll-bar-position",Zd="width-before-scroll-bar",Fz="with-scroll-bars-hidden",$z="--removed-body-scroll-bar-size";function Bm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Uz(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Bz=typeof window<"u"?y.useLayoutEffect:y.useEffect,vT=new WeakMap;function zz(t,e){var n=Uz(null,function(r){return t.forEach(function(s){return Bm(s,r)})});return Bz(function(){var r=vT.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Bm(a,null)}),i.forEach(function(a){s.has(a)||Bm(a,o)})}vT.set(n,t)},[t]),n}function Wz(t){return t}function Hz(t,e){e===void 0&&(e=Wz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var c=o;o=[],c.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return s}function qz(t){t===void 0&&(t={});var e=Hz(null);return e.options=Er({async:!0,ssr:!1},t),e}var Ik=function(t){var e=t.sideCar,n=wc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Er({},n))};Ik.isSideCarExport=!0;function Kz(t,e){return t.useMedium(e),Ik}var Sk=qz(),zm=function(){},Rp=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:zm,onWheelCapture:zm,onTouchMoveCapture:zm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,d=t.shards,h=t.sideCar,p=t.noIsolation,_=t.inert,g=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,m=t.gapMode,E=wc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,T=zz([n,e]),b=Er(Er({},E),s);return y.createElement(y.Fragment,null,c&&y.createElement(x,{sideCar:Sk,removeScrollBar:u,shards:d,noIsolation:p,inert:_,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:m}),o?y.cloneElement(y.Children.only(a),Er(Er({},b),{ref:T})):y.createElement(v,Er({},b,{className:l,ref:T}),a))});Rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rp.classNames={fullWidth:Zd,zeroRight:Yd};var Gz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Gz();return e&&t.setAttribute("nonce",e),t}function Yz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Zz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Xz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Qz())&&(Yz(e,n),Zz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Jz=function(){var t=Xz();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},bk=function(){var t=Jz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},e6={left:0,top:0,right:0,gap:0},Wm=function(t){return parseInt(t||"",10)||0},t6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Wm(n),Wm(r),Wm(s)]},n6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return e6;var e=t6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},r6=bk(),ma="data-scroll-locked",s6=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Fz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ma,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zd," .").concat(Zd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ma,`] {
    `).concat($z,": ").concat(a,`px;
  }
`)},_T=function(){var t=parseInt(document.body.getAttribute(ma)||"0",10);return isFinite(t)?t:0},i6=function(){y.useEffect(function(){return document.body.setAttribute(ma,(_T()+1).toString()),function(){var t=_T()-1;t<=0?document.body.removeAttribute(ma):document.body.setAttribute(ma,t.toString())}},[])},o6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;i6();var i=y.useMemo(function(){return n6(s)},[s]);return y.createElement(r6,{styles:s6(i,!e,s,n?"":"!important")})},Uy=!1;if(typeof window<"u")try{var Td=Object.defineProperty({},"passive",{get:function(){return Uy=!0,!0}});window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{Uy=!1}var No=Uy?{passive:!1}:!1,a6=function(t){return t.tagName==="TEXTAREA"},Ck=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!a6(t)&&n[e]==="visible")},l6=function(t){return Ck(t,"overflowY")},u6=function(t){return Ck(t,"overflowX")},wT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ak(t,r);if(s){var i=Rk(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},c6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},d6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Ak=function(t,e){return t==="v"?l6(e):u6(e)},Rk=function(t,e){return t==="v"?c6(e):d6(e)},h6=function(t,e){return t==="h"&&e==="rtl"?-1:1},f6=function(t,e,n,r,s){var i=h6(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,c=o>0,d=0,h=0;do{var p=Rk(t,a),_=p[0],g=p[1],w=p[2],v=g-w-i*_;(_||v)&&Ak(t,a)&&(d+=v,h+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(c&&(Math.abs(d)<1||!s)||!c&&(Math.abs(h)<1||!s))&&(u=!0),u},Id=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ET=function(t){return[t.deltaX,t.deltaY]},xT=function(t){return t&&"current"in t?t.current:t},p6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},m6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},g6=0,Oo=[];function y6(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(g6++)[0],i=y.useState(bk)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=ZF([t.lockRef.current],(t.shards||[]).map(xT),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Id(g),m=n.current,E="deltaX"in g?g.deltaX:m[0]-v[0],x="deltaY"in g?g.deltaY:m[1]-v[1],T,b=g.target,C=Math.abs(E)>Math.abs(x)?"h":"v";if("touches"in g&&C==="h"&&b.type==="range")return!1;var R=wT(C,b);if(!R)return!0;if(R?T=C:(T=C==="v"?"h":"v",R=wT(C,b)),!R)return!1;if(!r.current&&"changedTouches"in g&&(E||x)&&(r.current=T),!T)return!0;var F=r.current||T;return f6(F,w,g,F==="h"?E:x,!0)},[]),l=y.useCallback(function(g){var w=g;if(!(!Oo.length||Oo[Oo.length-1]!==i)){var v="deltaY"in w?ET(w):Id(w),m=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&p6(T.delta,v)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var E=(o.current.shards||[]).map(xT).filter(Boolean).filter(function(T){return T.contains(w.target)}),x=E.length>0?a(w,E[0]):!o.current.noIsolation;x&&w.cancelable&&w.preventDefault()}}},[]),u=y.useCallback(function(g,w,v,m){var E={name:g,delta:w,target:v,should:m,shadowParent:v6(v)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(x){return x!==E})},1)},[]),c=y.useCallback(function(g){n.current=Id(g),r.current=void 0},[]),d=y.useCallback(function(g){u(g.type,ET(g),g.target,a(g,t.lockRef.current))},[]),h=y.useCallback(function(g){u(g.type,Id(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return Oo.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,No),document.addEventListener("touchmove",l,No),document.addEventListener("touchstart",c,No),function(){Oo=Oo.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,No),document.removeEventListener("touchmove",l,No),document.removeEventListener("touchstart",c,No)}},[]);var p=t.removeScrollBar,_=t.inert;return y.createElement(y.Fragment,null,_?y.createElement(i,{styles:m6(s)}):null,p?y.createElement(o6,{gapMode:t.gapMode}):null)}function v6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const _6=Kz(Sk,y6);var kk=y.forwardRef(function(t,e){return y.createElement(Rp,Er({},t,{ref:e,sideCar:_6}))});kk.classNames=Rp.classNames;var w6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Do=new WeakMap,Sd=new WeakMap,bd={},Hm=0,Pk=function(t){return t&&(t.host||Pk(t.parentNode))},E6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Pk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},x6=function(t,e,n,r){var s=E6(e,Array.isArray(t)?t:[t]);bd[n]||(bd[n]=new WeakMap);var i=bd[n],o=[],a=new Set,l=new Set(s),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};s.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))c(h);else try{var p=h.getAttribute(r),_=p!==null&&p!=="false",g=(Do.get(h)||0)+1,w=(i.get(h)||0)+1;Do.set(h,g),i.set(h,w),o.push(h),g===1&&_&&Sd.set(h,!0),w===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return c(e),a.clear(),Hm++,function(){o.forEach(function(d){var h=Do.get(d)-1,p=i.get(d)-1;Do.set(d,h),i.set(d,p),h||(Sd.has(d)||d.removeAttribute(r),Sd.delete(d)),p||d.removeAttribute(n)}),Hm--,Hm||(Do=new WeakMap,Do=new WeakMap,Sd=new WeakMap,bd={})}},T6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=w6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),x6(r,s,n,"aria-hidden")):function(){return null}},N0="Dialog",[Nk,MH]=Rf(N0),[I6,lr]=Nk(N0),Ok=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u=!1,c]=Pf({prop:r,defaultProp:s,onChange:i});return f.jsx(I6,{scope:e,triggerRef:a,contentRef:l,contentId:Ql(),titleId:Ql(),descriptionId:Ql(),open:u,onOpenChange:c,onOpenToggle:y.useCallback(()=>c(d=>!d),[c]),modal:o,children:n})};Ok.displayName=N0;var Dk="DialogTrigger",S6=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(Dk,n),i=zt(e,s.triggerRef);return f.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":M0(s.open),...r,ref:i,onClick:ke(t.onClick,s.onOpenToggle)})});S6.displayName=Dk;var O0="DialogPortal",[b6,Mk]=Nk(O0,{forceMount:void 0}),Lk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=lr(O0,e);return f.jsx(b6,{scope:e,forceMount:n,children:y.Children.map(r,o=>f.jsx(wo,{present:n||i.open,children:f.jsx(Hv,{asChild:!0,container:s,children:o})}))})};Lk.displayName=O0;var ef="DialogOverlay",Vk=y.forwardRef((t,e)=>{const n=Mk(ef,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=lr(ef,t.__scopeDialog);return i.modal?f.jsx(wo,{present:r||i.open,children:f.jsx(C6,{...s,ref:e})}):null});Vk.displayName=ef;var C6=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(ef,n);return f.jsx(kk,{as:so,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(Ve.div,{"data-state":M0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mo="DialogContent",jk=y.forwardRef((t,e)=>{const n=Mk(mo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=lr(mo,t.__scopeDialog);return f.jsx(wo,{present:r||i.open,children:i.modal?f.jsx(A6,{...s,ref:e}):f.jsx(R6,{...s,ref:e})})});jk.displayName=mo;var A6=y.forwardRef((t,e)=>{const n=lr(mo,t.__scopeDialog),r=y.useRef(null),s=zt(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return T6(i)},[]),f.jsx(Fk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ke(t.onFocusOutside,i=>i.preventDefault())})}),R6=y.forwardRef((t,e)=>{const n=lr(mo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return f.jsx(Fk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Fk=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=lr(mo,n),l=y.useRef(null),u=zt(e,l);return jz(),f.jsxs(f.Fragment,{children:[f.jsx(xk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(kf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":M0(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(k6,{titleId:a.titleId}),f.jsx(N6,{contentRef:l,descriptionId:a.descriptionId})]})]})}),D0="DialogTitle",$k=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(D0,n);return f.jsx(Ve.h2,{id:s.titleId,...r,ref:e})});$k.displayName=D0;var Uk="DialogDescription",Bk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(Uk,n);return f.jsx(Ve.p,{id:s.descriptionId,...r,ref:e})});Bk.displayName=Uk;var zk="DialogClose",Wk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(zk,n);return f.jsx(Ve.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,()=>s.onOpenChange(!1))})});Wk.displayName=zk;function M0(t){return t?"open":"closed"}var Hk="DialogTitleWarning",[LH,qk]=ED(Hk,{contentName:mo,titleName:D0,docsSlug:"dialog"}),k6=({titleId:t})=>{const e=qk(Hk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},P6="DialogDescriptionWarning",N6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qk(P6).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},O6=Ok,D6=Lk,Kk=Vk,Gk=jk,Qk=$k,Yk=Bk,M6=Wk;const L6=O6,V6=D6,Zk=y.forwardRef(({className:t,...e},n)=>f.jsx(Kk,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Zk.displayName=Kk.displayName;const Xk=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(V6,{children:[f.jsx(Zk,{}),f.jsxs(Gk,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(M6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(jS,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xk.displayName=Gk.displayName;const Jk=({className:t,...e})=>f.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Jk.displayName="DialogHeader";const eP=({className:t,...e})=>f.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});eP.displayName="DialogFooter";const tP=y.forwardRef(({className:t,...e},n)=>f.jsx(Qk,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...e}));tP.displayName=Qk.displayName;const nP=y.forwardRef(({className:t,...e},n)=>f.jsx(Yk,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));nP.displayName=Yk.displayName;const j6=()=>{var h;const{expenses:t,updateStatus:e}=Vc(),{user:n}=ws(),r=xo(),[s,i]=y.useState(null),[o,a]=y.useState(""),[l,u]=y.useState(null);if(!n||n.role!=="section_manager"&&n.role!=="manager")return f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"غير مصرح بالوصول"}),f.jsx("p",{className:"text-muted-foreground mb-4",children:"هذه الصفحة متاحة فقط لمدراء الأقسام والمديرين"}),f.jsx(dt,{onClick:()=>r("/"),children:"العودة إلى الصفحة الرئيسية"})]});const c=t.filter(p=>n.role==="manager"?p.status==="waiting_executive":n.role==="section_manager"?p.status==="pending"&&p.department===n.department:!1),d=()=>{s!=null&&s.id&&(e(s.id,"rejected"),i(null),a(""),u(null))};return f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"الطلبات المعلقة"}),f.jsx("p",{className:"text-muted-foreground",children:"مراجعة وإدارة طلبات الصرف التي تحتاج إلى موافقة"})]}),f.jsx("div",{className:"grid gap-6",children:c.length>0?c.map(p=>{var _,g,w,v;return f.jsxs(Mn,{className:"overflow-hidden",children:[f.jsx(Tr,{className:"pb-3",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(Ir,{children:p.title}),f.jsxs(po,{children:["طلب #",(_=p.id)==null?void 0:_.substring(0,5)," - بواسطة"," ",f.jsx("strong",{children:p.employeeName||"—"})," (",p.department||"—",")"]})]}),f.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-800",children:p.status==="waiting_executive"?"بانتظار التنفيذي":"معلق"})]})}),f.jsxs(Kn,{children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"المبلغ"}),f.jsxs("p",{className:"font-bold",children:[((g=p.amount)==null?void 0:g.toLocaleString())??"—"," ريال"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"تاريخ الطلب"}),f.jsx("p",{children:(w=p.createdAt)!=null&&w.seconds?new Date(p.createdAt.seconds*1e3).toLocaleDateString("ar-SA"):"—"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"المرفقات"}),f.jsxs("p",{children:[((v=p.attachments)==null?void 0:v.length)||0," ملفات"]})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"الوصف:"}),f.jsx("p",{className:"p-3 bg-muted/30 rounded-md",children:p.description||"—"})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx(dt,{onClick:()=>r(`/expenses/${p.id}`),variant:"outline",children:"عرض التفاصيل الكاملة"}),n.role==="section_manager"&&f.jsxs(f.Fragment,{children:[f.jsx(dt,{onClick:()=>e(p.id,"approved"),className:"bg-green-600 hover:bg-green-700",children:"الموافقة النهائية"}),f.jsx(dt,{onClick:()=>e(p.id,"waiting_executive"),variant:"default",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"إرسال للمدير التنفيذي"})]}),n.role==="manager"&&f.jsx(dt,{onClick:()=>e(p.id,"approved"),className:"bg-green-700 hover:bg-green-800 text-white",children:"الموافقة النهائية"}),f.jsx(dt,{onClick:()=>{i(p),u("reject")},variant:"destructive",children:"رفض الطلب"})]})]})]},p.id)}):f.jsx(Mn,{children:f.jsxs(Tr,{children:[f.jsx(Ir,{children:"لا توجد طلبات معلقة"}),f.jsx(po,{children:"جميع الطلبات تمت مراجعتها أو لا توجد طلبات حالياً."})]})})}),f.jsx(L6,{open:!!s,onOpenChange:p=>!p&&i(null),children:f.jsxs(Xk,{className:"sm:max-w-md",children:[f.jsxs(Jk,{children:[f.jsx(tP,{children:"تأكيد رفض الطلب"}),f.jsxs(nP,{children:["طلب #",(h=s==null?void 0:s.id)==null?void 0:h.substring(0,5)," - ",s==null?void 0:s.title]})]}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium mb-1",children:"إضافة تعليق (اختياري):"}),f.jsx(P0,{placeholder:"أدخل سبب الرفض",value:o,onChange:p=>a(p.target.value)})]})}),f.jsxs(eP,{children:[f.jsx(dt,{variant:"outline",onClick:()=>{i(null),u(null)},children:"إلغاء"}),f.jsx(dt,{variant:"destructive",onClick:d,children:"رفض الطلب"})]})]})})]})};var jc=t=>t.type==="checkbox",zi=t=>t instanceof Date,Yt=t=>t==null;const rP=t=>typeof t=="object";var lt=t=>!Yt(t)&&!Array.isArray(t)&&rP(t)&&!zi(t),sP=t=>lt(t)&&t.target?jc(t.target)?t.target.checked:t.target.value:t,F6=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,iP=(t,e)=>t.has(F6(e)),$6=t=>{const e=t.constructor&&t.constructor.prototype;return lt(e)&&e.hasOwnProperty("isPrototypeOf")},L0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function on(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(L0&&(t instanceof Blob||t instanceof FileList))&&(n||lt(t)))if(e=n?[]:{},!n&&!$6(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=on(t[r]));else return t;return e}var kp=t=>Array.isArray(t)?t.filter(Boolean):[],st=t=>t===void 0,z=(t,e,n)=>{if(!e||!lt(t))return n;const r=kp(e.split(/[,[\].]+?/)).reduce((s,i)=>Yt(s)?s:s[i],t);return st(r)||r===t?st(t[e])?n:t[e]:r},Pn=t=>typeof t=="boolean",V0=t=>/^\w*$/.test(t),oP=t=>kp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(t,e,n)=>{let r=-1;const s=V0(e)?[e]:oP(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=lt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const tf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},aP=N.createContext(null),Pp=()=>N.useContext(aP),U6=t=>{const{children:e,...n}=t;return N.createElement(aP.Provider,{value:n},e)};var lP=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Gn.all&&(e._proxyFormState[o]=!r||Gn.all),n&&(n[o]=!0),t[o]}});return s},an=t=>lt(t)&&!Object.keys(t).length,uP=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return an(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Gn.all))},ru=t=>Array.isArray(t)?t:[t],cP=(t,e,n)=>!t||!e||t===e||ru(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function j0(t){const e=N.useRef(t);e.current=t,N.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function B6(t){const e=Pp(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=N.useState(n._formState),l=N.useRef(!0),u=N.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=N.useRef(s);return c.current=s,j0({disabled:r,next:d=>l.current&&cP(c.current,d.name,i)&&uP(d,u.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),N.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),lP(o,n,u.current,!1)}var Cr=t=>typeof t=="string",dP=(t,e,n,r,s)=>Cr(t)?(r&&e.watch.add(t),z(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),z(n,i))):(r&&(e.watchAll=!0),n);function z6(t){const e=Pp(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=N.useRef(r);a.current=r,j0({disabled:i,subject:n._subjects.values,next:c=>{cP(a.current,c.name,o)&&u(on(dP(a.current,n._names,c.values||n._formValues,!1,s)))}});const[l,u]=N.useState(n._getWatch(r,s));return N.useEffect(()=>n._removeUnmounted()),l}function W6(t){const e=Pp(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=iP(s._names.array,n),a=z6({control:s,name:n,defaultValue:z(s._formValues,n,z(s._defaultValues,n,t.defaultValue)),exact:!0}),l=B6({control:s,name:n,exact:!0}),u=N.useRef(s.register(n,{...t.rules,value:a,...Pn(t.disabled)?{disabled:t.disabled}:{}}));return N.useEffect(()=>{const c=s._options.shouldUnregister||i,d=(h,p)=>{const _=z(s._fields,h);_&&_._f&&(_._f.mount=p)};if(d(n,!0),c){const h=on(z(s._options.defaultValues,n));De(s._defaultValues,n,h),st(z(s._formValues,n))&&De(s._formValues,n,h)}return()=>{(o?c&&!s._state.action:c)?s.unregister(n):d(n,!1)}},[n,s,o,i]),N.useEffect(()=>{z(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:z(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...Pn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:N.useCallback(c=>u.current.onChange({target:{value:sP(c),name:n},type:tf.CHANGE}),[n]),onBlur:N.useCallback(()=>u.current.onBlur({target:{value:z(s._formValues,n),name:n},type:tf.BLUR}),[n,s]),ref:N.useCallback(c=>{const d=z(s._fields,n);d&&c&&(d._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:h=>c.setCustomValidity(h),reportValidity:()=>c.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!z(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!z(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!z(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!z(l.validatingFields,n)},error:{enumerable:!0,get:()=>z(l.errors,n)}})}}const H6=t=>t.render(W6(t));var hP=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},TT=t=>({isOnSubmit:!t||t===Gn.onSubmit,isOnBlur:t===Gn.onBlur,isOnChange:t===Gn.onChange,isOnAll:t===Gn.all,isOnTouch:t===Gn.onTouched}),IT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const su=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=z(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(su(a,e))break}else if(lt(a)&&su(a,e))break}}};var q6=(t,e,n)=>{const r=ru(z(t,n));return De(r,"root",e[n]),De(t,n,r),t},F0=t=>t.type==="file",ss=t=>typeof t=="function",nf=t=>{if(!L0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Xd=t=>Cr(t),$0=t=>t.type==="radio",rf=t=>t instanceof RegExp;const ST={value:!1,isValid:!1},bT={value:!0,isValid:!0};var fP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!st(t[0].attributes.value)?st(t[0].value)||t[0].value===""?bT:{value:t[0].value,isValid:!0}:bT:ST}return ST};const CT={isValid:!1,value:null};var pP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,CT):CT;function AT(t,e,n="validate"){if(Xd(t)||Array.isArray(t)&&t.every(Xd)||Pn(t)&&!t)return{type:n,message:Xd(t)?t:"",ref:e}}var Mo=t=>lt(t)&&!rf(t)?t:{value:t,message:""},RT=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:p,name:_,valueAsNumber:g,mount:w,disabled:v}=t._f,m=z(e,_);if(!w||v)return{};const E=o?o[0]:i,x=D=>{r&&E.reportValidity&&(E.setCustomValidity(Pn(D)?"":D||""),E.reportValidity())},T={},b=$0(i),C=jc(i),R=b||C,F=(g||F0(i))&&st(i.value)&&st(m)||nf(i)&&i.value===""||m===""||Array.isArray(m)&&!m.length,L=hP.bind(null,_,n,T),re=(D,q,$,se=Gr.maxLength,Z=Gr.minLength)=>{const le=D?q:$;T[_]={type:D?se:Z,message:le,ref:i,...L(D?se:Z,le)}};if(s?!Array.isArray(m)||!m.length:a&&(!R&&(F||Yt(m))||Pn(m)&&!m||C&&!fP(o).isValid||b&&!pP(o).isValid)){const{value:D,message:q}=Xd(a)?{value:!!a,message:a}:Mo(a);if(D&&(T[_]={type:Gr.required,message:q,ref:E,...L(Gr.required,q)},!n))return x(q),T}if(!F&&(!Yt(c)||!Yt(d))){let D,q;const $=Mo(d),se=Mo(c);if(!Yt(m)&&!isNaN(m)){const Z=i.valueAsNumber||m&&+m;Yt($.value)||(D=Z>$.value),Yt(se.value)||(q=Z<se.value)}else{const Z=i.valueAsDate||new Date(m),le=ee=>new Date(new Date().toDateString()+" "+ee),A=i.type=="time",B=i.type=="week";Cr($.value)&&m&&(D=A?le(m)>le($.value):B?m>$.value:Z>new Date($.value)),Cr(se.value)&&m&&(q=A?le(m)<le(se.value):B?m<se.value:Z<new Date(se.value))}if((D||q)&&(re(!!D,$.message,se.message,Gr.max,Gr.min),!n))return x(T[_].message),T}if((l||u)&&!F&&(Cr(m)||s&&Array.isArray(m))){const D=Mo(l),q=Mo(u),$=!Yt(D.value)&&m.length>+D.value,se=!Yt(q.value)&&m.length<+q.value;if(($||se)&&(re($,D.message,q.message),!n))return x(T[_].message),T}if(h&&!F&&Cr(m)){const{value:D,message:q}=Mo(h);if(rf(D)&&!m.match(D)&&(T[_]={type:Gr.pattern,message:q,ref:i,...L(Gr.pattern,q)},!n))return x(q),T}if(p){if(ss(p)){const D=await p(m,e),q=AT(D,E);if(q&&(T[_]={...q,...L(Gr.validate,q.message)},!n))return x(q.message),T}else if(lt(p)){let D={};for(const q in p){if(!an(D)&&!n)break;const $=AT(await p[q](m,e),E,q);$&&(D={...$,...L(q,$.message)},x($.message),n&&(T[_]=D))}if(!an(D)&&(T[_]={ref:E,...D},!n))return T}}return x(!0),T};function K6(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=st(t)?r++:t[e[r++]];return t}function G6(t){for(const e in t)if(t.hasOwnProperty(e)&&!st(t[e]))return!1;return!0}function gt(t,e){const n=Array.isArray(e)?e:V0(e)?[e]:oP(e),r=n.length===1?t:K6(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(lt(r)&&an(r)||Array.isArray(r)&&G6(r))&&gt(t,n.slice(0,-1)),t}var qm=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},By=t=>Yt(t)||!rP(t);function Fs(t,e){if(By(t)||By(e))return t===e;if(zi(t)&&zi(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(zi(i)&&zi(o)||lt(i)&&lt(o)||Array.isArray(i)&&Array.isArray(o)?!Fs(i,o):i!==o)return!1}}return!0}var mP=t=>t.type==="select-multiple",Q6=t=>$0(t)||jc(t),Km=t=>nf(t)&&t.isConnected,gP=t=>{for(const e in t)if(ss(t[e]))return!0;return!1};function sf(t,e={}){const n=Array.isArray(t);if(lt(t)||n)for(const r in t)Array.isArray(t[r])||lt(t[r])&&!gP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},sf(t[r],e[r])):Yt(t[r])||(e[r]=!0);return e}function yP(t,e,n){const r=Array.isArray(t);if(lt(t)||r)for(const s in t)Array.isArray(t[s])||lt(t[s])&&!gP(t[s])?st(e)||By(n[s])?n[s]=Array.isArray(t[s])?sf(t[s],[]):{...sf(t[s])}:yP(t[s],Yt(e)?{}:e[s],n[s]):n[s]=!Fs(t[s],e[s]);return n}var Il=(t,e)=>yP(t,e,sf(e)),vP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>st(t)?t:e?t===""?NaN:t&&+t:n&&Cr(t)?new Date(t):r?r(t):t;function Gm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return F0(e)?e.files:$0(e)?pP(t.refs).value:mP(e)?[...e.selectedOptions].map(({value:n})=>n):jc(e)?fP(t.refs).value:vP(st(e.value)?t.ref.value:e.value,t)}var Y6=(t,e,n,r)=>{const s={};for(const i of t){const o=z(e,i);o&&De(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Sl=t=>st(t)?t:rf(t)?t.source:lt(t)?rf(t.value)?t.value.source:t.value:t;const kT="AsyncFunction";var Z6=t=>(!t||!t.validate)&&!!(ss(t.validate)&&t.validate.constructor.name===kT||lt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===kT)),X6=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function PT(t,e,n){const r=z(t,n);if(r||V0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=z(e,i),a=z(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var J6=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,eW=(t,e)=>!kp(z(t,e)).length&&gt(t,e);const tW={mode:Gn.onSubmit,reValidateMode:Gn.onChange,shouldFocusError:!0};function nW(t={}){let e={...tW,...t},n={submitCount:0,isDirty:!1,isLoading:ss(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=lt(e.defaultValues)||lt(e.values)?on(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:on(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:qm(),array:qm(),state:qm()},h=TT(e.mode),p=TT(e.reValidateMode),_=e.criteriaMode===Gn.all,g=I=>S=>{clearTimeout(u),u=setTimeout(I,S)},w=async I=>{if(!t.disabled&&(c.isValid||I)){const S=e.resolver?an((await R()).errors):await L(r,!0);S!==n.isValid&&d.state.next({isValid:S})}},v=(I,S)=>{!t.disabled&&(c.isValidating||c.validatingFields)&&((I||Array.from(a.mount)).forEach(k=>{k&&(S?De(n.validatingFields,k,S):gt(n.validatingFields,k))}),d.state.next({validatingFields:n.validatingFields,isValidating:!an(n.validatingFields)}))},m=(I,S=[],k,K,W=!0,U=!0)=>{if(K&&k&&!t.disabled){if(o.action=!0,U&&Array.isArray(z(r,I))){const ae=k(z(r,I),K.argA,K.argB);W&&De(r,I,ae)}if(U&&Array.isArray(z(n.errors,I))){const ae=k(z(n.errors,I),K.argA,K.argB);W&&De(n.errors,I,ae),eW(n.errors,I)}if(c.touchedFields&&U&&Array.isArray(z(n.touchedFields,I))){const ae=k(z(n.touchedFields,I),K.argA,K.argB);W&&De(n.touchedFields,I,ae)}c.dirtyFields&&(n.dirtyFields=Il(s,i)),d.state.next({name:I,isDirty:D(I,S),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else De(i,I,S)},E=(I,S)=>{De(n.errors,I,S),d.state.next({errors:n.errors})},x=I=>{n.errors=I,d.state.next({errors:n.errors,isValid:!1})},T=(I,S,k,K)=>{const W=z(r,I);if(W){const U=z(i,I,st(k)?z(s,I):k);st(U)||K&&K.defaultChecked||S?De(i,I,S?U:Gm(W._f)):se(I,U),o.mount&&w()}},b=(I,S,k,K,W)=>{let U=!1,ae=!1;const ye={name:I};if(!t.disabled){const tt=!!(z(r,I)&&z(r,I)._f&&z(r,I)._f.disabled);if(!k||K){c.isDirty&&(ae=n.isDirty,n.isDirty=ye.isDirty=D(),U=ae!==ye.isDirty);const Be=tt||Fs(z(s,I),S);ae=!!(!tt&&z(n.dirtyFields,I)),Be||tt?gt(n.dirtyFields,I):De(n.dirtyFields,I,!0),ye.dirtyFields=n.dirtyFields,U=U||c.dirtyFields&&ae!==!Be}if(k){const Be=z(n.touchedFields,I);Be||(De(n.touchedFields,I,k),ye.touchedFields=n.touchedFields,U=U||c.touchedFields&&Be!==k)}U&&W&&d.state.next(ye)}return U?ye:{}},C=(I,S,k,K)=>{const W=z(n.errors,I),U=c.isValid&&Pn(S)&&n.isValid!==S;if(t.delayError&&k?(l=g(()=>E(I,k)),l(t.delayError)):(clearTimeout(u),l=null,k?De(n.errors,I,k):gt(n.errors,I)),(k?!Fs(W,k):W)||!an(K)||U){const ae={...K,...U&&Pn(S)?{isValid:S}:{},errors:n.errors,name:I};n={...n,...ae},d.state.next(ae)}},R=async I=>{v(I,!0);const S=await e.resolver(i,e.context,Y6(I||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(I),S},F=async I=>{const{errors:S}=await R(I);if(I)for(const k of I){const K=z(S,k);K?De(n.errors,k,K):gt(n.errors,k)}else n.errors=S;return S},L=async(I,S,k={valid:!0})=>{for(const K in I){const W=I[K];if(W){const{_f:U,...ae}=W;if(U){const ye=a.array.has(U.name),tt=W._f&&Z6(W._f);tt&&c.validatingFields&&v([K],!0);const Be=await RT(W,i,_,e.shouldUseNativeValidation&&!S,ye);if(tt&&c.validatingFields&&v([K]),Be[U.name]&&(k.valid=!1,S))break;!S&&(z(Be,U.name)?ye?q6(n.errors,Be,U.name):De(n.errors,U.name,Be[U.name]):gt(n.errors,U.name))}!an(ae)&&await L(ae,S,k)}}return k.valid},re=()=>{for(const I of a.unMount){const S=z(r,I);S&&(S._f.refs?S._f.refs.every(k=>!Km(k)):!Km(S._f.ref))&&Re(I)}a.unMount=new Set},D=(I,S)=>!t.disabled&&(I&&S&&De(i,I,S),!Fs(Y(),s)),q=(I,S,k)=>dP(I,a,{...o.mount?i:st(S)?s:Cr(I)?{[I]:S}:S},k,S),$=I=>kp(z(o.mount?i:s,I,t.shouldUnregister?z(s,I,[]):[])),se=(I,S,k={})=>{const K=z(r,I);let W=S;if(K){const U=K._f;U&&(!U.disabled&&De(i,I,vP(S,U)),W=nf(U.ref)&&Yt(S)?"":S,mP(U.ref)?[...U.ref.options].forEach(ae=>ae.selected=W.includes(ae.value)):U.refs?jc(U.ref)?U.refs.length>1?U.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(W)?!!W.find(ye=>ye===ae.value):W===ae.value)):U.refs[0]&&(U.refs[0].checked=!!W):U.refs.forEach(ae=>ae.checked=ae.value===W):F0(U.ref)?U.ref.value="":(U.ref.value=W,U.ref.type||d.values.next({name:I,values:{...i}})))}(k.shouldDirty||k.shouldTouch)&&b(I,W,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&ee(I)},Z=(I,S,k)=>{for(const K in S){const W=S[K],U=`${I}.${K}`,ae=z(r,U);(a.array.has(I)||lt(W)||ae&&!ae._f)&&!zi(W)?Z(U,W,k):se(U,W,k)}},le=(I,S,k={})=>{const K=z(r,I),W=a.array.has(I),U=on(S);De(i,I,U),W?(d.array.next({name:I,values:{...i}}),(c.isDirty||c.dirtyFields)&&k.shouldDirty&&d.state.next({name:I,dirtyFields:Il(s,i),isDirty:D(I,U)})):K&&!K._f&&!Yt(U)?Z(I,U,k):se(I,U,k),IT(I,a)&&d.state.next({...n}),d.values.next({name:o.mount?I:void 0,values:{...i}})},A=async I=>{o.mount=!0;const S=I.target;let k=S.name,K=!0;const W=z(r,k),U=()=>S.type?Gm(W._f):sP(I),ae=ye=>{K=Number.isNaN(ye)||zi(ye)&&isNaN(ye.getTime())||Fs(ye,z(i,k,ye))};if(W){let ye,tt;const Be=U(),dr=I.type===tf.BLUR||I.type===tf.FOCUS_OUT,Ts=!X6(W._f)&&!e.resolver&&!z(n.errors,k)&&!W._f.deps||J6(dr,z(n.touchedFields,k),n.isSubmitted,p,h),Ao=IT(k,a,dr);De(i,k,Be),dr?(W._f.onBlur&&W._f.onBlur(I),l&&l(0)):W._f.onChange&&W._f.onChange(I);const ul=b(k,Be,dr,!1),Uc=!an(ul)||Ao;if(!dr&&d.values.next({name:k,type:I.type,values:{...i}}),Ts)return c.isValid&&(t.mode==="onBlur"?dr&&w():w()),Uc&&d.state.next({name:k,...Ao?{}:ul});if(!dr&&Ao&&d.state.next({...n}),e.resolver){const{errors:cl}=await R([k]);if(ae(Be),K){const Dp=PT(n.errors,r,k),Ro=PT(cl,r,Dp.name||k);ye=Ro.error,k=Ro.name,tt=an(cl)}}else v([k],!0),ye=(await RT(W,i,_,e.shouldUseNativeValidation))[k],v([k]),ae(Be),K&&(ye?tt=!1:c.isValid&&(tt=await L(r,!0)));K&&(W._f.deps&&ee(W._f.deps),C(k,tt,ye,ul))}},B=(I,S)=>{if(z(n.errors,S)&&I.focus)return I.focus(),1},ee=async(I,S={})=>{let k,K;const W=ru(I);if(e.resolver){const U=await F(st(I)?I:W);k=an(U),K=I?!W.some(ae=>z(U,ae)):k}else I?(K=(await Promise.all(W.map(async U=>{const ae=z(r,U);return await L(ae&&ae._f?{[U]:ae}:ae)}))).every(Boolean),!(!K&&!n.isValid)&&w()):K=k=await L(r);return d.state.next({...!Cr(I)||c.isValid&&k!==n.isValid?{}:{name:I},...e.resolver||!I?{isValid:k}:{},errors:n.errors}),S.shouldFocus&&!K&&su(r,B,I?W:a.mount),K},Y=I=>{const S={...o.mount?i:s};return st(I)?S:Cr(I)?z(S,I):I.map(k=>z(S,k))},oe=(I,S)=>({invalid:!!z((S||n).errors,I),isDirty:!!z((S||n).dirtyFields,I),error:z((S||n).errors,I),isValidating:!!z(n.validatingFields,I),isTouched:!!z((S||n).touchedFields,I)}),xe=I=>{I&&ru(I).forEach(S=>gt(n.errors,S)),d.state.next({errors:I?n.errors:{}})},je=(I,S,k)=>{const K=(z(r,I,{_f:{}})._f||{}).ref,W=z(n.errors,I)||{},{ref:U,message:ae,type:ye,...tt}=W;De(n.errors,I,{...tt,...S,ref:K}),d.state.next({name:I,errors:n.errors,isValid:!1}),k&&k.shouldFocus&&K&&K.focus&&K.focus()},Kt=(I,S)=>ss(I)?d.values.subscribe({next:k=>I(q(void 0,S),k)}):q(I,S,!0),Re=(I,S={})=>{for(const k of I?ru(I):a.mount)a.mount.delete(k),a.array.delete(k),S.keepValue||(gt(r,k),gt(i,k)),!S.keepError&&gt(n.errors,k),!S.keepDirty&&gt(n.dirtyFields,k),!S.keepTouched&&gt(n.touchedFields,k),!S.keepIsValidating&&gt(n.validatingFields,k),!e.shouldUnregister&&!S.keepDefaultValue&&gt(s,k);d.values.next({values:{...i}}),d.state.next({...n,...S.keepDirty?{isDirty:D()}:{}}),!S.keepIsValid&&w()},sn=({disabled:I,name:S,field:k,fields:K,value:W})=>{if(Pn(I)&&o.mount||I){const U=I?void 0:st(W)?Gm(k?k._f:z(K,S)._f):W;De(i,S,U),b(S,U,!1,!1,!0)}},Rn=(I,S={})=>{let k=z(r,I);const K=Pn(S.disabled)||Pn(t.disabled);return De(r,I,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:I}},name:I,mount:!0,...S}}),a.mount.add(I),k?sn({field:k,disabled:Pn(S.disabled)?S.disabled:t.disabled,name:I,value:S.value}):T(I,!0,S.value),{...K?{disabled:S.disabled||t.disabled}:{},...e.progressive?{required:!!S.required,min:Sl(S.min),max:Sl(S.max),minLength:Sl(S.minLength),maxLength:Sl(S.maxLength),pattern:Sl(S.pattern)}:{},name:I,onChange:A,onBlur:A,ref:W=>{if(W){Rn(I,S),k=z(r,I);const U=st(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,ae=Q6(U),ye=k._f.refs||[];if(ae?ye.find(tt=>tt===U):U===k._f.ref)return;De(r,I,{_f:{...k._f,...ae?{refs:[...ye.filter(Km),U,...Array.isArray(z(s,I))?[{}]:[]],ref:{type:U.type,name:I}}:{ref:U}}}),T(I,!1,void 0,U)}else k=z(r,I,{}),k._f&&(k._f.mount=!1),(e.shouldUnregister||S.shouldUnregister)&&!(iP(a.array,I)&&o.action)&&a.unMount.add(I)}}},$n=()=>e.shouldFocusError&&su(r,B,a.mount),ur=I=>{Pn(I)&&(d.state.next({disabled:I}),su(r,(S,k)=>{const K=z(r,k);K&&(S.disabled=K._f.disabled||I,Array.isArray(K._f.refs)&&K._f.refs.forEach(W=>{W.disabled=K._f.disabled||I}))},0,!1))},Oi=(I,S)=>async k=>{let K;k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let W=on(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:U,values:ae}=await R();n.errors=U,W=ae}else await L(r);if(gt(n.errors,"root"),an(n.errors)){d.state.next({errors:{}});try{await I(W,k)}catch(U){K=U}}else S&&await S({...n.errors},k),$n(),setTimeout($n);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:an(n.errors)&&!K,submitCount:n.submitCount+1,errors:n.errors}),K)throw K},Es=(I,S={})=>{z(r,I)&&(st(S.defaultValue)?le(I,on(z(s,I))):(le(I,S.defaultValue),De(s,I,on(S.defaultValue))),S.keepTouched||gt(n.touchedFields,I),S.keepDirty||(gt(n.dirtyFields,I),n.isDirty=S.defaultValue?D(I,on(z(s,I))):D()),S.keepError||(gt(n.errors,I),c.isValid&&w()),d.state.next({...n}))},cr=(I,S={})=>{const k=I?on(I):s,K=on(k),W=an(I),U=W?s:K;if(S.keepDefaultValues||(s=k),!S.keepValues){if(S.keepDirtyValues){const ae=new Set([...a.mount,...Object.keys(Il(s,i))]);for(const ye of Array.from(ae))z(n.dirtyFields,ye)?De(U,ye,z(i,ye)):le(ye,z(U,ye))}else{if(L0&&st(I))for(const ae of a.mount){const ye=z(r,ae);if(ye&&ye._f){const tt=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(nf(tt)){const Be=tt.closest("form");if(Be){Be.reset();break}}}}r={}}i=t.shouldUnregister?S.keepDefaultValues?on(s):{}:on(U),d.array.next({values:{...U}}),d.values.next({values:{...U}})}a={mount:S.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!S.keepIsValid||!!S.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:S.keepSubmitCount?n.submitCount:0,isDirty:W?!1:S.keepDirty?n.isDirty:!!(S.keepDefaultValues&&!Fs(I,s)),isSubmitted:S.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:W?{}:S.keepDirtyValues?S.keepDefaultValues&&i?Il(s,i):n.dirtyFields:S.keepDefaultValues&&I?Il(s,I):S.keepDirty?n.dirtyFields:{},touchedFields:S.keepTouched?n.touchedFields:{},errors:S.keepErrors?n.errors:{},isSubmitSuccessful:S.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},xs=(I,S)=>cr(ss(I)?I(i):I,S);return{control:{register:Rn,unregister:Re,getFieldState:oe,handleSubmit:Oi,setError:je,_executeSchema:R,_getWatch:q,_getDirty:D,_updateValid:w,_removeUnmounted:re,_updateFieldArray:m,_updateDisabledField:sn,_getFieldArray:$,_reset:cr,_resetDefaultValues:()=>ss(e.defaultValues)&&e.defaultValues().then(I=>{xs(I,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:I=>{n={...n,...I}},_disableForm:ur,_subjects:d,_proxyFormState:c,_setErrors:x,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(I){o=I},get _defaultValues(){return s},get _names(){return a},set _names(I){a=I},get _formState(){return n},set _formState(I){n=I},get _options(){return e},set _options(I){e={...e,...I}}},trigger:ee,register:Rn,handleSubmit:Oi,watch:Kt,setValue:le,getValues:Y,reset:xs,resetField:Es,clearErrors:xe,unregister:Re,setError:je,setFocus:(I,S={})=>{const k=z(r,I),K=k&&k._f;if(K){const W=K.refs?K.refs[0]:K.ref;W.focus&&(W.focus(),S.shouldSelect&&W.select())}},getFieldState:oe}}function rW(t={}){const e=N.useRef(),n=N.useRef(),[r,s]=N.useState({isDirty:!1,isValidating:!1,isLoading:ss(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ss(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...nW(t),formState:r});const i=e.current.control;return i._options=t,j0({subject:i._subjects.state,next:o=>{uP(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),N.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),N.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),N.useEffect(()=>{t.values&&!Fs(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),N.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),N.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),N.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),N.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=lP(r,i),e.current}var Ce;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ce||(Ce={}));var zy;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(zy||(zy={}));const Q=Ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$s=t=>{switch(typeof t){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return isNaN(t)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(t)?Q.array:t===null?Q.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Q.promise:typeof Map<"u"&&t instanceof Map?Q.map:typeof Set<"u"&&t instanceof Set?Q.set:typeof Date<"u"&&t instanceof Date?Q.date:Q.object;default:return Q.unknown}},j=Ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),sW=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Tn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof Tn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Tn.create=t=>new Tn(t);const Wa=(t,e)=>{let n;switch(t.code){case j.invalid_type:t.received===Q.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case j.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ce.jsonStringifyReplacer)}`;break;case j.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ce.joinValues(t.keys,", ")}`;break;case j.invalid_union:n="Invalid input";break;case j.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ce.joinValues(t.options)}`;break;case j.invalid_enum_value:n=`Invalid enum value. Expected ${Ce.joinValues(t.options)}, received '${t.received}'`;break;case j.invalid_arguments:n="Invalid function arguments";break;case j.invalid_return_type:n="Invalid function return type";break;case j.invalid_date:n="Invalid date";break;case j.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ce.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case j.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case j.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case j.custom:n="Invalid input";break;case j.invalid_intersection_types:n="Intersection results could not be merged";break;case j.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case j.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ce.assertNever(t)}return{message:n}};let _P=Wa;function iW(t){_P=t}function of(){return _P}const af=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},oW=[];function G(t,e){const n=of(),r=af({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Wa?void 0:Wa].filter(s=>!!s)});t.common.issues.push(r)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ce;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return qt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ce=Object.freeze({status:"aborted"}),ea=t=>({status:"dirty",value:t}),tn=t=>({status:"valid",value:t}),Wy=t=>t.status==="aborted",Hy=t=>t.status==="dirty",Qu=t=>t.status==="valid",Yu=t=>typeof Promise<"u"&&t instanceof Promise;function lf(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function wP(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ne||(ne={}));var Vl,jl;class $r{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const NT=(t,e)=>{if(Qu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Tn(t.common.issues);return this._error=n,this._error}}};function me(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,u;const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class Ee{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return $s(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:$s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qt,ctx:{common:e.parent.common,data:e.data,parsedType:$s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Yu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$s(e)},i=this._parseSync({data:e,path:s.path,parent:s});return NT(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$s(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Yu(s)?s:Promise.resolve(s));return NT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:j.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new ar({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Lr.create(this,this._def)}nullable(){return xi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return er.create(this,this._def)}promise(){return qa.create(this,this._def)}or(e){return ec.create([this,e],this._def)}and(e){return tc.create(this,e,this._def)}transform(e){return new ar({...me(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new oc({...me(this._def),innerType:this,defaultValue:n,typeName:ue.ZodDefault})}brand(){return new U0({typeName:ue.ZodBranded,type:this,...me(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ac({...me(this._def),innerType:this,catchValue:n,typeName:ue.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Fc.create(this,e)}readonly(){return lc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const aW=/^c[^\s-]{8,}$/i,lW=/^[0-9a-z]+$/,uW=/^[0-9A-HJKMNP-TV-Z]{26}$/,cW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dW=/^[a-z0-9_-]{21}$/i,hW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qm;const mW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gW=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,yW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,EP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vW=new RegExp(`^${EP}$`);function xP(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function _W(t){return new RegExp(`^${xP(t)}$`)}function TP(t){let e=`${EP}T${xP(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function wW(t,e){return!!((e==="v4"||!e)&&mW.test(t)||(e==="v6"||!e)&&gW.test(t))}class Yn extends Ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Q.string){const i=this._getOrReturnCtx(e);return G(i,{code:j.invalid_type,expected:Q.string,received:i.parsedType}),ce}const r=new qt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:j.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:j.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?G(s,{code:j.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&G(s,{code:j.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")fW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"email",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Qm||(Qm=new RegExp(pW,"u")),Qm.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"emoji",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")cW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"uuid",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")dW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"nanoid",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")aW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")lW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid2",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")uW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ulid",code:j.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),G(s,{validation:"url",code:j.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"regex",code:j.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),G(s,{code:j.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:j.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:j.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?TP(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:j.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?vW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:j.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?_W(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:j.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?hW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"duration",code:j.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?wW(e.data,i.version)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ip",code:j.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?yW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"base64",code:j.invalid_string,message:i.message}),r.dirty()):Ce.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:j.invalid_string,...ne.errToObj(r)})}_addCheck(e){return new Yn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ne.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ne.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ne.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ne.errToObj(n)})}nonempty(e){return this.min(1,ne.errToObj(e))}trim(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Yn.create=t=>{var e;return new Yn({checks:[],typeName:ue.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...me(t)})};function EW(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class _i extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Q.number){const i=this._getOrReturnCtx(e);return G(i,{code:j.invalid_type,expected:Q.number,received:i.parsedType}),ce}let r;const s=new qt;for(const i of this._def.checks)i.kind==="int"?Ce.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),G(r,{code:j.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:j.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:j.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?EW(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),G(r,{code:j.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),G(r,{code:j.not_finite,message:i.message}),s.dirty()):Ce.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ne.toString(n))}setLimit(e,n,r,s){return new _i({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ne.toString(s)}]})}_addCheck(e){return new _i({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ce.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}_i.create=t=>new _i({checks:[],typeName:ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...me(t)});class wi extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Q.bigint){const i=this._getOrReturnCtx(e);return G(i,{code:j.invalid_type,expected:Q.bigint,received:i.parsedType}),ce}let r;const s=new qt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:j.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:j.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),G(r,{code:j.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ce.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ne.toString(n))}setLimit(e,n,r,s){return new wi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ne.toString(s)}]})}_addCheck(e){return new wi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}wi.create=t=>{var e;return new wi({checks:[],typeName:ue.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...me(t)})};class Zu extends Ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Q.boolean){const r=this._getOrReturnCtx(e);return G(r,{code:j.invalid_type,expected:Q.boolean,received:r.parsedType}),ce}return tn(e.data)}}Zu.create=t=>new Zu({typeName:ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...me(t)});class go extends Ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Q.date){const i=this._getOrReturnCtx(e);return G(i,{code:j.invalid_type,expected:Q.date,received:i.parsedType}),ce}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return G(i,{code:j.invalid_date}),ce}const r=new qt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:j.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:j.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ce.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new go({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}go.create=t=>new go({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ue.ZodDate,...me(t)});class uf extends Ee{_parse(e){if(this._getType(e)!==Q.symbol){const r=this._getOrReturnCtx(e);return G(r,{code:j.invalid_type,expected:Q.symbol,received:r.parsedType}),ce}return tn(e.data)}}uf.create=t=>new uf({typeName:ue.ZodSymbol,...me(t)});class Xu extends Ee{_parse(e){if(this._getType(e)!==Q.undefined){const r=this._getOrReturnCtx(e);return G(r,{code:j.invalid_type,expected:Q.undefined,received:r.parsedType}),ce}return tn(e.data)}}Xu.create=t=>new Xu({typeName:ue.ZodUndefined,...me(t)});class Ju extends Ee{_parse(e){if(this._getType(e)!==Q.null){const r=this._getOrReturnCtx(e);return G(r,{code:j.invalid_type,expected:Q.null,received:r.parsedType}),ce}return tn(e.data)}}Ju.create=t=>new Ju({typeName:ue.ZodNull,...me(t)});class Ha extends Ee{constructor(){super(...arguments),this._any=!0}_parse(e){return tn(e.data)}}Ha.create=t=>new Ha({typeName:ue.ZodAny,...me(t)});class Xi extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tn(e.data)}}Xi.create=t=>new Xi({typeName:ue.ZodUnknown,...me(t)});class ys extends Ee{_parse(e){const n=this._getOrReturnCtx(e);return G(n,{code:j.invalid_type,expected:Q.never,received:n.parsedType}),ce}}ys.create=t=>new ys({typeName:ue.ZodNever,...me(t)});class cf extends Ee{_parse(e){if(this._getType(e)!==Q.undefined){const r=this._getOrReturnCtx(e);return G(r,{code:j.invalid_type,expected:Q.void,received:r.parsedType}),ce}return tn(e.data)}}cf.create=t=>new cf({typeName:ue.ZodVoid,...me(t)});class er extends Ee{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Q.array)return G(n,{code:j.invalid_type,expected:Q.array,received:n.parsedType}),ce;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(G(n,{code:o?j.too_big:j.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(G(n,{code:j.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(G(n,{code:j.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new $r(n,o,n.path,a)))).then(o=>qt.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new $r(n,o,n.path,a)));return qt.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new er({...this._def,minLength:{value:e,message:ne.toString(n)}})}max(e,n){return new er({...this._def,maxLength:{value:e,message:ne.toString(n)}})}length(e,n){return new er({...this._def,exactLength:{value:e,message:ne.toString(n)}})}nonempty(e){return this.min(1,e)}}er.create=(t,e)=>new er({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...me(e)});function Fo(t){if(t instanceof Ye){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Lr.create(Fo(r))}return new Ye({...t._def,shape:()=>e})}else return t instanceof er?new er({...t._def,type:Fo(t.element)}):t instanceof Lr?Lr.create(Fo(t.unwrap())):t instanceof xi?xi.create(Fo(t.unwrap())):t instanceof Ur?Ur.create(t.items.map(e=>Fo(e))):t}class Ye extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ce.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Q.object){const u=this._getOrReturnCtx(e);return G(u,{code:j.invalid_type,expected:Q.object,received:u.parsedType}),ce}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ys&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=i[u],d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new $r(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ys){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")a.length>0&&(G(s,{code:j.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new $r(s,d,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>qt.mergeObjectSync(r,u)):qt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ne.errToObj,new Ye({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ne.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ye({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ye({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ue.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ye({...this._def,catchall:e})}pick(e){const n={};return Ce.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}omit(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}deepPartial(){return Fo(this)}partial(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ye({...this._def,shape:()=>n})}required(e){const n={};return Ce.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Lr;)i=i._def.innerType;n[r]=i}}),new Ye({...this._def,shape:()=>n})}keyof(){return IP(Ce.objectKeys(this.shape))}}Ye.create=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strip",catchall:ys.create(),typeName:ue.ZodObject,...me(e)});Ye.strictCreate=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strict",catchall:ys.create(),typeName:ue.ZodObject,...me(e)});Ye.lazycreate=(t,e)=>new Ye({shape:t,unknownKeys:"strip",catchall:ys.create(),typeName:ue.ZodObject,...me(e)});class ec extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Tn(a.ctx.common.issues));return G(n,{code:j.invalid_union,unionErrors:o}),ce}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Tn(l));return G(n,{code:j.invalid_union,unionErrors:a}),ce}}get options(){return this._def.options}}ec.create=(t,e)=>new ec({options:t,typeName:ue.ZodUnion,...me(e)});const Yr=t=>t instanceof rc?Yr(t.schema):t instanceof ar?Yr(t.innerType()):t instanceof sc?[t.value]:t instanceof Ei?t.options:t instanceof ic?Ce.objectValues(t.enum):t instanceof oc?Yr(t._def.innerType):t instanceof Xu?[void 0]:t instanceof Ju?[null]:t instanceof Lr?[void 0,...Yr(t.unwrap())]:t instanceof xi?[null,...Yr(t.unwrap())]:t instanceof U0||t instanceof lc?Yr(t.unwrap()):t instanceof ac?Yr(t._def.innerType):[];class Np extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.object)return G(n,{code:j.invalid_type,expected:Q.object,received:n.parsedType}),ce;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(G(n,{code:j.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Yr(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Np({typeName:ue.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...me(r)})}}function qy(t,e){const n=$s(t),r=$s(e);if(t===e)return{valid:!0,data:t};if(n===Q.object&&r===Q.object){const s=Ce.objectKeys(e),i=Ce.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=qy(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Q.array&&r===Q.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=qy(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===Q.date&&r===Q.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class tc extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Wy(i)||Wy(o))return ce;const a=qy(i.value,o.value);return a.valid?((Hy(i)||Hy(o))&&n.dirty(),{status:n.value,value:a.data}):(G(r,{code:j.invalid_intersection_types}),ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tc.create=(t,e,n)=>new tc({left:t,right:e,typeName:ue.ZodIntersection,...me(n)});class Ur extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.array)return G(r,{code:j.invalid_type,expected:Q.array,received:r.parsedType}),ce;if(r.data.length<this._def.items.length)return G(r,{code:j.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&r.data.length>this._def.items.length&&(G(r,{code:j.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new $r(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>qt.mergeArray(n,o)):qt.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ur({...this._def,rest:e})}}Ur.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ur({items:t,typeName:ue.ZodTuple,rest:null,...me(e)})};class nc extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.object)return G(r,{code:j.invalid_type,expected:Q.object,received:r.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new $r(r,a,r.path,a)),value:o._parse(new $r(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?qt.mergeObjectAsync(n,s):qt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ee?new nc({keyType:e,valueType:n,typeName:ue.ZodRecord,...me(r)}):new nc({keyType:Yn.create(),valueType:e,typeName:ue.ZodRecord,...me(n)})}}class df extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.map)return G(r,{code:j.invalid_type,expected:Q.map,received:r.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new $r(r,a,r.path,[u,"key"])),value:i._parse(new $r(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ce;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ce;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}df.create=(t,e,n)=>new df({valueType:e,keyType:t,typeName:ue.ZodMap,...me(n)});class yo extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.set)return G(r,{code:j.invalid_type,expected:Q.set,received:r.parsedType}),ce;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(G(r,{code:j.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(G(r,{code:j.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ce;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new $r(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new yo({...this._def,minSize:{value:e,message:ne.toString(n)}})}max(e,n){return new yo({...this._def,maxSize:{value:e,message:ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}yo.create=(t,e)=>new yo({valueType:t,minSize:null,maxSize:null,typeName:ue.ZodSet,...me(e)});class ga extends Ee{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.function)return G(n,{code:j.invalid_type,expected:Q.function,received:n.parsedType}),ce;function r(a,l){return af({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,of(),Wa].filter(u=>!!u),issueData:{code:j.invalid_arguments,argumentsError:l}})}function s(a,l){return af({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,of(),Wa].filter(u=>!!u),issueData:{code:j.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof qa){const a=this;return tn(async function(...l){const u=new Tn([]),c=await a._def.args.parseAsync(l,i).catch(p=>{throw u.addIssue(r(l,p)),u}),d=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(d,i).catch(p=>{throw u.addIssue(s(d,p)),u})})}else{const a=this;return tn(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new Tn([r(l,u.error)]);const c=Reflect.apply(o,this,u.data),d=a._def.returns.safeParse(c,i);if(!d.success)throw new Tn([s(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ga({...this._def,args:Ur.create(e).rest(Xi.create())})}returns(e){return new ga({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ga({args:e||Ur.create([]).rest(Xi.create()),returns:n||Xi.create(),typeName:ue.ZodFunction,...me(r)})}}class rc extends Ee{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}rc.create=(t,e)=>new rc({getter:t,typeName:ue.ZodLazy,...me(e)});class sc extends Ee{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return G(n,{received:n.data,code:j.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}sc.create=(t,e)=>new sc({value:t,typeName:ue.ZodLiteral,...me(e)});function IP(t,e){return new Ei({values:t,typeName:ue.ZodEnum,...me(e)})}class Ei extends Ee{constructor(){super(...arguments),Vl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return G(n,{expected:Ce.joinValues(r),received:n.parsedType,code:j.invalid_type}),ce}if(lf(this,Vl)||wP(this,Vl,new Set(this._def.values)),!lf(this,Vl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return G(n,{received:n.data,code:j.invalid_enum_value,options:r}),ce}return tn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ei.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ei.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Vl=new WeakMap;Ei.create=IP;class ic extends Ee{constructor(){super(...arguments),jl.set(this,void 0)}_parse(e){const n=Ce.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Q.string&&r.parsedType!==Q.number){const s=Ce.objectValues(n);return G(r,{expected:Ce.joinValues(s),received:r.parsedType,code:j.invalid_type}),ce}if(lf(this,jl)||wP(this,jl,new Set(Ce.getValidEnumValues(this._def.values))),!lf(this,jl).has(e.data)){const s=Ce.objectValues(n);return G(r,{received:r.data,code:j.invalid_enum_value,options:s}),ce}return tn(e.data)}get enum(){return this._def.values}}jl=new WeakMap;ic.create=(t,e)=>new ic({values:t,typeName:ue.ZodNativeEnum,...me(e)});class qa extends Ee{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.promise&&n.common.async===!1)return G(n,{code:j.invalid_type,expected:Q.promise,received:n.parsedType}),ce;const r=n.parsedType===Q.promise?n.data:Promise.resolve(n.data);return tn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}qa.create=(t,e)=>new qa({type:t,typeName:ue.ZodPromise,...me(e)});class ar extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{G(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ce;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ce:l.status==="dirty"||n.value==="dirty"?ea(l.value):l});{if(n.value==="aborted")return ce;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ce:a.status==="dirty"||n.value==="dirty"?ea(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Qu(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Qu(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Ce.assertNever(s)}}ar.create=(t,e,n)=>new ar({schema:t,typeName:ue.ZodEffects,effect:e,...me(n)});ar.createWithPreprocess=(t,e,n)=>new ar({schema:e,effect:{type:"preprocess",transform:t},typeName:ue.ZodEffects,...me(n)});class Lr extends Ee{_parse(e){return this._getType(e)===Q.undefined?tn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lr.create=(t,e)=>new Lr({innerType:t,typeName:ue.ZodOptional,...me(e)});class xi extends Ee{_parse(e){return this._getType(e)===Q.null?tn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xi.create=(t,e)=>new xi({innerType:t,typeName:ue.ZodNullable,...me(e)});class oc extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}oc.create=(t,e)=>new oc({innerType:t,typeName:ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...me(e)});class ac extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Yu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Tn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Tn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ac.create=(t,e)=>new ac({innerType:t,typeName:ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...me(e)});class hf extends Ee{_parse(e){if(this._getType(e)!==Q.nan){const r=this._getOrReturnCtx(e);return G(r,{code:j.invalid_type,expected:Q.nan,received:r.parsedType}),ce}return{status:"valid",value:e.data}}}hf.create=t=>new hf({typeName:ue.ZodNaN,...me(t)});const xW=Symbol("zod_brand");class U0 extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Fc extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ce:i.status==="dirty"?(n.dirty(),ea(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Fc({in:e,out:n,typeName:ue.ZodPipeline})}}class lc extends Ee{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Qu(s)&&(s.value=Object.freeze(s.value)),s);return Yu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}lc.create=(t,e)=>new lc({innerType:t,typeName:ue.ZodReadonly,...me(e)});function SP(t,e={},n){return t?Ha.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:l})}}):Ha.create()}const TW={object:Ye.lazycreate};var ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ue||(ue={}));const IW=(t,e={message:`Input not instance of ${t.name}`})=>SP(n=>n instanceof t,e),bP=Yn.create,CP=_i.create,SW=hf.create,bW=wi.create,AP=Zu.create,CW=go.create,AW=uf.create,RW=Xu.create,kW=Ju.create,PW=Ha.create,NW=Xi.create,OW=ys.create,DW=cf.create,MW=er.create,LW=Ye.create,VW=Ye.strictCreate,jW=ec.create,FW=Np.create,$W=tc.create,UW=Ur.create,BW=nc.create,zW=df.create,WW=yo.create,HW=ga.create,qW=rc.create,KW=sc.create,GW=Ei.create,QW=ic.create,YW=qa.create,OT=ar.create,ZW=Lr.create,XW=xi.create,JW=ar.createWithPreprocess,eH=Fc.create,tH=()=>bP().optional(),nH=()=>CP().optional(),rH=()=>AP().optional(),sH={string:t=>Yn.create({...t,coerce:!0}),number:t=>_i.create({...t,coerce:!0}),boolean:t=>Zu.create({...t,coerce:!0}),bigint:t=>wi.create({...t,coerce:!0}),date:t=>go.create({...t,coerce:!0})},iH=ce;var Ym=Object.freeze({__proto__:null,defaultErrorMap:Wa,setErrorMap:iW,getErrorMap:of,makeIssue:af,EMPTY_PATH:oW,addIssueToContext:G,ParseStatus:qt,INVALID:ce,DIRTY:ea,OK:tn,isAborted:Wy,isDirty:Hy,isValid:Qu,isAsync:Yu,get util(){return Ce},get objectUtil(){return zy},ZodParsedType:Q,getParsedType:$s,ZodType:Ee,datetimeRegex:TP,ZodString:Yn,ZodNumber:_i,ZodBigInt:wi,ZodBoolean:Zu,ZodDate:go,ZodSymbol:uf,ZodUndefined:Xu,ZodNull:Ju,ZodAny:Ha,ZodUnknown:Xi,ZodNever:ys,ZodVoid:cf,ZodArray:er,ZodObject:Ye,ZodUnion:ec,ZodDiscriminatedUnion:Np,ZodIntersection:tc,ZodTuple:Ur,ZodRecord:nc,ZodMap:df,ZodSet:yo,ZodFunction:ga,ZodLazy:rc,ZodLiteral:sc,ZodEnum:Ei,ZodNativeEnum:ic,ZodPromise:qa,ZodEffects:ar,ZodTransformer:ar,ZodOptional:Lr,ZodNullable:xi,ZodDefault:oc,ZodCatch:ac,ZodNaN:hf,BRAND:xW,ZodBranded:U0,ZodPipeline:Fc,ZodReadonly:lc,custom:SP,Schema:Ee,ZodSchema:Ee,late:TW,get ZodFirstPartyTypeKind(){return ue},coerce:sH,any:PW,array:MW,bigint:bW,boolean:AP,date:CW,discriminatedUnion:FW,effect:OT,enum:GW,function:HW,instanceof:IW,intersection:$W,lazy:qW,literal:KW,map:zW,nan:SW,nativeEnum:QW,never:OW,null:kW,nullable:XW,number:CP,object:LW,oboolean:rH,onumber:nH,optional:ZW,ostring:tH,pipeline:eH,preprocess:JW,promise:YW,record:BW,set:WW,strictObject:VW,string:bP,symbol:AW,transformer:OT,tuple:UW,undefined:RW,union:jW,unknown:NW,void:DW,NEVER:iH,ZodIssueCode:j,quotelessJson:sW,ZodError:Tn});const DT=(t,e,n)=>{if(t&&"reportValidity"in t){const r=z(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},RP=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?DT(r.ref,n,t):r.refs&&r.refs.forEach(s=>DT(s,n,t))}},oH=(t,e)=>{e.shouldUseNativeValidation&&RP(t,e);const n={};for(const r in t){const s=z(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(aH(e.names||Object.keys(t),r)){const o=Object.assign({},z(n,r));De(o,"root",i),De(n,r,o)}else De(n,r,i)}return n},aH=(t,e)=>t.some(n=>n.startsWith(e+"."));var lH=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(d){return t.push(d)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=hP(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},uH=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&RP({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:oH(lH(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},cH="Label",kP=y.forwardRef((t,e)=>f.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kP.displayName=cH;var PP=kP;const dH=Mf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),NP=y.forwardRef(({className:t,...e},n)=>f.jsx(PP,{ref:n,className:Ae(dH(),t),...e}));NP.displayName=PP.displayName;const hH=U6,OP=y.createContext({}),MT=({...t})=>f.jsx(OP.Provider,{value:{name:t.name},children:f.jsx(H6,{...t})}),Op=()=>{const t=y.useContext(OP),e=y.useContext(DP),{getFieldState:n,formState:r}=Pp(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},DP=y.createContext({}),Ky=y.forwardRef(({className:t,...e},n)=>{const r=y.useId();return f.jsx(DP.Provider,{value:{id:r},children:f.jsx("div",{ref:n,className:Ae("space-y-2",t),...e})})});Ky.displayName="FormItem";const Gy=y.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Op();return f.jsx(NP,{ref:n,className:Ae(r&&"text-destructive",t),htmlFor:s,...e})});Gy.displayName="FormLabel";const Qy=y.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Op();return f.jsx(so,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Qy.displayName="FormControl";const fH=y.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Op();return f.jsx("p",{ref:n,id:r,className:Ae("text-sm text-muted-foreground",t),...e})});fH.displayName="FormDescription";const Yy=y.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Op(),o=s?String(s==null?void 0:s.message):e;return o?f.jsx("p",{ref:r,id:i,className:Ae("text-sm font-medium text-destructive",t),...n,children:o}):null});Yy.displayName="FormMessage";const pH=Ym.object({email:Ym.string().email({message:"بريد إلكتروني غير صالح"}),password:Ym.string().min(6,{message:"كلمة المرور يجب أن تكون 6 أحرف على الأقل"})}),mH=()=>{const{login:t,loading:e}=ws();xo();const n=rW({resolver:uH(pH),defaultValues:{email:"",password:""}}),r=async s=>{await t(s.email,s.password)};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",dir:"rtl",children:f.jsxs("div",{className:"w-full max-w-md space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-primary",children:"نظام إدارة المصاريف"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"سجل الدخول للوصول إلى لوحة التحكم"})]}),f.jsxs(Mn,{className:"animate-fade-in",children:[f.jsxs(Tr,{children:[f.jsx(Ir,{className:"text-xl",children:"تسجيل الدخول"}),f.jsx(po,{children:"أدخل بيانات حسابك للوصول إلى النظام"})]}),f.jsx(hH,{...n,children:f.jsxs("form",{onSubmit:n.handleSubmit(r),children:[f.jsxs(Kn,{className:"space-y-4",children:[f.jsx(MT,{control:n.control,name:"email",render:({field:s})=>f.jsxs(Ky,{children:[f.jsx(Gy,{children:"البريد الإلكتروني"}),f.jsx(Qy,{children:f.jsx(pa,{placeholder:"أدخل بريدك الإلكتروني",...s})}),f.jsx(Yy,{})]})}),f.jsx(MT,{control:n.control,name:"password",render:({field:s})=>f.jsxs(Ky,{children:[f.jsx(Gy,{children:"كلمة المرور"}),f.jsx(Qy,{children:f.jsx(pa,{type:"password",placeholder:"أدخل كلمة المرور",...s})}),f.jsx(Yy,{})]})})]}),f.jsx(A0,{children:f.jsx(dt,{type:"submit",className:"w-full",disabled:e,children:e?"جاري تسجيل الدخول...":"تسجيل الدخول"})})]})})]})]})})},gH=()=>{const t=Ci();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},yH={apiKey:"AIzaSyD_QR6x-0ab_S7uTb0rTS01u9N62QNuq40",authDomain:"masruf-manager.firebaseapp.com",projectId:"masruf-manager",storageBucket:"masruf-manager.appspot.com",messagingSenderId:"153141113612",appId:"1:153141113612:web:ef0420214d096938e2cf29"},B0=p_(yH);bC(B0);const LT=kR(B0);QR(B0);console.log("✅ صفحة إدارة المستخدمين تم تحميلها");const vH=[{value:"manager",label:"مدير تنفيذي"},{value:"section_manager",label:"مدير قسم"},{value:"employee",label:"موظف"}],_H=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(!0),s=async()=>{try{const a=(await mB(Ly(LT,"users"))).docs.map(l=>({id:l.id,...l.data()}));e(a)}catch(o){console.error("فشل في جلب المستخدمين:",o)}finally{r(!1)}},i=async(o,a)=>{try{const l=Gu(LT,"users",o);await zR(l,{role:a}),e(u=>u.map(c=>c.id===o?{...c,role:a}:c))}catch(l){console.error("فشل في تحديث الصلاحية:",l)}};return y.useEffect(()=>{s()},[]),f.jsxs("div",{className:"p-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"إدارة المستخدمين"}),n?f.jsx("p",{children:"جاري تحميل البيانات..."}):f.jsx("div",{className:"overflow-x-auto rounded-md shadow border",children:f.jsxs("table",{className:"min-w-full text-sm text-right",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 border-b",children:"الاسم"}),f.jsx("th",{className:"px-4 py-3 border-b",children:"البريد الإلكتروني"}),f.jsx("th",{className:"px-4 py-3 border-b",children:"القسم"}),f.jsx("th",{className:"px-4 py-3 border-b",children:"الصلاحية"}),f.jsx("th",{className:"px-4 py-3 border-b",children:"الحالة"})]})}),f.jsx("tbody",{children:t.map(o=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-4 py-3 border-b",children:o.name}),f.jsx("td",{className:"px-4 py-3 border-b",children:o.email}),f.jsx("td",{className:"px-4 py-3 border-b",children:o.department||"—"}),f.jsx("td",{className:"px-4 py-3 border-b",children:f.jsx("select",{value:o.role,onChange:a=>i(o.id,a.target.value),className:"border rounded px-2 py-1 text-sm",children:vH.map(a=>f.jsx("option",{value:a.value,children:a.label},a.value))})}),f.jsx("td",{className:"px-4 py-3 border-b",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${o.status==="نشط"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.status})})]},o.id))})]})})]})},wH=new w2,EH=()=>f.jsx(x2,{client:wH,children:f.jsxs(ZV,{children:[f.jsx(GM,{}),f.jsx(QS,{}),f.jsx(Ej,{children:f.jsx(QB,{children:f.jsx(YB,{children:f.jsxs(pj,{children:[f.jsx(mr,{path:"/login",element:f.jsx(mH,{})}),f.jsxs(mr,{path:"/",element:f.jsx(Vm,{children:f.jsx(tz,{})}),children:[f.jsx(mr,{index:!0,element:f.jsx(Ez,{})}),f.jsx(mr,{path:"expenses",element:f.jsx(Sz,{})}),f.jsx(mr,{path:"expenses/new",element:f.jsx(bz,{})}),f.jsx(mr,{path:"expenses/:id",element:f.jsx(kz,{})}),f.jsx(mr,{path:"pending",element:f.jsx(Vm,{allowedRoles:["manager","section_manager"],children:f.jsx(j6,{})})}),f.jsx(mr,{path:"users",element:f.jsx(Vm,{allowedRoles:["ceo"],children:f.jsx(_H,{})})})]}),f.jsx(mr,{path:"*",element:f.jsx(gH,{})})]})})})})]})});oS(document.getElementById("root")).render(f.jsx(EH,{}));
