var Ow=t=>{throw TypeError(t)};var Op=(t,e,n)=>e.has(t)||Ow("Cannot "+n);var P=(t,e,n)=>(Op(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?Ow("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(Op(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Nt=(t,e,n)=>(Op(t,e,"access private method"),n);var Bc=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return P(t,e,r)}});function RP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function LT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VT={exports:{}},hf={},FT={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc=Symbol.for("react.element"),kP=Symbol.for("react.portal"),PP=Symbol.for("react.fragment"),NP=Symbol.for("react.strict_mode"),OP=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),MP=Symbol.for("react.context"),LP=Symbol.for("react.forward_ref"),VP=Symbol.for("react.suspense"),FP=Symbol.for("react.memo"),jP=Symbol.for("react.lazy"),Dw=Symbol.iterator;function $P(t){return t===null||typeof t!="object"?null:(t=Dw&&t[Dw]||t["@@iterator"],typeof t=="function"?t:null)}var jT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$T=Object.assign,UT={};function qa(t,e,n){this.props=t,this.context=e,this.refs=UT,this.updater=n||jT}qa.prototype.isReactComponent={};qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BT(){}BT.prototype=qa.prototype;function Gy(t,e,n){this.props=t,this.context=e,this.refs=UT,this.updater=n||jT}var Qy=Gy.prototype=new BT;Qy.constructor=Gy;$T(Qy,qa.prototype);Qy.isPureReactComponent=!0;var Mw=Array.isArray,zT=Object.prototype.hasOwnProperty,Yy={current:null},WT={key:!0,ref:!0,__self:!0,__source:!0};function HT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zT.call(e,r)&&!WT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:cc,type:t,key:i,ref:o,props:s,_owner:Yy.current}}function UP(t,e){return{$$typeof:cc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zy(t){return typeof t=="object"&&t!==null&&t.$$typeof===cc}function BP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lw=/\/+/g;function Dp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BP(""+t.key):e.toString(36)}function Cd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cc:case kP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Dp(o,0):r,Mw(s)?(n="",t!=null&&(n=t.replace(Lw,"$&/")+"/"),Cd(s,e,n,"",function(u){return u})):s!=null&&(Zy(s)&&(s=UP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Lw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Mw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Dp(i,a);o+=Cd(i,e,n,l,s)}else if(l=$P(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Dp(i,a++),o+=Cd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zc(t,e,n){if(t==null)return t;var r=[],s=0;return Cd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},bd={transition:null},WP={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:bd,ReactCurrentOwner:Yy};function qT(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:zc,forEach:function(t,e,n){zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zc(t,function(){e++}),e},toArray:function(t){return zc(t,function(e){return e})||[]},only:function(t){if(!Zy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=qa;Te.Fragment=PP;Te.Profiler=OP;Te.PureComponent=Gy;Te.StrictMode=NP;Te.Suspense=VP;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WP;Te.act=qT;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$T({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Yy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zT.call(e,l)&&!WT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cc,type:t.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:MP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DP,_context:t},t.Consumer=t};Te.createElement=HT;Te.createFactory=function(t){var e=HT.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:LP,render:t}};Te.isValidElement=Zy;Te.lazy=function(t){return{$$typeof:jP,_payload:{_status:-1,_result:t},_init:zP}};Te.memo=function(t,e){return{$$typeof:FP,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=bd.transition;bd.transition={};try{t()}finally{bd.transition=e}};Te.unstable_act=qT;Te.useCallback=function(t,e){return nn.current.useCallback(t,e)};Te.useContext=function(t){return nn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return nn.current.useEffect(t,e)};Te.useId=function(){return nn.current.useId()};Te.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return nn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};Te.useRef=function(t){return nn.current.useRef(t)};Te.useState=function(t){return nn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return nn.current.useTransition()};Te.version="18.3.1";FT.exports=Te;var y=FT.exports;const N=LT(y),KT=RP({__proto__:null,default:N},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP=y,qP=Symbol.for("react.element"),KP=Symbol.for("react.fragment"),GP=Object.prototype.hasOwnProperty,QP=HP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YP={key:!0,ref:!0,__self:!0,__source:!0};function GT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GP.call(e,r)&&!YP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:qP,type:t,key:i,ref:o,props:s,_owner:QP.current}}hf.Fragment=KP;hf.jsx=GT;hf.jsxs=GT;VT.exports=hf;var p=VT.exports,QT={exports:{}},bn={},YT={exports:{}},ZT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,B){var ee=A.length;A.push(B);e:for(;0<ee;){var Y=ee-1>>>1,oe=A[Y];if(0<s(oe,B))A[Y]=B,A[ee]=oe,ee=Y;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var B=A[0],ee=A.pop();if(ee!==B){A[0]=ee;e:for(var Y=0,oe=A.length,xe=oe>>>1;Y<xe;){var Fe=2*(Y+1)-1,Kt=A[Fe],Re=Fe+1,sn=A[Re];if(0>s(Kt,ee))Re<oe&&0>s(sn,Kt)?(A[Y]=sn,A[Re]=ee,Y=Re):(A[Y]=Kt,A[Fe]=ee,Y=Fe);else if(Re<oe&&0>s(sn,ee))A[Y]=sn,A[Re]=ee,Y=Re;else break e}}return B}function s(A,B){var ee=A.sortIndex-B.sortIndex;return ee!==0?ee:A.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,_=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(A){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=A)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function x(A){if(g=!1,E(A),!_)if(n(l)!==null)_=!0,Z(T);else{var B=n(u);B!==null&&le(x,B.startTime-A)}}function T(A,B){_=!1,g&&(g=!1,v(R),R=-1),f=!0;var ee=h;try{for(E(B),d=n(l);d!==null&&(!(d.expirationTime>B)||A&&!re());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var oe=Y(d.expirationTime<=B);B=t.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(l)&&r(l),E(B)}else r(l);d=n(l)}if(d!==null)var xe=!0;else{var Fe=n(u);Fe!==null&&le(x,Fe.startTime-B),xe=!1}return xe}finally{d=null,h=ee,f=!1}}var C=!1,b=null,R=-1,j=5,L=-1;function re(){return!(t.unstable_now()-L<j)}function D(){if(b!==null){var A=t.unstable_now();L=A;var B=!0;try{B=b(!0,A)}finally{B?q():(C=!1,b=null)}}else C=!1}var q;if(typeof m=="function")q=function(){m(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,se=$.port2;$.port1.onmessage=D,q=function(){se.postMessage(null)}}else q=function(){w(D,0)};function Z(A){b=A,C||(C=!0,q())}function le(A,B){R=w(function(){A(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){_||f||(_=!0,Z(T))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var ee=h;h=B;try{return A()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,B){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var ee=h;h=A;try{return B()}finally{h=ee}},t.unstable_scheduleCallback=function(A,B,ee){var Y=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Y+ee:Y):ee=Y,A){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,A={id:c++,callback:B,priorityLevel:A,startTime:ee,expirationTime:oe,sortIndex:-1},ee>Y?(A.sortIndex=ee,e(u,A),n(l)===null&&A===n(u)&&(g?(v(R),R=-1):g=!0,le(x,ee-Y))):(A.sortIndex=oe,e(l,A),_||f||(_=!0,Z(T))),A},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(A){var B=h;return function(){var ee=h;h=B;try{return A.apply(this,arguments)}finally{h=ee}}}})(ZT);YT.exports=ZT;var ZP=YT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XP=y,In=ZP;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XT=new Set,iu={};function go(t,e){Ia(t,e),Ia(t+"Capture",e)}function Ia(t,e){for(iu[t]=e,t=0;t<e.length;t++)XT.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,JP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vw={},Fw={};function eN(t){return Gm.call(Fw,t)?!0:Gm.call(Vw,t)?!1:JP.test(t)?Fw[t]=!0:(Vw[t]=!0,!1)}function tN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nN(t,e,n,r){if(e===null||typeof e>"u"||tN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xy=/[\-:]([a-z])/g;function Jy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xy,Jy);Pt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xy,Jy);Pt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xy,Jy);Pt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ev(t,e,n,r){var s=Pt.hasOwnProperty(e)?Pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nN(e,n,s,r)&&(n=null),r||s===null?eN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ys=XP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),tv=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),JT=Symbol.for("react.provider"),e1=Symbol.for("react.context"),nv=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Zm=Symbol.for("react.suspense_list"),rv=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),t1=Symbol.for("react.offscreen"),jw=Symbol.iterator;function dl(t){return t===null||typeof t!="object"?null:(t=jw&&t[jw]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Mp;function Cl(t){if(Mp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mp=e&&e[1]||""}return`
`+Mp+t}var Lp=!1;function Vp(t,e){if(!t||Lp)return"";Lp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Lp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cl(t):""}function rN(t){switch(t.tag){case 5:return Cl(t.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return t=Vp(t.type,!1),t;case 11:return t=Vp(t.type.render,!1),t;case 1:return t=Vp(t.type,!0),t;default:return""}}function Xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jo:return"Fragment";case Fo:return"Portal";case Qm:return"Profiler";case tv:return"StrictMode";case Ym:return"Suspense";case Zm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e1:return(t.displayName||"Context")+".Consumer";case JT:return(t._context.displayName||"Context")+".Provider";case nv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rv:return e=t.displayName||null,e!==null?e:Xm(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return Xm(t(e))}catch{}}return null}function sN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(e);case 8:return e===tv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iN(t){var e=n1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=iN(t))}function r1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jm(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $w(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function s1(t,e){e=e.checked,e!=null&&ev(t,"checked",e,!1)}function eg(t,e){s1(t,e);var n=li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tg(t,e.type,n):e.hasOwnProperty("defaultValue")&&tg(t,e.type,li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tg(t,e,n){(e!=="number"||Xd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bl=Array.isArray;function Jo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ng(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(bl(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:li(n)}}function i1(t,e){var n=li(e.value),r=li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function o1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,a1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ou(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oN=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(t){oN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jl[e]=jl[t]})});function l1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jl.hasOwnProperty(t)&&jl[t]?(""+e).trim():e+"px"}function u1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=l1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var aN=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(t,e){if(e){if(aN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function ig(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var og=null;function sv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ag=null,ea=null,ta=null;function Ww(t){if(t=fc(t)){if(typeof ag!="function")throw Error(V(280));var e=t.stateNode;e&&(e=yf(e),ag(t.stateNode,t.type,e))}}function c1(t){ea?ta?ta.push(t):ta=[t]:ea=t}function d1(){if(ea){var t=ea,e=ta;if(ta=ea=null,Ww(t),e)for(t=0;t<e.length;t++)Ww(e[t])}}function h1(t,e){return t(e)}function f1(){}var Fp=!1;function p1(t,e,n){if(Fp)return t(e,n);Fp=!0;try{return h1(t,e,n)}finally{Fp=!1,(ea!==null||ta!==null)&&(f1(),d1())}}function au(t,e){var n=t.stateNode;if(n===null)return null;var r=yf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var lg=!1;if(os)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){lg=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{lg=!1}function lN(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var $l=!1,Jd=null,eh=!1,ug=null,uN={onError:function(t){$l=!0,Jd=t}};function cN(t,e,n,r,s,i,o,a,l){$l=!1,Jd=null,lN.apply(uN,arguments)}function dN(t,e,n,r,s,i,o,a,l){if(cN.apply(this,arguments),$l){if($l){var u=Jd;$l=!1,Jd=null}else throw Error(V(198));eh||(eh=!0,ug=u)}}function yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function m1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hw(t){if(yo(t)!==t)throw Error(V(188))}function hN(t){var e=t.alternate;if(!e){if(e=yo(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Hw(s),t;if(i===r)return Hw(s),e;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function g1(t){return t=hN(t),t!==null?y1(t):null}function y1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=y1(t);if(e!==null)return e;t=t.sibling}return null}var v1=In.unstable_scheduleCallback,qw=In.unstable_cancelCallback,fN=In.unstable_shouldYield,pN=In.unstable_requestPaint,ot=In.unstable_now,mN=In.unstable_getCurrentPriorityLevel,iv=In.unstable_ImmediatePriority,_1=In.unstable_UserBlockingPriority,th=In.unstable_NormalPriority,gN=In.unstable_LowPriority,w1=In.unstable_IdlePriority,ff=null,Cr=null;function yN(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(ff,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:wN,vN=Math.log,_N=Math.LN2;function wN(t){return t>>>=0,t===0?32:31-(vN(t)/_N|0)|0}var Kc=64,Gc=4194304;function Al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Al(a):(i&=o,i!==0&&(r=Al(i)))}else o=n&~s,o!==0?r=Al(o):i!==0&&(r=Al(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),s=1<<n,r|=t[n],e&=~s;return r}function EN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=EN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function cg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E1(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function jp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function TN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ov(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function x1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T1,av,I1,S1,C1,dg=!1,Qc=[],Qs=null,Ys=null,Zs=null,lu=new Map,uu=new Map,Ns=[],IN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kw(t,e){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(e.pointerId)}}function fl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=fc(e),e!==null&&av(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SN(t,e,n,r,s){switch(e){case"focusin":return Qs=fl(Qs,t,e,n,r,s),!0;case"dragenter":return Ys=fl(Ys,t,e,n,r,s),!0;case"mouseover":return Zs=fl(Zs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return lu.set(i,fl(lu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,uu.set(i,fl(uu.get(i)||null,t,e,n,r,s)),!0}return!1}function b1(t){var e=Li(t.target);if(e!==null){var n=yo(e);if(n!==null){if(e=n.tag,e===13){if(e=m1(n),e!==null){t.blockedOn=e,C1(t.priority,function(){I1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);og=r,n.target.dispatchEvent(r),og=null}else return e=fc(n),e!==null&&av(e),t.blockedOn=n,!1;e.shift()}return!0}function Gw(t,e,n){Ad(t)&&n.delete(e)}function CN(){dg=!1,Qs!==null&&Ad(Qs)&&(Qs=null),Ys!==null&&Ad(Ys)&&(Ys=null),Zs!==null&&Ad(Zs)&&(Zs=null),lu.forEach(Gw),uu.forEach(Gw)}function pl(t,e){t.blockedOn===e&&(t.blockedOn=null,dg||(dg=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,CN)))}function cu(t){function e(s){return pl(s,t)}if(0<Qc.length){pl(Qc[0],t);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qs!==null&&pl(Qs,t),Ys!==null&&pl(Ys,t),Zs!==null&&pl(Zs,t),lu.forEach(e),uu.forEach(e),n=0;n<Ns.length;n++)r=Ns[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ns.length&&(n=Ns[0],n.blockedOn===null);)b1(n),n.blockedOn===null&&Ns.shift()}var na=ys.ReactCurrentBatchConfig,rh=!0;function bN(t,e,n,r){var s=Me,i=na.transition;na.transition=null;try{Me=1,lv(t,e,n,r)}finally{Me=s,na.transition=i}}function AN(t,e,n,r){var s=Me,i=na.transition;na.transition=null;try{Me=4,lv(t,e,n,r)}finally{Me=s,na.transition=i}}function lv(t,e,n,r){if(rh){var s=hg(t,e,n,r);if(s===null)Qp(t,e,r,sh,n),Kw(t,r);else if(SN(s,t,e,n,r))r.stopPropagation();else if(Kw(t,r),e&4&&-1<IN.indexOf(t)){for(;s!==null;){var i=fc(s);if(i!==null&&T1(i),i=hg(t,e,n,r),i===null&&Qp(t,e,r,sh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Qp(t,e,r,null,n)}}var sh=null;function hg(t,e,n,r){if(sh=null,t=sv(r),t=Li(t),t!==null)if(e=yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=m1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sh=t,null}function A1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mN()){case iv:return 1;case _1:return 4;case th:case gN:return 16;case w1:return 536870912;default:return 16}default:return 16}}var Hs=null,uv=null,Rd=null;function R1(){if(Rd)return Rd;var t,e=uv,n=e.length,r,s="value"in Hs?Hs.value:Hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Rd=s.slice(t,1<r?1-r:void 0)}function kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function Qw(){return!1}function An(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yc:Qw,this.isPropagationStopped=Qw,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cv=An(Ka),hc=Je({},Ka,{view:0,detail:0}),RN=An(hc),$p,Up,ml,pf=Je({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ml&&(ml&&t.type==="mousemove"?($p=t.screenX-ml.screenX,Up=t.screenY-ml.screenY):Up=$p=0,ml=t),$p)},movementY:function(t){return"movementY"in t?t.movementY:Up}}),Yw=An(pf),kN=Je({},pf,{dataTransfer:0}),PN=An(kN),NN=Je({},hc,{relatedTarget:0}),Bp=An(NN),ON=Je({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),DN=An(ON),MN=Je({},Ka,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LN=An(MN),VN=Je({},Ka,{data:0}),Zw=An(VN),FN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$N={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$N[t])?!!e[t]:!1}function dv(){return UN}var BN=Je({},hc,{key:function(t){if(t.key){var e=FN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dv,charCode:function(t){return t.type==="keypress"?kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zN=An(BN),WN=Je({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xw=An(WN),HN=Je({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dv}),qN=An(HN),KN=Je({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),GN=An(KN),QN=Je({},pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YN=An(QN),ZN=[9,13,27,32],hv=os&&"CompositionEvent"in window,Ul=null;os&&"documentMode"in document&&(Ul=document.documentMode);var XN=os&&"TextEvent"in window&&!Ul,k1=os&&(!hv||Ul&&8<Ul&&11>=Ul),Jw=" ",e0=!1;function P1(t,e){switch(t){case"keyup":return ZN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function JN(t,e){switch(t){case"compositionend":return N1(e);case"keypress":return e.which!==32?null:(e0=!0,Jw);case"textInput":return t=e.data,t===Jw&&e0?null:t;default:return null}}function eO(t,e){if($o)return t==="compositionend"||!hv&&P1(t,e)?(t=R1(),Rd=uv=Hs=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k1&&e.locale!=="ko"?null:e.data;default:return null}}var tO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tO[t.type]:e==="textarea"}function O1(t,e,n,r){c1(r),e=ih(e,"onChange"),0<e.length&&(n=new cv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bl=null,du=null;function nO(t){W1(t,0)}function mf(t){var e=zo(t);if(r1(e))return t}function rO(t,e){if(t==="change")return e}var D1=!1;if(os){var zp;if(os){var Wp="oninput"in document;if(!Wp){var n0=document.createElement("div");n0.setAttribute("oninput","return;"),Wp=typeof n0.oninput=="function"}zp=Wp}else zp=!1;D1=zp&&(!document.documentMode||9<document.documentMode)}function r0(){Bl&&(Bl.detachEvent("onpropertychange",M1),du=Bl=null)}function M1(t){if(t.propertyName==="value"&&mf(du)){var e=[];O1(e,du,t,sv(t)),p1(nO,e)}}function sO(t,e,n){t==="focusin"?(r0(),Bl=e,du=n,Bl.attachEvent("onpropertychange",M1)):t==="focusout"&&r0()}function iO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mf(du)}function oO(t,e){if(t==="click")return mf(e)}function aO(t,e){if(t==="input"||t==="change")return mf(e)}function lO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:lO;function hu(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gm.call(e,s)||!er(t[s],e[s]))return!1}return!0}function s0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i0(t,e){var n=s0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s0(n)}}function L1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V1(){for(var t=window,e=Xd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xd(t.document)}return e}function fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uO(t){var e=V1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&L1(n.ownerDocument.documentElement,n)){if(r!==null&&fv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=i0(n,i);var o=i0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cO=os&&"documentMode"in document&&11>=document.documentMode,Uo=null,fg=null,zl=null,pg=!1;function o0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pg||Uo==null||Uo!==Xd(r)||(r=Uo,"selectionStart"in r&&fv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zl&&hu(zl,r)||(zl=r,r=ih(fg,"onSelect"),0<r.length&&(e=new cv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Uo)))}function Zc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bo={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},Hp={},F1={};os&&(F1=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function gf(t){if(Hp[t])return Hp[t];if(!Bo[t])return t;var e=Bo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F1)return Hp[t]=e[n];return t}var j1=gf("animationend"),$1=gf("animationiteration"),U1=gf("animationstart"),B1=gf("transitionend"),z1=new Map,a0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){z1.set(t,e),go(e,[t])}for(var qp=0;qp<a0.length;qp++){var Kp=a0[qp],dO=Kp.toLowerCase(),hO=Kp[0].toUpperCase()+Kp.slice(1);Ti(dO,"on"+hO)}Ti(j1,"onAnimationEnd");Ti($1,"onAnimationIteration");Ti(U1,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(B1,"onTransitionEnd");Ia("onMouseEnter",["mouseout","mouseover"]);Ia("onMouseLeave",["mouseout","mouseover"]);Ia("onPointerEnter",["pointerout","pointerover"]);Ia("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function l0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dN(r,e,void 0,t),t.currentTarget=null}function W1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;l0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;l0(s,a,u),i=l}}}if(eh)throw t=ug,eh=!1,ug=null,t}function He(t,e){var n=e[_g];n===void 0&&(n=e[_g]=new Set);var r=t+"__bubble";n.has(r)||(H1(e,t,2,!1),n.add(r))}function Gp(t,e,n){var r=0;e&&(r|=4),H1(n,t,r,e)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function fu(t){if(!t[Xc]){t[Xc]=!0,XT.forEach(function(n){n!=="selectionchange"&&(fO.has(n)||Gp(n,!1,t),Gp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xc]||(e[Xc]=!0,Gp("selectionchange",!1,e))}}function H1(t,e,n,r){switch(A1(e)){case 1:var s=bN;break;case 4:s=AN;break;default:s=lv}n=s.bind(null,e,n,t),s=void 0,!lg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Qp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Li(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}p1(function(){var u=i,c=sv(n),d=[];e:{var h=z1.get(t);if(h!==void 0){var f=cv,_=t;switch(t){case"keypress":if(kd(n)===0)break e;case"keydown":case"keyup":f=zN;break;case"focusin":_="focus",f=Bp;break;case"focusout":_="blur",f=Bp;break;case"beforeblur":case"afterblur":f=Bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=PN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=qN;break;case j1:case $1:case U1:f=DN;break;case B1:f=GN;break;case"scroll":f=RN;break;case"wheel":f=YN;break;case"copy":case"cut":case"paste":f=LN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Xw}var g=(e&4)!==0,w=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var m=u,E;m!==null;){E=m;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,v!==null&&(x=au(m,v),x!=null&&g.push(pu(m,x,E)))),w)break;m=m.return}0<g.length&&(h=new f(h,_,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==og&&(_=n.relatedTarget||n.fromElement)&&(Li(_)||_[as]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(_=n.relatedTarget||n.toElement,f=u,_=_?Li(_):null,_!==null&&(w=yo(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(f=null,_=u),f!==_)){if(g=Yw,x="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=Xw,x="onPointerLeave",v="onPointerEnter",m="pointer"),w=f==null?h:zo(f),E=_==null?h:zo(_),h=new g(x,m+"leave",f,n,c),h.target=w,h.relatedTarget=E,x=null,Li(c)===u&&(g=new g(v,m+"enter",_,n,c),g.target=E,g.relatedTarget=w,x=g),w=x,f&&_)t:{for(g=f,v=_,m=0,E=g;E;E=Ao(E))m++;for(E=0,x=v;x;x=Ao(x))E++;for(;0<m-E;)g=Ao(g),m--;for(;0<E-m;)v=Ao(v),E--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ao(g),v=Ao(v)}g=null}else g=null;f!==null&&u0(d,h,f,g,!1),_!==null&&w!==null&&u0(d,w,_,g,!0)}}e:{if(h=u?zo(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var T=rO;else if(t0(h))if(D1)T=aO;else{T=iO;var C=sO}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=oO);if(T&&(T=T(t,u))){O1(d,T,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&tg(h,"number",h.value)}switch(C=u?zo(u):window,t){case"focusin":(t0(C)||C.contentEditable==="true")&&(Uo=C,fg=u,zl=null);break;case"focusout":zl=fg=Uo=null;break;case"mousedown":pg=!0;break;case"contextmenu":case"mouseup":case"dragend":pg=!1,o0(d,n,c);break;case"selectionchange":if(cO)break;case"keydown":case"keyup":o0(d,n,c)}var b;if(hv)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else $o?P1(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(k1&&n.locale!=="ko"&&($o||R!=="onCompositionStart"?R==="onCompositionEnd"&&$o&&(b=R1()):(Hs=c,uv="value"in Hs?Hs.value:Hs.textContent,$o=!0)),C=ih(u,R),0<C.length&&(R=new Zw(R,t,null,n,c),d.push({event:R,listeners:C}),b?R.data=b:(b=N1(n),b!==null&&(R.data=b)))),(b=XN?JN(t,n):eO(t,n))&&(u=ih(u,"onBeforeInput"),0<u.length&&(c=new Zw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}W1(d,e)})}function pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=au(t,n),i!=null&&r.unshift(pu(t,i,s)),i=au(t,e),i!=null&&r.push(pu(t,i,s))),t=t.return}return r}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=au(n,i),l!=null&&o.unshift(pu(n,l,a))):s||(l=au(n,i),l!=null&&o.push(pu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pO=/\r\n?/g,mO=/\u0000|\uFFFD/g;function c0(t){return(typeof t=="string"?t:""+t).replace(pO,`
`).replace(mO,"")}function Jc(t,e,n){if(e=c0(e),c0(t)!==e&&n)throw Error(V(425))}function oh(){}var mg=null,gg=null;function yg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vg=typeof setTimeout=="function"?setTimeout:void 0,gO=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,yO=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(t){return d0.resolve(null).then(t).catch(vO)}:vg;function vO(t){setTimeout(function(){throw t})}function Yp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cu(e)}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),vr="__reactFiber$"+Ga,mu="__reactProps$"+Ga,as="__reactContainer$"+Ga,_g="__reactEvents$"+Ga,_O="__reactListeners$"+Ga,wO="__reactHandles$"+Ga;function Li(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h0(t);t!==null;){if(n=t[vr])return n;t=h0(t)}return e}t=n,n=t.parentNode}return null}function fc(t){return t=t[vr]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function yf(t){return t[mu]||null}var wg=[],Wo=-1;function Ii(t){return{current:t}}function Ge(t){0>Wo||(t.current=wg[Wo],wg[Wo]=null,Wo--)}function $e(t,e){Wo++,wg[Wo]=t.current,t.current=e}var ui={},Bt=Ii(ui),dn=Ii(!1),Xi=ui;function Sa(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function hn(t){return t=t.childContextTypes,t!=null}function ah(){Ge(dn),Ge(Bt)}function f0(t,e,n){if(Bt.current!==ui)throw Error(V(168));$e(Bt,e),$e(dn,n)}function q1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(V(108,sN(t)||"Unknown",s));return Je({},n,r)}function lh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,Xi=Bt.current,$e(Bt,t),$e(dn,dn.current),!0}function p0(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=q1(t,e,Xi),r.__reactInternalMemoizedMergedChildContext=t,Ge(dn),Ge(Bt),$e(Bt,t)):Ge(dn),$e(dn,n)}var Zr=null,vf=!1,Zp=!1;function K1(t){Zr===null?Zr=[t]:Zr.push(t)}function EO(t){vf=!0,K1(t)}function Si(){if(!Zp&&Zr!==null){Zp=!0;var t=0,e=Me;try{var n=Zr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,vf=!1}catch(s){throw Zr!==null&&(Zr=Zr.slice(t+1)),v1(iv,Si),s}finally{Me=e,Zp=!1}}return null}var Ho=[],qo=0,uh=null,ch=0,Nn=[],On=0,Ji=null,Xr=1,Jr="";function Oi(t,e){Ho[qo++]=ch,Ho[qo++]=uh,uh=t,ch=e}function G1(t,e,n){Nn[On++]=Xr,Nn[On++]=Jr,Nn[On++]=Ji,Ji=t;var r=Xr;t=Jr;var s=32-Zn(r)-1;r&=~(1<<s),n+=1;var i=32-Zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xr=1<<32-Zn(e)+s|n<<s|r,Jr=i+t}else Xr=1<<i|n<<s|r,Jr=t}function pv(t){t.return!==null&&(Oi(t,1),G1(t,1,0))}function mv(t){for(;t===uh;)uh=Ho[--qo],Ho[qo]=null,ch=Ho[--qo],Ho[qo]=null;for(;t===Ji;)Ji=Nn[--On],Nn[On]=null,Jr=Nn[--On],Nn[On]=null,Xr=Nn[--On],Nn[On]=null}var En=null,_n=null,Qe=!1,qn=null;function Q1(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function m0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,_n=Xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ji!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,_n=null,!0):!1;default:return!1}}function Eg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xg(t){if(Qe){var e=_n;if(e){var n=e;if(!m0(t,e)){if(Eg(t))throw Error(V(418));e=Xs(n.nextSibling);var r=En;e&&m0(t,e)?Q1(r,n):(t.flags=t.flags&-4097|2,Qe=!1,En=t)}}else{if(Eg(t))throw Error(V(418));t.flags=t.flags&-4097|2,Qe=!1,En=t}}}function g0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function ed(t){if(t!==En)return!1;if(!Qe)return g0(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yg(t.type,t.memoizedProps)),e&&(e=_n)){if(Eg(t))throw Y1(),Error(V(418));for(;e;)Q1(t,e),e=Xs(e.nextSibling)}if(g0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=Xs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=En?Xs(t.stateNode.nextSibling):null;return!0}function Y1(){for(var t=_n;t;)t=Xs(t.nextSibling)}function Ca(){_n=En=null,Qe=!1}function gv(t){qn===null?qn=[t]:qn.push(t)}var xO=ys.ReactCurrentBatchConfig;function gl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function td(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function y0(t){var e=t._init;return e(t._payload)}function Z1(t){function e(v,m){if(t){var E=v.deletions;E===null?(v.deletions=[m],v.flags|=16):E.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=ni(v,m),v.index=0,v.sibling=null,v}function i(v,m,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<m?(v.flags|=2,m):E):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,E,x){return m===null||m.tag!==6?(m=sm(E,v.mode,x),m.return=v,m):(m=s(m,E),m.return=v,m)}function l(v,m,E,x){var T=E.type;return T===jo?c(v,m,E.props.children,x,E.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ks&&y0(T)===m.type)?(x=s(m,E.props),x.ref=gl(v,m,E),x.return=v,x):(x=Vd(E.type,E.key,E.props,null,v.mode,x),x.ref=gl(v,m,E),x.return=v,x)}function u(v,m,E,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==E.containerInfo||m.stateNode.implementation!==E.implementation?(m=im(E,v.mode,x),m.return=v,m):(m=s(m,E.children||[]),m.return=v,m)}function c(v,m,E,x,T){return m===null||m.tag!==7?(m=Gi(E,v.mode,x,T),m.return=v,m):(m=s(m,E),m.return=v,m)}function d(v,m,E){if(typeof m=="string"&&m!==""||typeof m=="number")return m=sm(""+m,v.mode,E),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Wc:return E=Vd(m.type,m.key,m.props,null,v.mode,E),E.ref=gl(v,null,m),E.return=v,E;case Fo:return m=im(m,v.mode,E),m.return=v,m;case ks:var x=m._init;return d(v,x(m._payload),E)}if(bl(m)||dl(m))return m=Gi(m,v.mode,E,null),m.return=v,m;td(v,m)}return null}function h(v,m,E,x){var T=m!==null?m.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(v,m,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wc:return E.key===T?l(v,m,E,x):null;case Fo:return E.key===T?u(v,m,E,x):null;case ks:return T=E._init,h(v,m,T(E._payload),x)}if(bl(E)||dl(E))return T!==null?null:c(v,m,E,x,null);td(v,E)}return null}function f(v,m,E,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(E)||null,a(m,v,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wc:return v=v.get(x.key===null?E:x.key)||null,l(m,v,x,T);case Fo:return v=v.get(x.key===null?E:x.key)||null,u(m,v,x,T);case ks:var C=x._init;return f(v,m,E,C(x._payload),T)}if(bl(x)||dl(x))return v=v.get(E)||null,c(m,v,x,T,null);td(m,x)}return null}function _(v,m,E,x){for(var T=null,C=null,b=m,R=m=0,j=null;b!==null&&R<E.length;R++){b.index>R?(j=b,b=null):j=b.sibling;var L=h(v,b,E[R],x);if(L===null){b===null&&(b=j);break}t&&b&&L.alternate===null&&e(v,b),m=i(L,m,R),C===null?T=L:C.sibling=L,C=L,b=j}if(R===E.length)return n(v,b),Qe&&Oi(v,R),T;if(b===null){for(;R<E.length;R++)b=d(v,E[R],x),b!==null&&(m=i(b,m,R),C===null?T=b:C.sibling=b,C=b);return Qe&&Oi(v,R),T}for(b=r(v,b);R<E.length;R++)j=f(b,v,R,E[R],x),j!==null&&(t&&j.alternate!==null&&b.delete(j.key===null?R:j.key),m=i(j,m,R),C===null?T=j:C.sibling=j,C=j);return t&&b.forEach(function(re){return e(v,re)}),Qe&&Oi(v,R),T}function g(v,m,E,x){var T=dl(E);if(typeof T!="function")throw Error(V(150));if(E=T.call(E),E==null)throw Error(V(151));for(var C=T=null,b=m,R=m=0,j=null,L=E.next();b!==null&&!L.done;R++,L=E.next()){b.index>R?(j=b,b=null):j=b.sibling;var re=h(v,b,L.value,x);if(re===null){b===null&&(b=j);break}t&&b&&re.alternate===null&&e(v,b),m=i(re,m,R),C===null?T=re:C.sibling=re,C=re,b=j}if(L.done)return n(v,b),Qe&&Oi(v,R),T;if(b===null){for(;!L.done;R++,L=E.next())L=d(v,L.value,x),L!==null&&(m=i(L,m,R),C===null?T=L:C.sibling=L,C=L);return Qe&&Oi(v,R),T}for(b=r(v,b);!L.done;R++,L=E.next())L=f(b,v,R,L.value,x),L!==null&&(t&&L.alternate!==null&&b.delete(L.key===null?R:L.key),m=i(L,m,R),C===null?T=L:C.sibling=L,C=L);return t&&b.forEach(function(D){return e(v,D)}),Qe&&Oi(v,R),T}function w(v,m,E,x){if(typeof E=="object"&&E!==null&&E.type===jo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Wc:e:{for(var T=E.key,C=m;C!==null;){if(C.key===T){if(T=E.type,T===jo){if(C.tag===7){n(v,C.sibling),m=s(C,E.props.children),m.return=v,v=m;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ks&&y0(T)===C.type){n(v,C.sibling),m=s(C,E.props),m.ref=gl(v,C,E),m.return=v,v=m;break e}n(v,C);break}else e(v,C);C=C.sibling}E.type===jo?(m=Gi(E.props.children,v.mode,x,E.key),m.return=v,v=m):(x=Vd(E.type,E.key,E.props,null,v.mode,x),x.ref=gl(v,m,E),x.return=v,v=x)}return o(v);case Fo:e:{for(C=E.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===E.containerInfo&&m.stateNode.implementation===E.implementation){n(v,m.sibling),m=s(m,E.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=im(E,v.mode,x),m.return=v,v=m}return o(v);case ks:return C=E._init,w(v,m,C(E._payload),x)}if(bl(E))return _(v,m,E,x);if(dl(E))return g(v,m,E,x);td(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,E),m.return=v,v=m):(n(v,m),m=sm(E,v.mode,x),m.return=v,v=m),o(v)):n(v,m)}return w}var ba=Z1(!0),X1=Z1(!1),dh=Ii(null),hh=null,Ko=null,yv=null;function vv(){yv=Ko=hh=null}function _v(t){var e=dh.current;Ge(dh),t._currentValue=e}function Tg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ra(t,e){hh=t,yv=Ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(yv!==t)if(t={context:t,memoizedValue:e,next:null},Ko===null){if(hh===null)throw Error(V(308));Ko=t,hh.dependencies={lanes:0,firstContext:t}}else Ko=Ko.next=t;return e}var Vi=null;function wv(t){Vi===null?Vi=[t]:Vi.push(t)}function J1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,wv(e)):(n.next=s.next,s.next=n),e.interleaved=n,ls(t,r)}function ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ps=!1;function Ev(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Js(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ls(t,n)}return s=r.interleaved,s===null?(e.next=e,wv(r)):(e.next=s.next,s.next=e),r.interleaved=e,ls(t,n)}function Pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ov(t,n)}}function v0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fh(t,e,n,r){var s=t.updateQueue;Ps=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(h=e,f=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){d=_.call(f,d,h);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,h=typeof _=="function"?_.call(f,d,h):_,h==null)break e;d=Je({},d,h);break e;case 2:Ps=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);to|=o,t.lanes=o,t.memoizedState=d}}function _0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var pc={},br=Ii(pc),gu=Ii(pc),yu=Ii(pc);function Fi(t){if(t===pc)throw Error(V(174));return t}function xv(t,e){switch($e(yu,e),$e(gu,t),$e(br,pc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rg(e,t)}Ge(br),$e(br,e)}function Aa(){Ge(br),Ge(gu),Ge(yu)}function tI(t){Fi(yu.current);var e=Fi(br.current),n=rg(e,t.type);e!==n&&($e(gu,t),$e(br,n))}function Tv(t){gu.current===t&&(Ge(br),Ge(gu))}var Ze=Ii(0);function ph(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xp=[];function Iv(){for(var t=0;t<Xp.length;t++)Xp[t]._workInProgressVersionPrimary=null;Xp.length=0}var Nd=ys.ReactCurrentDispatcher,Jp=ys.ReactCurrentBatchConfig,eo=0,Xe=null,yt=null,wt=null,mh=!1,Wl=!1,vu=0,TO=0;function Ot(){throw Error(V(321))}function Sv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function Cv(t,e,n,r,s,i){if(eo=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nd.current=t===null||t.memoizedState===null?bO:AO,t=n(r,s),Wl){i=0;do{if(Wl=!1,vu=0,25<=i)throw Error(V(301));i+=1,wt=yt=null,e.updateQueue=null,Nd.current=RO,t=n(r,s)}while(Wl)}if(Nd.current=gh,e=yt!==null&&yt.next!==null,eo=0,wt=yt=Xe=null,mh=!1,e)throw Error(V(300));return t}function bv(){var t=vu!==0;return vu=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Xe.memoizedState=wt=t:wt=wt.next=t,wt}function jn(){if(yt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=wt===null?Xe.memoizedState:wt.next;if(e!==null)wt=e,yt=t;else{if(t===null)throw Error(V(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},wt===null?Xe.memoizedState=wt=t:wt=wt.next=t}return wt}function _u(t,e){return typeof e=="function"?e(t):e}function em(t){var e=jn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((eo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Xe.lanes|=c,to|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,er(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xe.lanes|=i,to|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tm(t){var e=jn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);er(i,e.memoizedState)||(cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nI(){}function rI(t,e){var n=Xe,r=jn(),s=e(),i=!er(r.memoizedState,s);if(i&&(r.memoizedState=s,cn=!0),r=r.queue,Av(oI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,wu(9,iI.bind(null,n,r,s,e),void 0,null),Et===null)throw Error(V(349));eo&30||sI(n,e,s)}return s}function sI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iI(t,e,n,r){e.value=n,e.getSnapshot=r,aI(e)&&lI(t)}function oI(t,e,n){return n(function(){aI(e)&&lI(t)})}function aI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function lI(t){var e=ls(t,1);e!==null&&Xn(e,t,1,-1)}function w0(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:t},e.queue=t,t=t.dispatch=CO.bind(null,Xe,t),[e.memoizedState,t]}function wu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uI(){return jn().memoizedState}function Od(t,e,n,r){var s=pr();Xe.flags|=t,s.memoizedState=wu(1|e,n,void 0,r===void 0?null:r)}function _f(t,e,n,r){var s=jn();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&Sv(r,o.deps)){s.memoizedState=wu(e,n,i,r);return}}Xe.flags|=t,s.memoizedState=wu(1|e,n,i,r)}function E0(t,e){return Od(8390656,8,t,e)}function Av(t,e){return _f(2048,8,t,e)}function cI(t,e){return _f(4,2,t,e)}function dI(t,e){return _f(4,4,t,e)}function hI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fI(t,e,n){return n=n!=null?n.concat([t]):null,_f(4,4,hI.bind(null,e,t),n)}function Rv(){}function pI(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mI(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gI(t,e,n){return eo&21?(er(n,e)||(n=E1(),Xe.lanes|=n,to|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function IO(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Jp.transition;Jp.transition={};try{t(!1),e()}finally{Me=n,Jp.transition=r}}function yI(){return jn().memoizedState}function SO(t,e,n){var r=ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vI(t))_I(e,n);else if(n=J1(t,e,n,r),n!==null){var s=Jt();Xn(n,t,r,s),wI(n,e,r)}}function CO(t,e,n){var r=ti(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vI(t))_I(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,er(a,o)){var l=e.interleaved;l===null?(s.next=s,wv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=J1(t,e,s,r),n!==null&&(s=Jt(),Xn(n,t,r,s),wI(n,e,r))}}function vI(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function _I(t,e){Wl=mh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ov(t,n)}}var gh={readContext:Fn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},bO={readContext:Fn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:E0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,hI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SO.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:w0,useDebugValue:Rv,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=w0(!1),e=t[0];return t=IO.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=pr();if(Qe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),Et===null)throw Error(V(349));eo&30||sI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,E0(oI.bind(null,r,i,t),[t]),r.flags|=2048,wu(9,iI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pr(),e=Et.identifierPrefix;if(Qe){var n=Jr,r=Xr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AO={readContext:Fn,useCallback:pI,useContext:Fn,useEffect:Av,useImperativeHandle:fI,useInsertionEffect:cI,useLayoutEffect:dI,useMemo:mI,useReducer:em,useRef:uI,useState:function(){return em(_u)},useDebugValue:Rv,useDeferredValue:function(t){var e=jn();return gI(e,yt.memoizedState,t)},useTransition:function(){var t=em(_u)[0],e=jn().memoizedState;return[t,e]},useMutableSource:nI,useSyncExternalStore:rI,useId:yI,unstable_isNewReconciler:!1},RO={readContext:Fn,useCallback:pI,useContext:Fn,useEffect:Av,useImperativeHandle:fI,useInsertionEffect:cI,useLayoutEffect:dI,useMemo:mI,useReducer:tm,useRef:uI,useState:function(){return tm(_u)},useDebugValue:Rv,useDeferredValue:function(t){var e=jn();return yt===null?e.memoizedState=t:gI(e,yt.memoizedState,t)},useTransition:function(){var t=tm(_u)[0],e=jn().memoizedState;return[t,e]},useMutableSource:nI,useSyncExternalStore:rI,useId:yI,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ig(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={isMounted:function(t){return(t=t._reactInternals)?yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ti(t),i=ss(r,s);i.payload=e,n!=null&&(i.callback=n),e=Js(t,i,s),e!==null&&(Xn(e,t,s,r),Pd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ti(t),i=ss(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Js(t,i,s),e!==null&&(Xn(e,t,s,r),Pd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=ti(t),s=ss(n,r);s.tag=2,e!=null&&(s.callback=e),e=Js(t,s,r),e!==null&&(Xn(e,t,r,n),Pd(e,t,r))}};function x0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!hu(n,r)||!hu(s,i):!0}function EI(t,e,n){var r=!1,s=ui,i=e.contextType;return typeof i=="object"&&i!==null?i=Fn(i):(s=hn(e)?Xi:Bt.current,r=e.contextTypes,i=(r=r!=null)?Sa(t,s):ui),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function T0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function Sg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ev(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fn(i):(i=hn(e)?Xi:Bt.current,s.context=Sa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ig(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wf.enqueueReplaceState(s,s.state,null),fh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ra(t,e){try{var n="",r=e;do n+=rN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function nm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kO=typeof WeakMap=="function"?WeakMap:Map;function xI(t,e,n){n=ss(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vh||(vh=!0,Lg=r),Cg(t,e)},n}function TI(t,e,n){n=ss(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Cg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cg(t,e),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=WO.bind(null,t,e,n),e.then(t,t))}function S0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function C0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ss(-1,1),e.tag=2,Js(n,e,1))),n.lanes|=1),t)}var PO=ys.ReactCurrentOwner,cn=!1;function Qt(t,e,n,r){e.child=t===null?X1(e,null,n,r):ba(e,t.child,n,r)}function b0(t,e,n,r,s){n=n.render;var i=e.ref;return ra(e,s),r=Cv(t,e,n,r,i,s),n=bv(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(Qe&&n&&pv(e),e.flags|=1,Qt(t,e,r,s),e.child)}function A0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Vv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,II(t,e,i,r,s)):(t=Vd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hu,n(o,r)&&t.ref===e.ref)return us(t,e,s)}return e.flags|=1,t=ni(i,r),t.ref=e.ref,t.return=e,e.child=t}function II(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(hu(i,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,us(t,e,s)}return bg(t,e,n,r,s)}function SI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Qo,gn),gn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Qo,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(Qo,gn),gn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$e(Qo,gn),gn|=r;return Qt(t,e,s,n),e.child}function CI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bg(t,e,n,r,s){var i=hn(n)?Xi:Bt.current;return i=Sa(e,i),ra(e,s),n=Cv(t,e,n,r,i,s),r=bv(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(Qe&&r&&pv(e),e.flags|=1,Qt(t,e,n,s),e.child)}function R0(t,e,n,r,s){if(hn(n)){var i=!0;lh(e)}else i=!1;if(ra(e,s),e.stateNode===null)Dd(t,e),EI(e,n,r),Sg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fn(u):(u=hn(n)?Xi:Bt.current,u=Sa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&T0(e,o,r,u),Ps=!1;var h=e.memoizedState;o.state=h,fh(e,r,o,s),l=e.memoizedState,a!==r||h!==l||dn.current||Ps?(typeof c=="function"&&(Ig(e,n,c,r),l=e.memoizedState),(a=Ps||x0(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=hn(n)?Xi:Bt.current,l=Sa(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&T0(e,o,r,l),Ps=!1,h=e.memoizedState,o.state=h,fh(e,r,o,s);var _=e.memoizedState;a!==d||h!==_||dn.current||Ps?(typeof f=="function"&&(Ig(e,n,f,r),_=e.memoizedState),(u=Ps||x0(e,n,u,r,h,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ag(t,e,n,r,i,s)}function Ag(t,e,n,r,s,i){CI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&p0(e,n,!1),us(t,e,i);r=e.stateNode,PO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ba(e,t.child,null,i),e.child=ba(e,null,a,i)):Qt(t,e,a,i),e.memoizedState=r.state,s&&p0(e,n,!0),e.child}function bI(t){var e=t.stateNode;e.pendingContext?f0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f0(t,e.context,!1),xv(t,e.containerInfo)}function k0(t,e,n,r,s){return Ca(),gv(s),e.flags|=256,Qt(t,e,n,r),e.child}var Rg={dehydrated:null,treeContext:null,retryLane:0};function kg(t){return{baseLanes:t,cachePool:null,transitions:null}}function AI(t,e,n){var r=e.pendingProps,s=Ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$e(Ze,s&1),t===null)return xg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Tf(o,r,0,null),t=Gi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=kg(n),e.memoizedState=Rg,t):kv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return NO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ni(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ni(a,i):(i=Gi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?kg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Rg,r}return i=t.child,t=i.sibling,r=ni(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kv(t,e){return e=Tf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nd(t,e,n,r){return r!==null&&gv(r),ba(e,t.child,null,n),t=kv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=nm(Error(V(422))),nd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Tf({mode:"visible",children:r.children},s,0,null),i=Gi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ba(e,t.child,null,o),e.child.memoizedState=kg(o),e.memoizedState=Rg,i);if(!(e.mode&1))return nd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(V(419)),r=nm(i,r,void 0),nd(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=Et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ls(t,s),Xn(r,t,s,-1))}return Lv(),r=nm(Error(V(421))),nd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=HO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_n=Xs(s.nextSibling),En=e,Qe=!0,qn=null,t!==null&&(Nn[On++]=Xr,Nn[On++]=Jr,Nn[On++]=Ji,Xr=t.id,Jr=t.overflow,Ji=e),e=kv(e,r.children),e.flags|=4096,e)}function P0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tg(t.return,e,n)}function rm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function RI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Qt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P0(t,n,e);else if(t.tag===19)P0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ph(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),rm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ph(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}rm(e,!0,n,null,i);break;case"together":rm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function us(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),to|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function OO(t,e,n){switch(e.tag){case 3:bI(e),Ca();break;case 5:tI(e);break;case 1:hn(e.type)&&lh(e);break;case 4:xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;$e(dh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?AI(t,e,n):($e(Ze,Ze.current&1),t=us(t,e,n),t!==null?t.sibling:null);$e(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,SI(t,e,n)}return us(t,e,n)}var kI,Pg,PI,NI;kI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pg=function(){};PI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fi(br.current);var i=null;switch(n){case"input":s=Jm(t,s),r=Jm(t,r),i=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),i=[];break;case"textarea":s=ng(t,s),r=ng(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oh)}sg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(iu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(iu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};NI=function(t,e,n,r){n!==r&&(e.flags|=4)};function yl(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DO(t,e,n){var r=e.pendingProps;switch(mv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return hn(e.type)&&ah(),Dt(e),null;case 3:return r=e.stateNode,Aa(),Ge(dn),Ge(Bt),Iv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(jg(qn),qn=null))),Pg(t,e),Dt(e),null;case 5:Tv(e);var s=Fi(yu.current);if(n=e.type,t!==null&&e.stateNode!=null)PI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return Dt(e),null}if(t=Fi(br.current),ed(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[vr]=e,r[mu]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<Rl.length;s++)He(Rl[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":$w(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":Bw(r,i),He("invalid",r)}sg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Jc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Jc(r.textContent,a,t),s=["children",""+a]):iu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Hc(r),Uw(r,i,!0);break;case"textarea":Hc(r),zw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=oh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=o1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vr]=e,t[mu]=r,kI(t,e,!1,!1),e.stateNode=t;e:{switch(o=ig(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<Rl.length;s++)He(Rl[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":$w(t,r),s=Jm(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),He("invalid",t);break;case"textarea":Bw(t,r),s=ng(t,r),He("invalid",t);break;default:s=r}sg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?u1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ou(t,l):typeof l=="number"&&ou(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(iu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",t):l!=null&&ev(t,i,l,o))}switch(n){case"input":Hc(t),Uw(t,r,!1);break;case"textarea":Hc(t),zw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+li(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Jo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=oh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)NI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=Fi(yu.current),Fi(br.current),ed(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:Jc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Dt(e),null;case 13:if(Ge(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&_n!==null&&e.mode&1&&!(e.flags&128))Y1(),Ca(),e.flags|=98560,i=!1;else if(i=ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(V(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[vr]=e}else Ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),i=!1}else qn!==null&&(jg(qn),qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?vt===0&&(vt=3):Lv())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Aa(),Pg(t,e),t===null&&fu(e.stateNode.containerInfo),Dt(e),null;case 10:return _v(e.type._context),Dt(e),null;case 17:return hn(e.type)&&ah(),Dt(e),null;case 19:if(Ge(Ze),i=e.memoizedState,i===null)return Dt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)yl(i,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ph(t),o!==null){for(e.flags|=128,yl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Ze,Ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&ot()>ka&&(e.flags|=128,r=!0,yl(i,!1),e.lanes=4194304)}else{if(!r)if(t=ph(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Dt(e),null}else 2*ot()-i.renderingStartTime>ka&&n!==1073741824&&(e.flags|=128,r=!0,yl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ot(),e.sibling=null,n=Ze.current,$e(Ze,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return Mv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function MO(t,e){switch(mv(e),e.tag){case 1:return hn(e.type)&&ah(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Aa(),Ge(dn),Ge(Bt),Iv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tv(e),null;case 13:if(Ge(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));Ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Ze),null;case 4:return Aa(),null;case 10:return _v(e.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var rd=!1,Ft=!1,LO=typeof WeakSet=="function"?WeakSet:Set,X=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Ng(t,e,n){try{n()}catch(r){rt(t,e,r)}}var N0=!1;function VO(t,e){if(mg=rh,t=V1(),fv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gg={focusedElem:t,selectionRange:n},rh=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,w=_.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Bn(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(x){rt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return _=N0,N0=!1,_}function Hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ng(e,n,i)}s=s.next}while(s!==r)}}function Ef(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Og(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OI(t){var e=t.alternate;e!==null&&(t.alternate=null,OI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[mu],delete e[_g],delete e[_O],delete e[wO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DI(t){return t.tag===5||t.tag===3||t.tag===4}function O0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oh));else if(r!==4&&(t=t.child,t!==null))for(Dg(t,e,n),t=t.sibling;t!==null;)Dg(t,e,n),t=t.sibling}function Mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mg(t,e,n),t=t.sibling;t!==null;)Mg(t,e,n),t=t.sibling}var It=null,Hn=!1;function Is(t,e,n){for(n=n.child;n!==null;)MI(t,e,n),n=n.sibling}function MI(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(ff,n)}catch{}switch(n.tag){case 5:Ft||Go(n,e);case 6:var r=It,s=Hn;It=null,Is(t,e,n),It=r,Hn=s,It!==null&&(Hn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Hn?(t=It,n=n.stateNode,t.nodeType===8?Yp(t.parentNode,n):t.nodeType===1&&Yp(t,n),cu(t)):Yp(It,n.stateNode));break;case 4:r=It,s=Hn,It=n.stateNode.containerInfo,Hn=!0,Is(t,e,n),It=r,Hn=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ng(n,e,o),s=s.next}while(s!==r)}Is(t,e,n);break;case 1:if(!Ft&&(Go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}Is(t,e,n);break;case 21:Is(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,Is(t,e,n),Ft=r):Is(t,e,n);break;default:Is(t,e,n)}}function D0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LO),e.forEach(function(r){var s=qO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,Hn=!1;break e;case 3:It=a.stateNode.containerInfo,Hn=!0;break e;case 4:It=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(It===null)throw Error(V(160));MI(i,o,s),It=null,Hn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){rt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LI(e,t),e=e.sibling}function LI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),fr(t),r&4){try{Hl(3,t,t.return),Ef(3,t)}catch(g){rt(t,t.return,g)}try{Hl(5,t,t.return)}catch(g){rt(t,t.return,g)}}break;case 1:Un(e,t),fr(t),r&512&&n!==null&&Go(n,n.return);break;case 5:if(Un(e,t),fr(t),r&512&&n!==null&&Go(n,n.return),t.flags&32){var s=t.stateNode;try{ou(s,"")}catch(g){rt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&s1(s,i),ig(a,o);var u=ig(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?u1(s,d):c==="dangerouslySetInnerHTML"?a1(s,d):c==="children"?ou(s,d):ev(s,c,d,u)}switch(a){case"input":eg(s,i);break;case"textarea":i1(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Jo(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Jo(s,!!i.multiple,i.defaultValue,!0):Jo(s,!!i.multiple,i.multiple?[]:"",!1))}s[mu]=i}catch(g){rt(t,t.return,g)}}break;case 6:if(Un(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(V(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){rt(t,t.return,g)}}break;case 3:if(Un(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cu(e.containerInfo)}catch(g){rt(t,t.return,g)}break;case 4:Un(e,t),fr(t);break;case 13:Un(e,t),fr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ov=ot())),r&4&&D0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||c,Un(e,t),Ft=u):Un(e,t),fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(X=t,c=t.child;c!==null;){for(d=X=c;X!==null;){switch(h=X,f=h.child,h.tag){case 0:case 11:case 14:case 15:Hl(4,h,h.return);break;case 1:Go(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){rt(r,n,g)}}break;case 5:Go(h,h.return);break;case 22:if(h.memoizedState!==null){L0(d);continue}}f!==null?(f.return=h,X=f):L0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=l1("display",o))}catch(g){rt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){rt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Un(e,t),fr(t),r&4&&D0(t);break;case 21:break;default:Un(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DI(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ou(s,""),r.flags&=-33);var i=O0(t);Mg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=O0(t);Dg(t,a,o);break;default:throw Error(V(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FO(t,e,n){X=t,VI(t)}function VI(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||rd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=rd;var u=Ft;if(rd=o,(Ft=l)&&!u)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?V0(s):l!==null?(l.return=o,X=l):V0(s);for(;i!==null;)X=i,VI(i),i=i.sibling;X=s,rd=a,Ft=u}M0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):M0(t)}}function M0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Ef(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&_0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&cu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ft||e.flags&512&&Og(e)}catch(h){rt(e,e.return,h)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function L0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function V0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ef(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var i=e.return;try{Og(e)}catch(l){rt(e,i,l)}break;case 5:var o=e.return;try{Og(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var jO=Math.ceil,yh=ys.ReactCurrentDispatcher,Pv=ys.ReactCurrentOwner,Vn=ys.ReactCurrentBatchConfig,Pe=0,Et=null,ht=null,At=0,gn=0,Qo=Ii(0),vt=0,Eu=null,to=0,xf=0,Nv=0,ql=null,ln=null,Ov=0,ka=1/0,Yr=null,vh=!1,Lg=null,ei=null,sd=!1,qs=null,_h=0,Kl=0,Vg=null,Md=-1,Ld=0;function Jt(){return Pe&6?ot():Md!==-1?Md:Md=ot()}function ti(t){return t.mode&1?Pe&2&&At!==0?At&-At:xO.transition!==null?(Ld===0&&(Ld=E1()),Ld):(t=Me,t!==0||(t=window.event,t=t===void 0?16:A1(t.type)),t):1}function Xn(t,e,n,r){if(50<Kl)throw Kl=0,Vg=null,Error(V(185));dc(t,n,r),(!(Pe&2)||t!==Et)&&(t===Et&&(!(Pe&2)&&(xf|=n),vt===4&&Os(t,At)),fn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(ka=ot()+500,vf&&Si()))}function fn(t,e){var n=t.callbackNode;xN(t,e);var r=nh(t,t===Et?At:0);if(r===0)n!==null&&qw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qw(n),e===1)t.tag===0?EO(F0.bind(null,t)):K1(F0.bind(null,t)),yO(function(){!(Pe&6)&&Si()}),n=null;else{switch(x1(r)){case 1:n=iv;break;case 4:n=_1;break;case 16:n=th;break;case 536870912:n=w1;break;default:n=th}n=HI(n,FI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FI(t,e){if(Md=-1,Ld=0,Pe&6)throw Error(V(327));var n=t.callbackNode;if(sa()&&t.callbackNode!==n)return null;var r=nh(t,t===Et?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wh(t,r);else{e=r;var s=Pe;Pe|=2;var i=$I();(Et!==t||At!==e)&&(Yr=null,ka=ot()+500,Ki(t,e));do try{BO();break}catch(a){jI(t,a)}while(!0);vv(),yh.current=i,Pe=s,ht!==null?e=0:(Et=null,At=0,e=vt)}if(e!==0){if(e===2&&(s=cg(t),s!==0&&(r=s,e=Fg(t,s))),e===1)throw n=Eu,Ki(t,0),Os(t,r),fn(t,ot()),n;if(e===6)Os(t,r);else{if(s=t.current.alternate,!(r&30)&&!$O(s)&&(e=wh(t,r),e===2&&(i=cg(t),i!==0&&(r=i,e=Fg(t,i))),e===1))throw n=Eu,Ki(t,0),Os(t,r),fn(t,ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:Di(t,ln,Yr);break;case 3:if(Os(t,r),(r&130023424)===r&&(e=Ov+500-ot(),10<e)){if(nh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vg(Di.bind(null,t,ln,Yr),e);break}Di(t,ln,Yr);break;case 4:if(Os(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jO(r/1960))-r,10<r){t.timeoutHandle=vg(Di.bind(null,t,ln,Yr),r);break}Di(t,ln,Yr);break;case 5:Di(t,ln,Yr);break;default:throw Error(V(329))}}}return fn(t,ot()),t.callbackNode===n?FI.bind(null,t):null}function Fg(t,e){var n=ql;return t.current.memoizedState.isDehydrated&&(Ki(t,e).flags|=256),t=wh(t,e),t!==2&&(e=ln,ln=n,e!==null&&jg(e)),t}function jg(t){ln===null?ln=t:ln.push.apply(ln,t)}function $O(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Os(t,e){for(e&=~Nv,e&=~xf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function F0(t){if(Pe&6)throw Error(V(327));sa();var e=nh(t,0);if(!(e&1))return fn(t,ot()),null;var n=wh(t,e);if(t.tag!==0&&n===2){var r=cg(t);r!==0&&(e=r,n=Fg(t,r))}if(n===1)throw n=Eu,Ki(t,0),Os(t,e),fn(t,ot()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Di(t,ln,Yr),fn(t,ot()),null}function Dv(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(ka=ot()+500,vf&&Si())}}function no(t){qs!==null&&qs.tag===0&&!(Pe&6)&&sa();var e=Pe;Pe|=1;var n=Vn.transition,r=Me;try{if(Vn.transition=null,Me=1,t)return t()}finally{Me=r,Vn.transition=n,Pe=e,!(Pe&6)&&Si()}}function Mv(){gn=Qo.current,Ge(Qo)}function Ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gO(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(mv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ah();break;case 3:Aa(),Ge(dn),Ge(Bt),Iv();break;case 5:Tv(r);break;case 4:Aa();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:_v(r.type._context);break;case 22:case 23:Mv()}n=n.return}if(Et=t,ht=t=ni(t.current,null),At=gn=e,vt=0,Eu=null,Nv=xf=to=0,ln=ql=null,Vi!==null){for(e=0;e<Vi.length;e++)if(n=Vi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vi=null}return t}function jI(t,e){do{var n=ht;try{if(vv(),Nd.current=gh,mh){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}mh=!1}if(eo=0,wt=yt=Xe=null,Wl=!1,vu=0,Pv.current=null,n===null||n.return===null){vt=1,Eu=e,ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=S0(o);if(f!==null){f.flags&=-257,C0(f,o,a,i,e),f.mode&1&&I0(i,u,e),e=f,l=u;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){I0(i,u,e),Lv();break e}l=Error(V(426))}}else if(Qe&&a.mode&1){var w=S0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),C0(w,o,a,i,e),gv(Ra(l,a));break e}}i=l=Ra(l,a),vt!==4&&(vt=2),ql===null?ql=[i]:ql.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=xI(i,l,e);v0(i,v);break e;case 1:a=l;var m=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ei===null||!ei.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=TI(i,a,e);v0(i,x);break e}}i=i.return}while(i!==null)}BI(n)}catch(T){e=T,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function $I(){var t=yh.current;return yh.current=gh,t===null?gh:t}function Lv(){(vt===0||vt===3||vt===2)&&(vt=4),Et===null||!(to&268435455)&&!(xf&268435455)||Os(Et,At)}function wh(t,e){var n=Pe;Pe|=2;var r=$I();(Et!==t||At!==e)&&(Yr=null,Ki(t,e));do try{UO();break}catch(s){jI(t,s)}while(!0);if(vv(),Pe=n,yh.current=r,ht!==null)throw Error(V(261));return Et=null,At=0,vt}function UO(){for(;ht!==null;)UI(ht)}function BO(){for(;ht!==null&&!fN();)UI(ht)}function UI(t){var e=WI(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?BI(t):ht=e,Pv.current=null}function BI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MO(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ht=null;return}}else if(n=DO(n,e,gn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);vt===0&&(vt=5)}function Di(t,e,n){var r=Me,s=Vn.transition;try{Vn.transition=null,Me=1,zO(t,e,n,r)}finally{Vn.transition=s,Me=r}return null}function zO(t,e,n,r){do sa();while(qs!==null);if(Pe&6)throw Error(V(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(TN(t,i),t===Et&&(ht=Et=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sd||(sd=!0,HI(th,function(){return sa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=Me;Me=1;var a=Pe;Pe|=4,Pv.current=null,VO(t,n),LI(n,t),uO(gg),rh=!!mg,gg=mg=null,t.current=n,FO(n),pN(),Pe=a,Me=o,Vn.transition=i}else t.current=n;if(sd&&(sd=!1,qs=t,_h=s),i=t.pendingLanes,i===0&&(ei=null),yN(n.stateNode),fn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vh)throw vh=!1,t=Lg,Lg=null,t;return _h&1&&t.tag!==0&&sa(),i=t.pendingLanes,i&1?t===Vg?Kl++:(Kl=0,Vg=t):Kl=0,Si(),null}function sa(){if(qs!==null){var t=x1(_h),e=Vn.transition,n=Me;try{if(Vn.transition=null,Me=16>t?16:t,qs===null)var r=!1;else{if(t=qs,qs=null,_h=0,Pe&6)throw Error(V(331));var s=Pe;for(Pe|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:Hl(8,c,i)}var d=c.child;if(d!==null)d.return=c,X=d;else for(;X!==null;){c=X;var h=c.sibling,f=c.return;if(OI(c),c===u){X=null;break}if(h!==null){h.return=f,X=h;break}X=f}}}var _=i.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,X=v;break e}X=i.return}}var m=t.current;for(X=m;X!==null;){o=X;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,X=E;else e:for(o=m;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ef(9,a)}}catch(T){rt(a,a.return,T)}if(a===o){X=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}if(Pe=s,Si(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(ff,t)}catch{}r=!0}return r}finally{Me=n,Vn.transition=e}}return!1}function j0(t,e,n){e=Ra(n,e),e=xI(t,e,1),t=Js(t,e,1),e=Jt(),t!==null&&(dc(t,1,e),fn(t,e))}function rt(t,e,n){if(t.tag===3)j0(t,t,n);else for(;e!==null;){if(e.tag===3){j0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){t=Ra(n,t),t=TI(e,t,1),e=Js(e,t,1),t=Jt(),e!==null&&(dc(e,1,t),fn(e,t));break}}e=e.return}}function WO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(At&n)===n&&(vt===4||vt===3&&(At&130023424)===At&&500>ot()-Ov?Ki(t,0):Nv|=n),fn(t,e)}function zI(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var n=Jt();t=ls(t,e),t!==null&&(dc(t,e,n),fn(t,n))}function HO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zI(t,n)}function qO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),zI(t,n)}var WI;WI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,OO(t,e,n);cn=!!(t.flags&131072)}else cn=!1,Qe&&e.flags&1048576&&G1(e,ch,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var s=Sa(e,Bt.current);ra(e,n),s=Cv(null,e,r,t,s,n);var i=bv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(r)?(i=!0,lh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ev(e),s.updater=wf,e.stateNode=s,s._reactInternals=e,Sg(e,r,t,n),e=Ag(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&pv(e),Qt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=GO(r),t=Bn(r,t),s){case 0:e=bg(null,e,r,t,n);break e;case 1:e=R0(null,e,r,t,n);break e;case 11:e=b0(null,e,r,t,n);break e;case 14:e=A0(null,e,r,Bn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),bg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),R0(t,e,r,s,n);case 3:e:{if(bI(e),t===null)throw Error(V(387));r=e.pendingProps,i=e.memoizedState,s=i.element,eI(t,e),fh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ra(Error(V(423)),e),e=k0(t,e,r,n,s);break e}else if(r!==s){s=Ra(Error(V(424)),e),e=k0(t,e,r,n,s);break e}else for(_n=Xs(e.stateNode.containerInfo.firstChild),En=e,Qe=!0,qn=null,n=X1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ca(),r===s){e=us(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return tI(e),t===null&&xg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yg(r,s)?o=null:i!==null&&yg(r,i)&&(e.flags|=32),CI(t,e),Qt(t,e,o,n),e.child;case 6:return t===null&&xg(e),null;case 13:return AI(t,e,n);case 4:return xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ba(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),b0(t,e,r,s,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,$e(dh,r._currentValue),r._currentValue=o,i!==null)if(er(i.value,o)){if(i.children===s.children&&!dn.current){e=us(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ss(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ra(e,n),s=Fn(s),r=r(s),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,s=Bn(r,e.pendingProps),s=Bn(r.type,s),A0(t,e,r,s,n);case 15:return II(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Bn(r,s),Dd(t,e),e.tag=1,hn(r)?(t=!0,lh(e)):t=!1,ra(e,n),EI(e,r,s),Sg(e,r,s,n),Ag(null,e,r,!0,t,n);case 19:return RI(t,e,n);case 22:return SI(t,e,n)}throw Error(V(156,e.tag))};function HI(t,e){return v1(t,e)}function KO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new KO(t,e,n,r)}function Vv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GO(t){if(typeof t=="function")return Vv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nv)return 11;if(t===rv)return 14}return 2}function ni(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Vv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jo:return Gi(n.children,s,i,e);case tv:o=8,s|=8;break;case Qm:return t=Ln(12,n,e,s|2),t.elementType=Qm,t.lanes=i,t;case Ym:return t=Ln(13,n,e,s),t.elementType=Ym,t.lanes=i,t;case Zm:return t=Ln(19,n,e,s),t.elementType=Zm,t.lanes=i,t;case t1:return Tf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JT:o=10;break e;case e1:o=9;break e;case nv:o=11;break e;case rv:o=14;break e;case ks:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gi(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function Tf(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=t1,t.lanes=n,t.stateNode={isHidden:!1},t}function sm(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function im(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jp(0),this.expirationTimes=jp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fv(t,e,n,r,s,i,o,a,l){return t=new QO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ev(i),t}function YO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qI(t){if(!t)return ui;t=t._reactInternals;e:{if(yo(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(hn(n))return q1(t,n,e)}return e}function KI(t,e,n,r,s,i,o,a,l){return t=Fv(n,r,!0,t,s,i,o,a,l),t.context=qI(null),n=t.current,r=Jt(),s=ti(n),i=ss(r,s),i.callback=e??null,Js(n,i,s),t.current.lanes=s,dc(t,s,r),fn(t,r),t}function If(t,e,n,r){var s=e.current,i=Jt(),o=ti(s);return n=qI(n),e.context===null?e.context=n:e.pendingContext=n,e=ss(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Js(s,e,o),t!==null&&(Xn(t,s,o,i),Pd(t,s,o)),o}function Eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jv(t,e){$0(t,e),(t=t.alternate)&&$0(t,e)}function ZO(){return null}var GI=typeof reportError=="function"?reportError:function(t){console.error(t)};function $v(t){this._internalRoot=t}Sf.prototype.render=$v.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));If(t,e,null,null)};Sf.prototype.unmount=$v.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;no(function(){If(null,t,null,null)}),e[as]=null}};function Sf(t){this._internalRoot=t}Sf.prototype.unstable_scheduleHydration=function(t){if(t){var e=S1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ns.length&&e!==0&&e<Ns[n].priority;n++);Ns.splice(n,0,t),n===0&&b1(t)}};function Uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U0(){}function XO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Eh(o);i.call(u)}}var o=KI(e,r,t,0,null,!1,!1,"",U0);return t._reactRootContainer=o,t[as]=o.current,fu(t.nodeType===8?t.parentNode:t),no(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Eh(l);a.call(u)}}var l=Fv(t,0,!1,null,null,!1,!1,"",U0);return t._reactRootContainer=l,t[as]=l.current,fu(t.nodeType===8?t.parentNode:t),no(function(){If(e,l,n,r)}),l}function bf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Eh(o);a.call(l)}}If(e,o,t,s)}else o=XO(n,e,t,s,r);return Eh(o)}T1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Al(e.pendingLanes);n!==0&&(ov(e,n|1),fn(e,ot()),!(Pe&6)&&(ka=ot()+500,Si()))}break;case 13:no(function(){var r=ls(t,1);if(r!==null){var s=Jt();Xn(r,t,1,s)}}),jv(t,1)}};av=function(t){if(t.tag===13){var e=ls(t,134217728);if(e!==null){var n=Jt();Xn(e,t,134217728,n)}jv(t,134217728)}};I1=function(t){if(t.tag===13){var e=ti(t),n=ls(t,e);if(n!==null){var r=Jt();Xn(n,t,e,r)}jv(t,e)}};S1=function(){return Me};C1=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};ag=function(t,e,n){switch(e){case"input":if(eg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yf(r);if(!s)throw Error(V(90));r1(r),eg(r,s)}}}break;case"textarea":i1(t,n);break;case"select":e=n.value,e!=null&&Jo(t,!!n.multiple,e,!1)}};h1=Dv;f1=no;var JO={usingClientEntryPoint:!1,Events:[fc,zo,yf,c1,d1,Dv]},vl={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eD={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=g1(t),t===null?null:t.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||ZO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{ff=id.inject(eD),Cr=id}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JO;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uv(e))throw Error(V(200));return YO(t,e,null,n)};bn.createRoot=function(t,e){if(!Uv(t))throw Error(V(299));var n=!1,r="",s=GI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fv(t,1,!1,null,null,n,!1,r,s),t[as]=e.current,fu(t.nodeType===8?t.parentNode:t),new $v(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=g1(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return no(t)};bn.hydrate=function(t,e,n){if(!Cf(e))throw Error(V(200));return bf(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!Uv(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=GI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KI(e,null,t,1,n??null,s,!1,i,o),t[as]=e.current,fu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Sf(e)};bn.render=function(t,e,n){if(!Cf(e))throw Error(V(200));return bf(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Cf(t))throw Error(V(40));return t._reactRootContainer?(no(function(){bf(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};bn.unstable_batchedUpdates=Dv;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cf(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return bf(t,e,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function QI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QI)}catch(t){console.error(t)}}QI(),QT.exports=bn;var mc=QT.exports;const YI=LT(mc);var ZI,B0=mc;ZI=B0.createRoot,B0.hydrateRoot;const tD=1,nD=1e6;let om=0;function rD(){return om=(om+1)%Number.MAX_SAFE_INTEGER,om.toString()}const am=new Map,z0=t=>{if(am.has(t))return;const e=setTimeout(()=>{am.delete(t),Gl({type:"REMOVE_TOAST",toastId:t})},nD);am.set(t,e)},sD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,tD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?z0(n):t.toasts.forEach(r=>{z0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Fd=[];let jd={toasts:[]};function Gl(t){jd=sD(jd,t),Fd.forEach(e=>{e(jd)})}function iD({...t}){const e=rD(),n=s=>Gl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Gl({type:"DISMISS_TOAST",toastId:e});return Gl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function oD(){const[t,e]=y.useState(jd);return y.useEffect(()=>(Fd.push(e),()=>{const n=Fd.indexOf(e);n>-1&&Fd.splice(n,1)}),[t]),{...t,toast:iD,dismiss:n=>Gl({type:"DISMISS_TOAST",toastId:n})}}function ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function aD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function XI(...t){return e=>t.forEach(n=>aD(n,e))}function zt(...t){return y.useCallback(XI(...t),t)}function lD(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(d){const{scope:h,children:f,..._}=d,g=(h==null?void 0:h[t][l])||a,w=y.useMemo(()=>_,Object.values(_));return p.jsx(g.Provider,{value:w,children:f})}function c(d,h){const f=(h==null?void 0:h[t][l])||a,_=y.useContext(f);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,uD(s,...e)]}function uD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ro=y.forwardRef((t,e)=>{const{children:n,...r}=t,s=y.Children.toArray(n),i=s.find(cD);if(i){const o=i.props.children,a=s.map(l=>l===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return p.jsx($g,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return p.jsx($g,{...r,ref:e,children:n})});ro.displayName="Slot";var $g=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const s=hD(n);return y.cloneElement(n,{...dD(r,n.props),ref:e?XI(e,s):s})}return y.Children.count(n)>1?y.Children.only(null):null});$g.displayName="SlotClone";var JI=({children:t})=>p.jsx(p.Fragment,{children:t});function cD(t){return y.isValidElement(t)&&t.type===JI}function dD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eS(t){const e=t+"CollectionProvider",[n,r]=lD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:_,children:g}=f,w=N.useRef(null),v=N.useRef(new Map).current;return p.jsx(s,{scope:_,itemMap:v,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=N.forwardRef((f,_)=>{const{scope:g,children:w}=f,v=i(a,g),m=zt(_,v.collectionRef);return p.jsx(ro,{ref:m,children:w})});l.displayName=a;const u=t+"CollectionItemSlot",c="data-radix-collection-item",d=N.forwardRef((f,_)=>{const{scope:g,children:w,...v}=f,m=N.useRef(null),E=zt(_,m),x=i(u,g);return N.useEffect(()=>(x.itemMap.set(m,{ref:m,...v}),()=>void x.itemMap.delete(m))),p.jsx(ro,{[c]:"",ref:E,children:w})});d.displayName=u;function h(f){const _=i(t+"CollectionConsumer",f);return N.useCallback(()=>{const w=_.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${c}]`));return Array.from(_.itemMap.values()).sort((x,T)=>v.indexOf(x.ref.current)-v.indexOf(T.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,r]}function fD(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Af(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const u=d=>{var v;const{scope:h,children:f,..._}=d,g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,w=y.useMemo(()=>_,Object.values(_));return p.jsx(g.Provider,{value:w,children:f})};u.displayName=i+"Provider";function c(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,_=y.useContext(f);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,c]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,pD(s,...e)]}function pD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var mD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=mD.reduce((t,e)=>{const n=y.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ro:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function tS(t,e){t&&mc.flushSync(()=>t.dispatchEvent(e))}function Sn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function gD(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var yD="DismissableLayer",Ug="dismissableLayer.update",vD="dismissableLayer.pointerDownOutside",_D="dismissableLayer.focusOutside",W0,nS=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rf=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(nS),[c,d]=y.useState(null),h=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=y.useState({}),_=zt(e,b=>d(b)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(w),m=c?g.indexOf(c):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,x=m>=v,T=ED(b=>{const R=b.target,j=[...u.branches].some(L=>L.contains(R));!x||j||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},h),C=xD(b=>{const R=b.target;[...u.branches].some(L=>L.contains(R))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},h);return gD(b=>{m===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},h),y.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(W0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),H0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=W0)}},[c,h,n,u]),y.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),H0())},[c,u]),y.useEffect(()=>{const b=()=>f({});return document.addEventListener(Ug,b),()=>document.removeEventListener(Ug,b)},[]),p.jsx(Ve.div,{...l,ref:_,style:{pointerEvents:E?x?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,T.onPointerDownCapture)})});Rf.displayName=yD;var wD="DismissableLayerBranch",rS=y.forwardRef((t,e)=>{const n=y.useContext(nS),r=y.useRef(null),s=zt(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Ve.div,{...t,ref:s})});rS.displayName=wD;function ED(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){sS(vD,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function xD(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&sS(_D,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function H0(){const t=new CustomEvent(Ug);document.dispatchEvent(t)}function sS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tS(s,i):s.dispatchEvent(i)}var TD=Rf,ID=rS,ci=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},SD="Portal",Bv=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);ci(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?YI.createPortal(p.jsx(Ve.div,{...r,ref:e}),o):null});Bv.displayName=SD;function CD(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var vo=t=>{const{present:e,children:n}=t,r=bD(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=zt(r.ref,AD(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};vo.displayName="Presence";function bD(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=CD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=od(r.current);i.current=a==="mounted"?u:"none"},[a]),ci(()=>{const u=r.current,c=s.current;if(c!==t){const h=i.current,f=od(u);t?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ci(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,d=f=>{const g=od(r.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=f=>{f.target===e&&(i.current=od(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function od(t){return(t==null?void 0:t.animationName)||"none"}function AD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kf({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=RD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Sn(n),l=y.useCallback(u=>{if(i){const d=typeof u=="function"?u(t):u;d!==t&&a(d)}else s(u)},[i,t,s,a]);return[o,l]}function RD({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=Sn(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var kD="VisuallyHidden",Pf=y.forwardRef((t,e)=>p.jsx(Ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Pf.displayName=kD;var PD=Pf,zv="ToastProvider",[Wv,ND,OD]=eS("Toast"),[iS,gH]=Af("Toast",[OD]),[DD,Nf]=iS(zv),oS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[u,c]=y.useState(0),d=y.useRef(!1),h=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zv}\`. Expected non-empty \`string\`.`),p.jsx(Wv.Provider,{scope:e,children:p.jsx(DD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>c(f=>f+1),[]),onToastRemove:y.useCallback(()=>c(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};oS.displayName=zv;var aS="ToastViewport",MD=["F8"],Bg="toast.viewportPause",zg="toast.viewportResume",lS=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=MD,label:s="Notifications ({hotkey})",...i}=t,o=Nf(aS,n),a=ND(n),l=y.useRef(null),u=y.useRef(null),c=y.useRef(null),d=y.useRef(null),h=zt(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;y.useEffect(()=>{const w=v=>{var E;r.length!==0&&r.every(x=>v[x]||v.code===x)&&((E=d.current)==null||E.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),y.useEffect(()=>{const w=l.current,v=d.current;if(_&&w&&v){const m=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Bg);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(zg);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},x=C=>{!w.contains(C.relatedTarget)&&E()},T=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",m),w.addEventListener("focusout",x),w.addEventListener("pointermove",m),w.addEventListener("pointerleave",T),window.addEventListener("blur",m),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",m),w.removeEventListener("focusout",x),w.removeEventListener("pointermove",m),w.removeEventListener("pointerleave",T),window.removeEventListener("blur",m),window.removeEventListener("focus",E)}}},[_,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:w})=>{const m=a().map(E=>{const x=E.ref.current,T=[x,...GD(x)];return w==="forwards"?T:T.reverse()});return(w==="forwards"?m.reverse():m).flat()},[a]);return y.useEffect(()=>{const w=d.current;if(w){const v=m=>{var T,C,b;const E=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!E){const R=document.activeElement,j=m.shiftKey;if(m.target===w&&j){(T=u.current)==null||T.focus();return}const D=g({tabbingDirection:j?"backwards":"forwards"}),q=D.findIndex($=>$===R);lm(D.slice(q+1))?m.preventDefault():j?(C=u.current)==null||C.focus():(b=c.current)==null||b.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,g]),p.jsxs(ID,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&p.jsx(Wg,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});lm(w)}}),p.jsx(Wv.Slot,{scope:n,children:p.jsx(Ve.ol,{tabIndex:-1,...i,ref:h})}),_&&p.jsx(Wg,{ref:c,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});lm(w)}})]})});lS.displayName=aS;var uS="ToastFocusProxy",Wg=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Nf(uS,n);return p.jsx(Pf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Wg.displayName=uS;var Of="Toast",LD="toast.swipeStart",VD="toast.swipeMove",FD="toast.swipeCancel",jD="toast.swipeEnd",cS=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=kf({prop:r,defaultProp:s,onChange:i});return p.jsx(vo,{present:n||a,children:p.jsx(BD,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Sn(t.onPause),onResume:Sn(t.onResume),onSwipeStart:ke(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(t.onSwipeMove,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ke(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(t.onSwipeEnd,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});cS.displayName=Of;var[$D,UD]=iS(Of,{onClose(){}}),BD=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,..._}=t,g=Nf(Of,n),[w,v]=y.useState(null),m=zt(e,$=>v($)),E=y.useRef(null),x=y.useRef(null),T=s||g.duration,C=y.useRef(0),b=y.useRef(T),R=y.useRef(0),{onToastAdd:j,onToastRemove:L}=g,re=Sn(()=>{var se;(w==null?void 0:w.contains(document.activeElement))&&((se=g.viewport)==null||se.focus()),o()}),D=y.useCallback($=>{!$||$===1/0||(window.clearTimeout(R.current),C.current=new Date().getTime(),R.current=window.setTimeout(re,$))},[re]);y.useEffect(()=>{const $=g.viewport;if($){const se=()=>{D(b.current),u==null||u()},Z=()=>{const le=new Date().getTime()-C.current;b.current=b.current-le,window.clearTimeout(R.current),l==null||l()};return $.addEventListener(Bg,Z),$.addEventListener(zg,se),()=>{$.removeEventListener(Bg,Z),$.removeEventListener(zg,se)}}},[g.viewport,T,l,u,D]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(T)},[i,T,g.isClosePausedRef,D]),y.useEffect(()=>(j(),()=>L()),[j,L]);const q=y.useMemo(()=>w?yS(w):null,[w]);return g.viewport?p.jsxs(p.Fragment,{children:[q&&p.jsx(zD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),p.jsx($D,{scope:n,onClose:re,children:mc.createPortal(p.jsx(Wv.ItemSlot,{scope:n,children:p.jsx(TD,{asChild:!0,onEscapeKeyDown:ke(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||re(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,..._,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ke(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:ke(t.onPointerDown,$=>{$.button===0&&(E.current={x:$.clientX,y:$.clientY})}),onPointerMove:ke(t.onPointerMove,$=>{if(!E.current)return;const se=$.clientX-E.current.x,Z=$.clientY-E.current.y,le=!!x.current,A=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ee=A?B(0,se):0,Y=A?0:B(0,Z),oe=$.pointerType==="touch"?10:2,xe={x:ee,y:Y},Fe={originalEvent:$,delta:xe};le?(x.current=xe,ad(VD,d,Fe,{discrete:!1})):q0(xe,g.swipeDirection,oe)?(x.current=xe,ad(LD,c,Fe,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(se)>oe||Math.abs(Z)>oe)&&(E.current=null)}),onPointerUp:ke(t.onPointerUp,$=>{const se=x.current,Z=$.target;if(Z.hasPointerCapture($.pointerId)&&Z.releasePointerCapture($.pointerId),x.current=null,E.current=null,se){const le=$.currentTarget,A={originalEvent:$,delta:se};q0(se,g.swipeDirection,g.swipeThreshold)?ad(jD,f,A,{discrete:!0}):ad(FD,h,A,{discrete:!0}),le.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),zD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Nf(Of,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return qD(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:p.jsx(Bv,{asChild:!0,children:p.jsx(Pf,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},WD="ToastTitle",dS=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Ve.div,{...r,ref:e})});dS.displayName=WD;var HD="ToastDescription",hS=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Ve.div,{...r,ref:e})});hS.displayName=HD;var fS="ToastAction",pS=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(gS,{altText:n,asChild:!0,children:p.jsx(Hv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fS}\`. Expected non-empty \`string\`.`),null)});pS.displayName=fS;var mS="ToastClose",Hv=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=UD(mS,n);return p.jsx(gS,{asChild:!0,children:p.jsx(Ve.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,s.onClose)})})});Hv.displayName=mS;var gS=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function yS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),KD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...yS(r))}}),e}function ad(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tS(s,i):s.dispatchEvent(i)}var q0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function qD(t=()=>{}){const e=Sn(t);ci(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function KD(t){return t.nodeType===t.ELEMENT_NODE}function GD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QD=oS,vS=lS,_S=cS,wS=dS,ES=hS,xS=pS,TS=Hv;function IS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=IS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=IS(t))&&(r&&(r+=" "),r+=e);return r}const K0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,G0=SS,Df=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return G0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const c=n==null?void 0:n[u],d=i==null?void 0:i[u];if(c===null)return null;const h=K0(c)||K0(d);return s[u][h]}),a=n&&Object.entries(n).reduce((u,c)=>{let[d,h]=c;return h===void 0||(u[d]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:d,className:h,...f}=c;return Object.entries(f).every(_=>{let[g,w]=_;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...u,d,h]:u},[]);return G0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...ZD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CS("lucide",s),...a},[...o.map(([u,c])=>y.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(XD,{ref:i,iconNode:e,className:CS(`lucide-${YD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=vs("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=vs("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=vs("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=vs("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=vs("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=vs("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=vs("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=vs("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=vs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qv="-",iM=t=>{const e=aM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(qv);return a[0]===""&&a.length!==1&&a.shift(),kS(a,e)||oM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},kS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?kS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(qv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Q0=/^\[(.+)\]$/,oM=t=>{if(Q0.test(t)){const e=Q0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uM(Object.entries(t.classGroups),n).forEach(([i,o])=>{Hg(o,r,i,e)}),r},Hg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Y0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(lM(s)){Hg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Hg(o,Y0(e,i),n,r)})})},Y0=(t,e)=>{let n=t;return e.split(qv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lM=t=>t.isThemeGetter,uM=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,cM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},PS="!",dM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,c=0,d;for(let w=0;w<a.length;w++){let v=a[w];if(u===0){if(v===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(c,w)),c=w+i;continue}if(v==="/"){d=w;continue}}v==="["?u++:v==="]"&&u--}const h=l.length===0?a:a.substring(c),f=h.startsWith(PS),_=f?h.substring(1):h,g=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:_,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},hM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},fM=t=>({cache:cM(t.cacheSize),parseClassName:dM(t),...iM(t)}),pM=/\s+/,mM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(pM);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(u);let _=!!f,g=r(_?h.substring(0,f):h);if(!g){if(!_){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}_=!1}const w=hM(c).join(":"),v=d?w+PS:w,m=v+g;if(i.includes(m))continue;i.push(m);const E=s(g,_);for(let x=0;x<E.length;++x){const T=E[x];i.push(v+T)}a=u+(a.length>0?" "+a:a)}return a};function gM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=NS(e))&&(r&&(r+=" "),r+=n);return r}const NS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=NS(t[r]))&&(n&&(n+=" "),n+=e);return n};function yM(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((c,d)=>d(c),t());return n=fM(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=mM(l,n);return s(l,c),c}return function(){return i(gM.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},OS=/^\[(?:([a-z-]+):)?(.+)\]$/i,vM=/^\d+\/\d+$/,_M=new Set(["px","full","screen"]),wM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hr=t=>ia(t)||_M.has(t)||vM.test(t),Ss=t=>Qa(t,"length",NM),ia=t=>!!t&&!Number.isNaN(Number(t)),um=t=>Qa(t,"number",ia),_l=t=>!!t&&Number.isInteger(Number(t)),SM=t=>t.endsWith("%")&&ia(t.slice(0,-1)),_e=t=>OS.test(t),Cs=t=>wM.test(t),CM=new Set(["length","size","percentage"]),bM=t=>Qa(t,CM,DS),AM=t=>Qa(t,"position",DS),RM=new Set(["image","url"]),kM=t=>Qa(t,RM,DM),PM=t=>Qa(t,"",OM),wl=()=>!0,Qa=(t,e,n)=>{const r=OS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},NM=t=>EM.test(t)&&!xM.test(t),DS=()=>!1,OM=t=>TM.test(t),DM=t=>IM.test(t),MM=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),u=We("grayscale"),c=We("hueRotate"),d=We("invert"),h=We("gap"),f=We("gradientColorStops"),_=We("gradientColorStopPositions"),g=We("inset"),w=We("margin"),v=We("opacity"),m=We("padding"),E=We("saturate"),x=We("scale"),T=We("sepia"),C=We("skew"),b=We("space"),R=We("translate"),j=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",_e,e],D=()=>[_e,e],q=()=>["",Hr,Ss],$=()=>["auto",ia,_e],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",_e],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[ia,_e];return{cacheSize:500,separator:":",theme:{colors:[wl],spacing:[Hr,Ss],blur:["none","",Cs,_e],brightness:Y(),borderColor:[t],borderRadius:["none","","full",Cs,_e],borderSpacing:D(),borderWidth:q(),contrast:Y(),grayscale:B(),hueRotate:Y(),invert:B(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[SM,Ss],inset:re(),margin:re(),opacity:Y(),padding:D(),saturate:Y(),scale:Y(),sepia:B(),skew:Y(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),_e]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_l,_e]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",_l,_e]}],"grid-cols":[{"grid-cols":[wl]}],"col-start-end":[{col:["auto",{span:["full",_l,_e]},_e]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[wl]}],"row-start-end":[{row:["auto",{span:[_l,_e]},_e]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",um]}],"font-family":[{font:[wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",ia,um]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hr,Ss]}],"underline-offset":[{"underline-offset":["auto",Hr,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),AM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Hr,_e]}],"outline-w":[{outline:[Hr,Ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Hr,Ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cs,PM]}],"shadow-color":[{shadow:[wl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Cs,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[_l,_e]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Hr,Ss,um]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LM=yM(MM);function Ae(...t){return LM(SS(t))}const VM=QD,MS=y.forwardRef(({className:t,...e},n)=>p.jsx(vS,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));MS.displayName=vS.displayName;const FM=Df("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LS=y.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(_S,{ref:r,className:Ae(FM({variant:e}),t),...n}));LS.displayName=_S.displayName;const jM=y.forwardRef(({className:t,...e},n)=>p.jsx(xS,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jM.displayName=xS.displayName;const VS=y.forwardRef(({className:t,...e},n)=>p.jsx(TS,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(RS,{className:"h-4 w-4"})}));VS.displayName=TS.displayName;const FS=y.forwardRef(({className:t,...e},n)=>p.jsx(wS,{ref:n,className:Ae("text-sm font-semibold",t),...e}));FS.displayName=wS.displayName;const jS=y.forwardRef(({className:t,...e},n)=>p.jsx(ES,{ref:n,className:Ae("text-sm opacity-90",t),...e}));jS.displayName=ES.displayName;function $M(){const{toasts:t}=oD();return p.jsxs(VM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(LS,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(FS,{children:n}),r&&p.jsx(jS,{children:r})]}),s,p.jsx(VS,{})]},e)}),p.jsx(MS,{})]})}var Z0=["light","dark"],UM="(prefers-color-scheme: dark)",BM=y.createContext(void 0),zM={setTheme:t=>{},themes:[]},WM=()=>{var t;return(t=y.useContext(BM))!=null?t:zM};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?Z0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(_,g=!1,w=!0)=>{let v=o?o[_]:_,m=g?_+"|| ''":`'${v}'`,E="";return s&&w&&!g&&Z0.includes(_)&&(E+=`d.style.colorScheme = '${_}';`),n==="class"?g||v?E+=`c.add(${m})`:E+="null":v&&(E+=`d[s](n,${m})`),E},f=t?`!function(){${c}${h(t)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${UM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var HM=t=>{switch(t){case"success":return GM;case"info":return YM;case"warning":return QM;case"error":return ZM;default:return null}},qM=Array(12).fill(0),KM=({visible:t})=>N.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},N.createElement("div",{className:"sonner-spinner"},qM.map((e,n)=>N.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),GM=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QM=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YM=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZM=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XM=()=>{let[t,e]=N.useState(document.hidden);return N.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},qg=1,JM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:qg++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(tL(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||qg++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},mn=new JM,eL=(t,e)=>{let n=(e==null?void 0:e.id)||qg++;return mn.addToast({title:t,...e,id:n}),n},tL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",nL=eL,rL=()=>mn.toasts,yn=Object.assign(nL,{success:mn.success,info:mn.info,warning:mn.warning,error:mn.error,custom:mn.custom,message:mn.message,promise:mn.promise,dismiss:mn.dismiss,loading:mn.loading},{getHistory:rL});function sL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}sL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ld(t){return t.label!==void 0}var iL=3,oL="32px",aL=4e3,lL=356,uL=14,cL=20,dL=200;function hL(...t){return t.filter(Boolean).join(" ")}var fL=t=>{var e,n,r,s,i,o,a,l,u,c;let{invert:d,toast:h,unstyled:f,interacting:_,setHeights:g,visibleToasts:w,heights:v,index:m,toasts:E,expanded:x,removeToast:T,defaultRichColors:C,closeButton:b,style:R,cancelButtonStyle:j,actionButtonStyle:L,className:re="",descriptionClassName:D="",duration:q,position:$,gap:se,loadingIcon:Z,expandByDefault:le,classNames:A,icons:B,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:Y,cn:oe}=t,[xe,Fe]=N.useState(!1),[Kt,Re]=N.useState(!1),[sn,Rn]=N.useState(!1),[$n,lr]=N.useState(!1),[Ni,ws]=N.useState(0),[ur,Es]=N.useState(0),ll=N.useRef(null),Wr=N.useRef(null),jc=m===0,I=m+1<=w,S=h.type,k=h.dismissible!==!1,K=h.className||"",W=h.descriptionClassName||"",U=N.useMemo(()=>v.findIndex(ve=>ve.toastId===h.id)||0,[v,h.id]),ae=N.useMemo(()=>{var ve;return(ve=h.closeButton)!=null?ve:b},[h.closeButton,b]),ye=N.useMemo(()=>h.duration||q||aL,[h.duration,q]),tt=N.useRef(0),Be=N.useRef(0),cr=N.useRef(0),xs=N.useRef(null),[Co,ul]=$.split("-"),$c=N.useMemo(()=>v.reduce((ve,ze,je)=>je>=U?ve:ve+ze.height,0),[v,U]),cl=XM(),Np=h.invert||d,bo=S==="loading";Be.current=N.useMemo(()=>U*se+$c,[U,$c]),N.useEffect(()=>{Fe(!0)},[]),N.useLayoutEffect(()=>{if(!xe)return;let ve=Wr.current,ze=ve.style.height;ve.style.height="auto";let je=ve.getBoundingClientRect().height;ve.style.height=ze,Es(je),g(dr=>dr.find(hr=>hr.toastId===h.id)?dr.map(hr=>hr.toastId===h.id?{...hr,height:je}:hr):[{toastId:h.id,height:je,position:h.position},...dr])},[xe,h.title,h.description,g,h.id]);let Ts=N.useCallback(()=>{Re(!0),ws(Be.current),g(ve=>ve.filter(ze=>ze.toastId!==h.id)),setTimeout(()=>{T(h)},dL)},[h,T,g,Be]);N.useEffect(()=>{if(h.promise&&S==="loading"||h.duration===1/0||h.type==="loading")return;let ve,ze=ye;return x||_||Y&&cl?(()=>{if(cr.current<tt.current){let je=new Date().getTime()-tt.current;ze=ze-je}cr.current=new Date().getTime()})():ze!==1/0&&(tt.current=new Date().getTime(),ve=setTimeout(()=>{var je;(je=h.onAutoClose)==null||je.call(h,h),Ts()},ze)),()=>clearTimeout(ve)},[x,_,le,h,ye,Ts,h.promise,S,Y,cl]),N.useEffect(()=>{let ve=Wr.current;if(ve){let ze=ve.getBoundingClientRect().height;return Es(ze),g(je=>[{toastId:h.id,height:ze,position:h.position},...je]),()=>g(je=>je.filter(dr=>dr.toastId!==h.id))}},[g,h.id]),N.useEffect(()=>{h.delete&&Ts()},[Ts,h.delete]);function bP(){return B!=null&&B.loading?N.createElement("div",{className:"sonner-loader","data-visible":S==="loading"},B.loading):Z?N.createElement("div",{className:"sonner-loader","data-visible":S==="loading"},Z):N.createElement(KM,{visible:S==="loading"})}return N.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Wr,className:oe(re,K,A==null?void 0:A.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,A==null?void 0:A.default,A==null?void 0:A[S],(n=h==null?void 0:h.classNames)==null?void 0:n[S]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":xe,"data-promise":!!h.promise,"data-removed":Kt,"data-visible":I,"data-y-position":Co,"data-x-position":ul,"data-index":m,"data-front":jc,"data-swiping":sn,"data-dismissible":k,"data-type":S,"data-invert":Np,"data-swipe-out":$n,"data-expanded":!!(x||le&&xe),style:{"--index":m,"--toasts-before":m,"--z-index":E.length-m,"--offset":`${Kt?Ni:Be.current}px`,"--initial-height":le?"auto":`${ur}px`,...R,...h.style},onPointerDown:ve=>{bo||!k||(ll.current=new Date,ws(Be.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(Rn(!0),xs.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,ze,je,dr;if($n||!k)return;xs.current=null;let hr=Number(((ve=Wr.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Uc=new Date().getTime()-((ze=ll.current)==null?void 0:ze.getTime()),AP=Math.abs(hr)/Uc;if(Math.abs(hr)>=cL||AP>.11){ws(Be.current),(je=h.onDismiss)==null||je.call(h,h),Ts(),lr(!0);return}(dr=Wr.current)==null||dr.style.setProperty("--swipe-amount","0px"),Rn(!1)},onPointerMove:ve=>{var ze;if(!xs.current||!k)return;let je=ve.clientY-xs.current.y,dr=ve.clientX-xs.current.x,hr=(Co==="top"?Math.min:Math.max)(0,je),Uc=ve.pointerType==="touch"?10:2;Math.abs(hr)>Uc?(ze=Wr.current)==null||ze.style.setProperty("--swipe-amount",`${je}px`):Math.abs(dr)>Uc&&(xs.current=null)}},ae&&!h.jsx?N.createElement("button",{"aria-label":ee,"data-disabled":bo,"data-close-button":!0,onClick:bo||!k?()=>{}:()=>{var ve;Ts(),(ve=h.onDismiss)==null||ve.call(h,h)},className:oe(A==null?void 0:A.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},N.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),N.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||N.isValidElement(h.title)?h.jsx||h.title:N.createElement(N.Fragment,null,S||h.icon||h.promise?N.createElement("div",{"data-icon":"",className:oe(A==null?void 0:A.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||bP():null,h.type!=="loading"?h.icon||(B==null?void 0:B[S])||HM(S):null):null,N.createElement("div",{"data-content":"",className:oe(A==null?void 0:A.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},N.createElement("div",{"data-title":"",className:oe(A==null?void 0:A.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?N.createElement("div",{"data-description":"",className:oe(D,W,A==null?void 0:A.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),N.isValidElement(h.cancel)?h.cancel:h.cancel&&ld(h.cancel)?N.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||j,onClick:ve=>{var ze,je;ld(h.cancel)&&k&&((je=(ze=h.cancel).onClick)==null||je.call(ze,ve),Ts())},className:oe(A==null?void 0:A.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,N.isValidElement(h.action)?h.action:h.action&&ld(h.action)?N.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||L,onClick:ve=>{var ze,je;ld(h.action)&&(ve.defaultPrevented||((je=(ze=h.action).onClick)==null||je.call(ze,ve),Ts()))},className:oe(A==null?void 0:A.actionButton,(c=h==null?void 0:h.classNames)==null?void 0:c.actionButton)},h.action.label):null))};function X0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var pL=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:c,style:d,visibleToasts:h=iL,toastOptions:f,dir:_=X0(),gap:g=uL,loadingIcon:w,icons:v,containerAriaLabel:m="Notifications",pauseWhenPageIsHidden:E,cn:x=hL}=t,[T,C]=N.useState([]),b=N.useMemo(()=>Array.from(new Set([n].concat(T.filter(Y=>Y.position).map(Y=>Y.position)))),[T,n]),[R,j]=N.useState([]),[L,re]=N.useState(!1),[D,q]=N.useState(!1),[$,se]=N.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=N.useRef(null),le=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=N.useRef(null),B=N.useRef(!1),ee=N.useCallback(Y=>{var oe;(oe=T.find(xe=>xe.id===Y.id))!=null&&oe.delete||mn.dismiss(Y.id),C(xe=>xe.filter(({id:Fe})=>Fe!==Y.id))},[T]);return N.useEffect(()=>mn.subscribe(Y=>{if(Y.dismiss){C(oe=>oe.map(xe=>xe.id===Y.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{YI.flushSync(()=>{C(oe=>{let xe=oe.findIndex(Fe=>Fe.id===Y.id);return xe!==-1?[...oe.slice(0,xe),{...oe[xe],...Y},...oe.slice(xe+1)]:[Y,...oe]})})})}),[]),N.useEffect(()=>{if(l!=="system"){se(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Y})=>{se(Y?"dark":"light")})},[l]),N.useEffect(()=>{T.length<=1&&re(!1)},[T]),N.useEffect(()=>{let Y=oe=>{var xe,Fe;r.every(Kt=>oe[Kt]||oe.code===Kt)&&(re(!0),(xe=Z.current)==null||xe.focus()),oe.code==="Escape"&&(document.activeElement===Z.current||(Fe=Z.current)!=null&&Fe.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[r]),N.useEffect(()=>{if(Z.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,B.current=!1)}},[Z.current]),T.length?N.createElement("section",{"aria-label":`${m} ${le}`,tabIndex:-1},b.map((Y,oe)=>{var xe;let[Fe,Kt]=Y.split("-");return N.createElement("ol",{key:Y,dir:_==="auto"?X0():_,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":Fe,"data-x-position":Kt,style:{"--front-toast-height":`${((xe=R[0])==null?void 0:xe.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||oL,"--width":`${lL}px`,"--gap":`${g}px`,...d},onBlur:Re=>{B.current&&!Re.currentTarget.contains(Re.relatedTarget)&&(B.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:Re=>{Re.target instanceof HTMLElement&&Re.target.dataset.dismissible==="false"||B.current||(B.current=!0,A.current=Re.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{D||re(!1)},onPointerDown:Re=>{Re.target instanceof HTMLElement&&Re.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},T.filter(Re=>!Re.position&&oe===0||Re.position===Y).map((Re,sn)=>{var Rn,$n;return N.createElement(fL,{key:Re.id,icons:v,index:sn,toast:Re,defaultRichColors:u,duration:(Rn=f==null?void 0:f.duration)!=null?Rn:c,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:e,visibleToasts:h,closeButton:($n=f==null?void 0:f.closeButton)!=null?$n:i,interacting:D,position:Y,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:ee,toasts:T.filter(lr=>lr.position==Re.position),heights:R.filter(lr=>lr.position==Re.position),setHeights:j,expandByDefault:s,gap:g,loadingIcon:w,expanded:L,pauseWhenPageIsHidden:E,cn:x})}))})):null};const $S=({...t})=>{const{theme:e="system"}=WM();return p.jsx(pL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var mL=KT.useId||(()=>{}),gL=0;function Ql(t){const[e,n]=y.useState(mL());return ci(()=>{t||n(r=>r??String(gL++))},[t]),t||(e?`radix-${e}`:"")}const yL=["top","right","bottom","left"],di=Math.min,vn=Math.max,xh=Math.round,ud=Math.floor,hi=t=>({x:t,y:t}),vL={left:"right",right:"left",bottom:"top",top:"bottom"},_L={start:"end",end:"start"};function Kg(t,e,n){return vn(t,di(e,n))}function cs(t,e){return typeof t=="function"?t(e):t}function ds(t){return t.split("-")[0]}function Ya(t){return t.split("-")[1]}function Kv(t){return t==="x"?"y":"x"}function Gv(t){return t==="y"?"height":"width"}function fi(t){return["top","bottom"].includes(ds(t))?"y":"x"}function Qv(t){return Kv(fi(t))}function wL(t,e,n){n===void 0&&(n=!1);const r=Ya(t),s=Qv(t),i=Gv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Th(o)),[o,Th(o)]}function EL(t){const e=Th(t);return[Gg(t),e,Gg(e)]}function Gg(t){return t.replace(/start|end/g,e=>_L[e])}function xL(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function TL(t,e,n,r){const s=Ya(t);let i=xL(ds(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Gg)))),i}function Th(t){return t.replace(/left|right|bottom|top/g,e=>vL[e])}function IL(t){return{top:0,right:0,bottom:0,left:0,...t}}function US(t){return typeof t!="number"?IL(t):{top:t,right:t,bottom:t,left:t}}function Ih(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function J0(t,e,n){let{reference:r,floating:s}=t;const i=fi(e),o=Qv(e),a=Gv(o),l=ds(e),u=i==="y",c=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let f;switch(l){case"top":f={x:c,y:r.y-s.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-s.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Ya(e)){case"start":f[o]-=h*(n&&u?-1:1);break;case"end":f[o]+=h*(n&&u?-1:1);break}return f}const SL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:c,y:d}=J0(u,r,l),h=r,f={},_=0;for(let g=0;g<a.length;g++){const{name:w,fn:v}=a[g],{x:m,y:E,data:x,reset:T}=await v({x:c,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});c=m??c,d=E??d,f={...f,[w]:{...f[w],...x}},T&&_<=50&&(_++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):T.rects),{x:c,y:d}=J0(u,h,l)),g=-1)}return{x:c,y:d,placement:h,strategy:s,middlewareData:f}};async function xu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=cs(e,t),_=US(f),w=a[h?d==="floating"?"reference":"floating":d],v=Ih(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),m=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Ih(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:E,strategy:l}):m);return{top:(v.top-T.top+_.top)/x.y,bottom:(T.bottom-v.bottom+_.bottom)/x.y,left:(v.left-T.left+_.left)/x.x,right:(T.right-v.right+_.right)/x.x}}const CL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=cs(t,e)||{};if(u==null)return{};const d=US(c),h={x:n,y:r},f=Qv(s),_=Gv(f),g=await o.getDimensions(u),w=f==="y",v=w?"top":"left",m=w?"bottom":"right",E=w?"clientHeight":"clientWidth",x=i.reference[_]+i.reference[f]-h[f]-i.floating[_],T=h[f]-i.reference[f],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=C?C[E]:0;(!b||!await(o.isElement==null?void 0:o.isElement(C)))&&(b=a.floating[E]||i.floating[_]);const R=x/2-T/2,j=b/2-g[_]/2-1,L=di(d[v],j),re=di(d[m],j),D=L,q=b-g[_]-re,$=b/2-g[_]/2+R,se=Kg(D,$,q),Z=!l.arrow&&Ya(s)!=null&&$!==se&&i.reference[_]/2-($<D?L:re)-g[_]/2<0,le=Z?$<D?$-D:$-q:0;return{[f]:h[f]+le,data:{[f]:se,centerOffset:$-se-le,...Z&&{alignmentOffset:le}},reset:Z}}}),bL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...w}=cs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=ds(s),m=fi(a),E=ds(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=h||(E||!g?[Th(a)]:EL(a)),C=_!=="none";!h&&C&&T.push(...TL(a,g,_,x));const b=[a,...T],R=await xu(e,w),j=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&j.push(R[v]),d){const $=wL(s,o,x);j.push(R[$[0]],R[$[1]])}if(L=[...L,{placement:s,overflows:j}],!j.every($=>$<=0)){var re,D;const $=(((re=i.flip)==null?void 0:re.index)||0)+1,se=b[$];if(se)return{data:{index:$,overflows:L},reset:{placement:se}};let Z=(D=L.filter(le=>le.overflows[0]<=0).sort((le,A)=>le.overflows[1]-A.overflows[1])[0])==null?void 0:D.placement;if(!Z)switch(f){case"bestFit":{var q;const le=(q=L.filter(A=>{if(C){const B=fi(A.placement);return B===m||B==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(B=>B>0).reduce((B,ee)=>B+ee,0)]).sort((A,B)=>A[1]-B[1])[0])==null?void 0:q[0];le&&(Z=le);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function eE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tE(t){return yL.some(e=>t[e]>=0)}const AL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=cs(t,e);switch(r){case"referenceHidden":{const i=await xu(e,{...s,elementContext:"reference"}),o=eE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:tE(o)}}}case"escaped":{const i=await xu(e,{...s,altBoundary:!0}),o=eE(i,n.floating);return{data:{escapedOffsets:o,escaped:tE(o)}}}default:return{}}}}};async function RL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ds(n),a=Ya(n),l=fi(n)==="y",u=["left","top"].includes(o)?-1:1,c=i&&l?-1:1,d=cs(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:_}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof _=="number"&&(f=a==="end"?_*-1:_),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}const kL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await RL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},PL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:v,y:m}=w;return{x:v,y:m}}},...l}=cs(t,e),u={x:n,y:r},c=await xu(e,l),d=fi(ds(s)),h=Kv(d);let f=u[h],_=u[d];if(i){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",m=f+c[w],E=f-c[v];f=Kg(m,f,E)}if(o){const w=d==="y"?"top":"left",v=d==="y"?"bottom":"right",m=_+c[w],E=_-c[v];_=Kg(m,_,E)}const g=a.fn({...e,[h]:f,[d]:_});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[d]:o}}}}}},NL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=cs(t,e),c={x:n,y:r},d=fi(s),h=Kv(d);let f=c[h],_=c[d];const g=cs(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const E=h==="y"?"height":"width",x=i.reference[h]-i.floating[E]+w.mainAxis,T=i.reference[h]+i.reference[E]-w.mainAxis;f<x?f=x:f>T&&(f=T)}if(u){var v,m;const E=h==="y"?"width":"height",x=["top","left"].includes(ds(s)),T=i.reference[d]-i.floating[E]+(x&&((v=o.offset)==null?void 0:v[d])||0)+(x?0:w.crossAxis),C=i.reference[d]+i.reference[E]+(x?0:((m=o.offset)==null?void 0:m[d])||0)-(x?w.crossAxis:0);_<T?_=T:_>C&&(_=C)}return{[h]:f,[d]:_}}}},OL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=cs(t,e),c=await xu(e,u),d=ds(s),h=Ya(s),f=fi(s)==="y",{width:_,height:g}=i.floating;let w,v;d==="top"||d==="bottom"?(w=d,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,w=h==="end"?"top":"bottom");const m=g-c.top-c.bottom,E=_-c.left-c.right,x=di(g-c[w],m),T=di(_-c[v],E),C=!e.middlewareData.shift;let b=x,R=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=m),C&&!h){const L=vn(c.left,0),re=vn(c.right,0),D=vn(c.top,0),q=vn(c.bottom,0);f?R=_-2*(L!==0||re!==0?L+re:vn(c.left,c.right)):b=g-2*(D!==0||q!==0?D+q:vn(c.top,c.bottom))}await l({...e,availableWidth:R,availableHeight:b});const j=await o.getDimensions(a.floating);return _!==j.width||g!==j.height?{reset:{rects:!0}}:{}}}};function Mf(){return typeof window<"u"}function Za(t){return BS(t)?(t.nodeName||"").toLowerCase():"#document"}function xn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $r(t){var e;return(e=(BS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BS(t){return Mf()?t instanceof Node||t instanceof xn(t).Node:!1}function tr(t){return Mf()?t instanceof Element||t instanceof xn(t).Element:!1}function Mr(t){return Mf()?t instanceof HTMLElement||t instanceof xn(t).HTMLElement:!1}function nE(t){return!Mf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xn(t).ShadowRoot}function gc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function DL(t){return["table","td","th"].includes(Za(t))}function Lf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Yv(t){const e=Zv(),n=tr(t)?nr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ML(t){let e=pi(t);for(;Mr(e)&&!Pa(e);){if(Yv(e))return e;if(Lf(e))return null;e=pi(e)}return null}function Zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pa(t){return["html","body","#document"].includes(Za(t))}function nr(t){return xn(t).getComputedStyle(t)}function Vf(t){return tr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pi(t){if(Za(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nE(t)&&t.host||$r(t);return nE(e)?e.host:e}function zS(t){const e=pi(t);return Pa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mr(e)&&gc(e)?e:zS(e)}function Tu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=zS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=xn(s);if(i){const a=Qg(o);return e.concat(o,o.visualViewport||[],gc(s)?s:[],a&&n?Tu(a):[])}return e.concat(s,Tu(s,[],n))}function Qg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WS(t){const e=nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Mr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=xh(n)!==i||xh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Xv(t){return tr(t)?t:t.contextElement}function oa(t){const e=Xv(t);if(!Mr(e))return hi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=WS(e);let o=(i?xh(n.width):n.width)/r,a=(i?xh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const LL=hi(0);function HS(t){const e=xn(t);return!Zv()||!e.visualViewport?LL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function VL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xn(t)?!1:e}function so(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Xv(t);let o=hi(1);e&&(r?tr(r)&&(o=oa(r)):o=oa(t));const a=VL(i,n,r)?HS(i):hi(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,c=s.width/o.x,d=s.height/o.y;if(i){const h=xn(i),f=r&&tr(r)?xn(r):r;let _=h,g=Qg(_);for(;g&&r&&f!==_;){const w=oa(g),v=g.getBoundingClientRect(),m=nr(g),E=v.left+(g.clientLeft+parseFloat(m.paddingLeft))*w.x,x=v.top+(g.clientTop+parseFloat(m.paddingTop))*w.y;l*=w.x,u*=w.y,c*=w.x,d*=w.y,l+=E,u+=x,_=xn(g),g=Qg(_)}}return Ih({width:c,height:d,x:l,y:u})}function FL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=$r(r),a=e?Lf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=hi(1);const c=hi(0),d=Mr(r);if((d||!d&&!i)&&((Za(r)!=="body"||gc(o))&&(l=Vf(r)),Mr(r))){const h=so(r);u=oa(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function jL(t){return Array.from(t.getClientRects())}function Yg(t,e){const n=Vf(t).scrollLeft;return e?e.left+n:so($r(t)).left+n}function $L(t){const e=$r(t),n=Vf(t),r=t.ownerDocument.body,s=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Yg(t);const a=-n.scrollTop;return nr(r).direction==="rtl"&&(o+=vn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function UL(t,e){const n=xn(t),r=$r(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Zv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function BL(t,e){const n=so(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Mr(t)?oa(t):hi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function rE(t,e,n){let r;if(e==="viewport")r=UL(t,n);else if(e==="document")r=$L($r(t));else if(tr(e))r=BL(e,n);else{const s=HS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Ih(r)}function qS(t,e){const n=pi(t);return n===e||!tr(n)||Pa(n)?!1:nr(n).position==="fixed"||qS(n,e)}function zL(t,e){const n=e.get(t);if(n)return n;let r=Tu(t,[],!1).filter(a=>tr(a)&&Za(a)!=="body"),s=null;const i=nr(t).position==="fixed";let o=i?pi(t):t;for(;tr(o)&&!Pa(o);){const a=nr(o),l=Yv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||gc(o)&&!l&&qS(t,o))?r=r.filter(c=>c!==o):s=a,o=pi(o)}return e.set(t,r),r}function WL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Lf(e)?[]:zL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=rE(e,c,s);return u.top=vn(d.top,u.top),u.right=di(d.right,u.right),u.bottom=di(d.bottom,u.bottom),u.left=vn(d.left,u.left),u},rE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function HL(t){const{width:e,height:n}=WS(t);return{width:e,height:n}}function qL(t,e,n){const r=Mr(e),s=$r(e),i=n==="fixed",o=so(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=hi(0);if(r||!r&&!i)if((Za(e)!=="body"||gc(s))&&(a=Vf(e)),r){const f=so(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else s&&(l.x=Yg(s));let u=0,c=0;if(s&&!r&&!i){const f=s.getBoundingClientRect();c=f.top+a.scrollTop,u=f.left+a.scrollLeft-Yg(s,f)}const d=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-c;return{x:d,y:h,width:o.width,height:o.height}}function cm(t){return nr(t).position==="static"}function sE(t,e){if(!Mr(t)||nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $r(t)===n&&(n=n.ownerDocument.body),n}function KS(t,e){const n=xn(t);if(Lf(t))return n;if(!Mr(t)){let s=pi(t);for(;s&&!Pa(s);){if(tr(s)&&!cm(s))return s;s=pi(s)}return n}let r=sE(t,e);for(;r&&DL(r)&&cm(r);)r=sE(r,e);return r&&Pa(r)&&cm(r)&&!Yv(r)?n:r||ML(t)||n}const KL=async function(t){const e=this.getOffsetParent||KS,n=this.getDimensions,r=await n(t.floating);return{reference:qL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GL(t){return nr(t).direction==="rtl"}const QL={convertOffsetParentRelativeRectToViewportRelativeRect:FL,getDocumentElement:$r,getClippingRect:WL,getOffsetParent:KS,getElementRects:KL,getClientRects:jL,getDimensions:HL,getScale:oa,isElement:tr,isRTL:GL};function YL(t,e){let n=null,r;const s=$r(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:c,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const f=ud(c),_=ud(s.clientWidth-(u+d)),g=ud(s.clientHeight-(c+h)),w=ud(u),m={rootMargin:-f+"px "+-_+"px "+-g+"px "+-w+"px",threshold:vn(0,di(1,l))||1};let E=!0;function x(T){const C=T[0].intersectionRatio;if(C!==l){if(!E)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(x,{...m,root:s.ownerDocument})}catch{n=new IntersectionObserver(x,m)}n.observe(t)}return o(!0),i}function ZL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Xv(t),c=s||i?[...u?Tu(u):[],...Tu(e)]:[];c.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=u&&a?YL(u,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(v=>{let[m]=v;m&&m.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(e)})),n()}),u&&!l&&f.observe(u),f.observe(e));let _,g=l?so(t):null;l&&w();function w(){const v=so(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,_=requestAnimationFrame(w)}return n(),()=>{var v;c.forEach(m=>{s&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),d==null||d(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(_)}}const XL=kL,JL=PL,eV=bL,tV=OL,nV=AL,iE=CL,rV=NL,sV=(t,e,n)=>{const r=new Map,s={platform:QL,...n},i={...s.platform,_c:r};return SL(t,e,{...s,platform:i})};var $d=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Sh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Sh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function GS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function oE(t,e){const n=GS(t);return Math.round(e*n)/n}function dm(t){const e=y.useRef(t);return $d(()=>{e.current=t}),e}function iV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,d]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=y.useState(r);Sh(h,r)||f(r);const[_,g]=y.useState(null),[w,v]=y.useState(null),m=y.useCallback(A=>{A!==C.current&&(C.current=A,g(A))},[]),E=y.useCallback(A=>{A!==b.current&&(b.current=A,v(A))},[]),x=i||_,T=o||w,C=y.useRef(null),b=y.useRef(null),R=y.useRef(c),j=l!=null,L=dm(l),re=dm(s),D=dm(u),q=y.useCallback(()=>{if(!C.current||!b.current)return;const A={placement:e,strategy:n,middleware:h};re.current&&(A.platform=re.current),sV(C.current,b.current,A).then(B=>{const ee={...B,isPositioned:D.current!==!1};$.current&&!Sh(R.current,ee)&&(R.current=ee,mc.flushSync(()=>{d(ee)}))})},[h,e,n,re,D]);$d(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(A=>({...A,isPositioned:!1})))},[u]);const $=y.useRef(!1);$d(()=>($.current=!0,()=>{$.current=!1}),[]),$d(()=>{if(x&&(C.current=x),T&&(b.current=T),x&&T){if(L.current)return L.current(x,T,q);q()}},[x,T,q,L,j]);const se=y.useMemo(()=>({reference:C,floating:b,setReference:m,setFloating:E}),[m,E]),Z=y.useMemo(()=>({reference:x,floating:T}),[x,T]),le=y.useMemo(()=>{const A={position:n,left:0,top:0};if(!Z.floating)return A;const B=oE(Z.floating,c.x),ee=oE(Z.floating,c.y);return a?{...A,transform:"translate("+B+"px, "+ee+"px)",...GS(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:ee}},[n,a,Z.floating,c.x,c.y]);return y.useMemo(()=>({...c,update:q,refs:se,elements:Z,floatingStyles:le}),[c,q,se,Z,le])}const oV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?iE({element:r.current,padding:s}).fn(n):{}:r?iE({element:r,padding:s}).fn(n):{}}}},aV=(t,e)=>({...XL(t),options:[t,e]}),lV=(t,e)=>({...JL(t),options:[t,e]}),uV=(t,e)=>({...rV(t),options:[t,e]}),cV=(t,e)=>({...eV(t),options:[t,e]}),dV=(t,e)=>({...tV(t),options:[t,e]}),hV=(t,e)=>({...nV(t),options:[t,e]}),fV=(t,e)=>({...oV(t),options:[t,e]});var pV="Arrow",QS=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(Ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});QS.displayName=pV;var mV=QS;function gV(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(d){const{scope:h,children:f,..._}=d,g=(h==null?void 0:h[t][l])||a,w=y.useMemo(()=>_,Object.values(_));return p.jsx(g.Provider,{value:w,children:f})}function c(d,h){const f=(h==null?void 0:h[t][l])||a,_=y.useContext(f);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,yV(s,...e)]}function yV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function vV(t){const[e,n]=y.useState(void 0);return ci(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var YS="Popper",[ZS,XS]=gV(YS),[yH,JS]=ZS(YS),eC="PopperAnchor",tC=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=JS(eC,n),o=y.useRef(null),a=zt(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Ve.div,{...s,ref:a})});tC.displayName=eC;var Jv="PopperContent",[_V,wV]=ZS(Jv),nC=y.forwardRef((t,e)=>{var sn,Rn,$n,lr,Ni,ws;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:_,...g}=t,w=JS(Jv,n),[v,m]=y.useState(null),E=zt(e,ur=>m(ur)),[x,T]=y.useState(null),C=vV(x),b=(C==null?void 0:C.width)??0,R=(C==null?void 0:C.height)??0,j=r+(i!=="center"?"-"+i:""),L=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},re=Array.isArray(u)?u:[u],D=re.length>0,q={padding:L,boundary:re.filter(xV),altBoundary:D},{refs:$,floatingStyles:se,placement:Z,isPositioned:le,middlewareData:A}=iV({strategy:"fixed",placement:j,whileElementsMounted:(...ur)=>ZL(...ur,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[aV({mainAxis:s+R,alignmentAxis:o}),l&&lV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?uV():void 0,...q}),l&&cV({...q}),dV({...q,apply:({elements:ur,rects:Es,availableWidth:ll,availableHeight:Wr})=>{const{width:jc,height:I}=Es.reference,S=ur.floating.style;S.setProperty("--radix-popper-available-width",`${ll}px`),S.setProperty("--radix-popper-available-height",`${Wr}px`),S.setProperty("--radix-popper-anchor-width",`${jc}px`),S.setProperty("--radix-popper-anchor-height",`${I}px`)}}),x&&fV({element:x,padding:a}),TV({arrowWidth:b,arrowHeight:R}),h&&hV({strategy:"referenceHidden",...q})]}),[B,ee]=iC(Z),Y=Sn(_);ci(()=>{le&&(Y==null||Y())},[le,Y]);const oe=(sn=A.arrow)==null?void 0:sn.x,xe=(Rn=A.arrow)==null?void 0:Rn.y,Fe=(($n=A.arrow)==null?void 0:$n.centerOffset)!==0,[Kt,Re]=y.useState();return ci(()=>{v&&Re(window.getComputedStyle(v).zIndex)},[v]),p.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:le?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Kt,"--radix-popper-transform-origin":[(lr=A.transformOrigin)==null?void 0:lr.x,(Ni=A.transformOrigin)==null?void 0:Ni.y].join(" "),...((ws=A.hide)==null?void 0:ws.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(_V,{scope:n,placedSide:B,onArrowChange:T,arrowX:oe,arrowY:xe,shouldHideArrow:Fe,children:p.jsx(Ve.div,{"data-side":B,"data-align":ee,...g,ref:E,style:{...g.style,animation:le?void 0:"none"}})})})});nC.displayName=Jv;var rC="PopperArrow",EV={top:"bottom",right:"left",bottom:"top",left:"right"},sC=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=wV(rC,r),o=EV[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(mV,{...s,ref:n,style:{...s.style,display:"block"}})})});sC.displayName=rC;function xV(t){return t!==null}var TV=t=>({name:"transformOrigin",options:t,fn(e){var w,v,m;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,c]=iC(n),d={start:"0%",center:"50%",end:"100%"}[c],h=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,f=(((m=s.arrow)==null?void 0:m.y)??0)+l/2;let _="",g="";return u==="bottom"?(_=o?d:`${h}px`,g=`${-l}px`):u==="top"?(_=o?d:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(_=`${-l}px`,g=o?d:`${f}px`):u==="left"&&(_=`${r.floating.width+l}px`,g=o?d:`${f}px`),{data:{x:_,y:g}}}});function iC(t){const[e,n="center"]=t.split("-");return[e,n]}var IV=tC,SV=nC,CV=sC,[Ff,vH]=Af("Tooltip",[XS]),e_=XS(),oC="TooltipProvider",bV=700,aE="tooltip.open",[AV,aC]=Ff(oC),lC=t=>{const{__scopeTooltip:e,delayDuration:n=bV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=y.useState(!0),l=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),p.jsx(AV,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(c=>{l.current=c},[]),disableHoverableContent:s,children:i})};lC.displayName=oC;var uC="Tooltip",[_H,jf]=Ff(uC),Zg="TooltipTrigger",RV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=jf(Zg,n),i=aC(Zg,n),o=e_(n),a=y.useRef(null),l=zt(e,a,s.onTriggerChange),u=y.useRef(!1),c=y.useRef(!1),d=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(IV,{asChild:!0,...o,children:p.jsx(Ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ke(t.onPointerMove,h=>{h.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),c.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{s.onTriggerLeave(),c.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ke(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ke(t.onBlur,s.onClose),onClick:ke(t.onClick,s.onClose)})})});RV.displayName=Zg;var kV="TooltipPortal",[wH,PV]=Ff(kV,{forceMount:void 0}),Na="TooltipContent",cC=y.forwardRef((t,e)=>{const n=PV(Na,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=jf(Na,t.__scopeTooltip);return p.jsx(vo,{present:r||o.open,children:o.disableHoverableContent?p.jsx(dC,{side:s,...i,ref:e}):p.jsx(NV,{side:s,...i,ref:e})})}),NV=y.forwardRef((t,e)=>{const n=jf(Na,t.__scopeTooltip),r=aC(Na,t.__scopeTooltip),s=y.useRef(null),i=zt(e,s),[o,a]=y.useState(null),{trigger:l,onClose:u}=n,c=s.current,{onPointerInTransitChange:d}=r,h=y.useCallback(()=>{a(null),d(!1)},[d]),f=y.useCallback((_,g)=>{const w=_.currentTarget,v={x:_.clientX,y:_.clientY},m=LV(v,w.getBoundingClientRect()),E=VV(v,m),x=FV(g.getBoundingClientRect()),T=$V([...E,...x]);a(T),d(!0)},[d]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(l&&c){const _=w=>f(w,c),g=w=>f(w,l);return l.addEventListener("pointerleave",_),c.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",_),c.removeEventListener("pointerleave",g)}}},[l,c,f,h]),y.useEffect(()=>{if(o){const _=g=>{const w=g.target,v={x:g.clientX,y:g.clientY},m=(l==null?void 0:l.contains(w))||(c==null?void 0:c.contains(w)),E=!jV(v,o);m?h():E&&(h(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,c,o,u,h]),p.jsx(dC,{...t,ref:i})}),[OV,DV]=Ff(uC,{isInside:!1}),dC=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=jf(Na,n),u=e_(n),{onClose:c}=l;return y.useEffect(()=>(document.addEventListener(aE,c),()=>document.removeEventListener(aE,c)),[c]),y.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,c]),p.jsx(Rf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:p.jsxs(SV,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(JI,{children:r}),p.jsx(OV,{scope:n,isInside:!0,children:p.jsx(PD,{id:l.contentId,role:"tooltip",children:s||r})})]})})});cC.displayName=Na;var hC="TooltipArrow",MV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=e_(n);return DV(hC,n).isInside?null:p.jsx(CV,{...s,...r,ref:e})});MV.displayName=hC;function LV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function VV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function FV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function jV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,c=e[o].y;l>r!=c>r&&n<(u-a)*(r-l)/(c-l)+a&&(s=!s)}return s}function $V(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),UV(e)}function UV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var BV=lC,fC=cC;const zV=BV,WV=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(fC,{ref:r,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));WV.displayName=fC.displayName;var $f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uf=typeof window>"u"||"Deno"in globalThis;function zn(){}function HV(t,e){return typeof t=="function"?t(e):t}function qV(t){return typeof t=="number"&&t>=0&&t!==1/0}function KV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function lE(t,e){return typeof t=="function"?t(e):t}function GV(t,e){return typeof t=="function"?t(e):t}function uE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==t_(o,e.options))return!1}else if(!Su(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function cE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Iu(e.options.mutationKey)!==Iu(i))return!1}else if(!Su(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function t_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Iu)(t)}function Iu(t){return JSON.stringify(t,(e,n)=>Xg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Su(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Su(t[n],e[n])):!1}function pC(t,e){if(t===e)return t;const n=dE(t)&&dE(e);if(n||Xg(t)&&Xg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const c=n?u:i[u];(!n&&r.includes(c)||n)&&t[c]===void 0&&e[c]===void 0?(a[c]=void 0,l++):(a[c]=pC(t[c],e[c]),a[c]===t[c]&&t[c]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function dE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xg(t){if(!hE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hE(t){return Object.prototype.toString.call(t)==="[object Object]"}function QV(t){return new Promise(e=>{setTimeout(e,t)})}function YV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?pC(t,e):e}function ZV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function XV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var n_=Symbol();function mC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===n_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var zi,$s,ma,AT,JV=(AT=class extends $f{constructor(){super();Oe(this,zi);Oe(this,$s);Oe(this,ma);we(this,ma,e=>{if(!Uf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,$s)||this.setEventListener(P(this,ma))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,$s))==null||e.call(this),we(this,$s,void 0))}setEventListener(e){var n;we(this,ma,e),(n=P(this,$s))==null||n.call(this),we(this,$s,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,zi)!==e&&(we(this,zi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof P(this,zi)=="boolean"?P(this,zi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zi=new WeakMap,$s=new WeakMap,ma=new WeakMap,AT),gC=new JV,ga,Us,ya,RT,e2=(RT=class extends $f{constructor(){super();Oe(this,ga,!0);Oe(this,Us);Oe(this,ya);we(this,ya,e=>{if(!Uf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Us)||this.setEventListener(P(this,ya))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Us))==null||e.call(this),we(this,Us,void 0))}setEventListener(e){var n;we(this,ya,e),(n=P(this,Us))==null||n.call(this),we(this,Us,e(this.setOnline.bind(this)))}setOnline(e){P(this,ga)!==e&&(we(this,ga,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,ga)}},ga=new WeakMap,Us=new WeakMap,ya=new WeakMap,RT),Ch=new e2;function t2(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function n2(t){return Math.min(1e3*2**t,3e4)}function yC(t){return(t??"online")==="online"?Ch.isOnline():!0}var vC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function hm(t){return t instanceof vC}function _C(t){let e=!1,n=0,r=!1,s;const i=t2(),o=g=>{var w;r||(h(new vC(g)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>gC.isFocused()&&(t.networkMode==="always"||Ch.isOnline())&&t.canRun(),c=()=>yC(t.networkMode)&&t.canRun(),d=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var w;s=v=>{(r||u())&&g(v)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),_=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{var C;if(r)return;const m=t.retry??(Uf?0:3),E=t.retryDelay??n2,x=typeof E=="function"?E(n,v):E,T=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,v);if(e||!T){h(v);return}n++,(C=t.onFail)==null||C.call(t,n,v),QV(x).then(()=>u()?void 0:f()).then(()=>{e?h(v):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?_():f().then(_),i)}}function r2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Zt=r2(),Wi,kT,wC=(kT=class{constructor(){Oe(this,Wi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qV(this.gcTime)&&we(this,Wi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uf?1/0:5*60*1e3))}clearGcTimeout(){P(this,Wi)&&(clearTimeout(P(this,Wi)),we(this,Wi,void 0))}},Wi=new WeakMap,kT),va,_a,kn,Lt,lc,Hi,Wn,Kr,PT,s2=(PT=class extends wC{constructor(n){super();Oe(this,Wn);Oe(this,va);Oe(this,_a);Oe(this,kn);Oe(this,Lt);Oe(this,lc);Oe(this,Hi);we(this,Hi,!1),we(this,lc,n.defaultOptions),this.setOptions(n.options),this.observers=[],we(this,kn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,we(this,va,o2(this.options)),this.state=n.state??P(this,va),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=P(this,Lt))==null?void 0:n.promise}setOptions(n){this.options={...P(this,lc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,kn).remove(this)}setData(n,r){const s=YV(this.state.data,n,this.options);return Nt(this,Wn,Kr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Nt(this,Wn,Kr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=P(this,Lt))==null?void 0:s.promise;return(i=P(this,Lt))==null||i.cancel(n),r?r.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,va))}isActive(){return this.observers.some(n=>GV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===n_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!KV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=P(this,Lt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=P(this,Lt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),P(this,kn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(P(this,Lt)&&(P(this,Hi)?P(this,Lt).cancel({revert:!0}):P(this,Lt).cancelRetry()),this.scheduleGc()),P(this,kn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,Wn,Kr).call(this,{type:"invalidate"})}fetch(n,r){var u,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,Lt))return P(this,Lt).continueRetry(),P(this,Lt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(we(this,Hi,!0),s.signal)})},o=()=>{const h=mC(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return i(f),we(this,Hi,!1),this.options.persister?this.options.persister(h,f,this):h(f)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),we(this,_a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Nt(this,Wn,Kr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,_,g,w;hm(h)&&h.silent||Nt(this,Wn,Kr).call(this,{type:"error",error:h}),hm(h)||((_=(f=P(this,kn).config).onError)==null||_.call(f,h,this),(w=(g=P(this,kn).config).onSettled)==null||w.call(g,this.state.data,h,this)),this.scheduleGc()};return we(this,Lt,_C({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var f,_,g,w;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(_=(f=P(this,kn).config).onSuccess)==null||_.call(f,h,this),(w=(g=P(this,kn).config).onSettled)==null||w.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{Nt(this,Wn,Kr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Nt(this,Wn,Kr).call(this,{type:"pause"})},onContinue:()=>{Nt(this,Wn,Kr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),P(this,Lt).start()}},va=new WeakMap,_a=new WeakMap,kn=new WeakMap,Lt=new WeakMap,lc=new WeakMap,Hi=new WeakMap,Wn=new WeakSet,Kr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...i2(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return hm(i)&&i.revert&&P(this,_a)?{...P(this,_a),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),P(this,kn).notify({query:this,type:"updated",action:n})})},PT);function i2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function o2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mr,NT,a2=(NT=class extends $f{constructor(e={}){super();Oe(this,mr);this.config=e,we(this,mr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??t_(s,n);let o=this.get(i);return o||(o=new s2({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){P(this,mr).has(e.queryHash)||(P(this,mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,mr).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,mr).get(e)}getAll(){return[...P(this,mr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uE(e,r)):n}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mr=new WeakMap,NT),gr,Gt,qi,yr,As,OT,l2=(OT=class extends wC{constructor(n){super();Oe(this,yr);Oe(this,gr);Oe(this,Gt);Oe(this,qi);this.mutationId=n.mutationId,we(this,Gt,n.mutationCache),we(this,gr,[]),this.state=n.state||u2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){P(this,gr).includes(n)||(P(this,gr).push(n),this.clearGcTimeout(),P(this,Gt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){we(this,gr,P(this,gr).filter(r=>r!==n)),this.scheduleGc(),P(this,Gt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){P(this,gr).length||(this.state.status==="pending"?this.scheduleGc():P(this,Gt).remove(this))}continue(){var n;return((n=P(this,qi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,c,d,h,f,_,g,w,v,m,E,x,T,C,b,R;we(this,qi,_C({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(j,L)=>{Nt(this,yr,As).call(this,{type:"failed",failureCount:j,error:L})},onPause:()=>{Nt(this,yr,As).call(this,{type:"pause"})},onContinue:()=>{Nt(this,yr,As).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Gt).canRun(this)}));const r=this.state.status==="pending",s=!P(this,qi).canStart();try{if(!r){Nt(this,yr,As).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=P(this,Gt).config).onMutate)==null?void 0:o.call(i,n,this));const L=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));L!==this.state.context&&Nt(this,yr,As).call(this,{type:"pending",context:L,variables:n,isPaused:s})}const j=await P(this,qi).start();return await((c=(u=P(this,Gt).config).onSuccess)==null?void 0:c.call(u,j,n,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,j,n,this.state.context)),await((_=(f=P(this,Gt).config).onSettled)==null?void 0:_.call(f,j,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,j,null,n,this.state.context)),Nt(this,yr,As).call(this,{type:"success",data:j}),j}catch(j){try{throw await((m=(v=P(this,Gt).config).onError)==null?void 0:m.call(v,j,n,this.state.context,this)),await((x=(E=this.options).onError)==null?void 0:x.call(E,j,n,this.state.context)),await((C=(T=P(this,Gt).config).onSettled)==null?void 0:C.call(T,void 0,j,this.state.variables,this.state.context,this)),await((R=(b=this.options).onSettled)==null?void 0:R.call(b,void 0,j,n,this.state.context)),j}finally{Nt(this,yr,As).call(this,{type:"error",error:j})}}finally{P(this,Gt).runNext(this)}}},gr=new WeakMap,Gt=new WeakMap,qi=new WeakMap,yr=new WeakSet,As=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{P(this,gr).forEach(s=>{s.onMutationUpdate(n)}),P(this,Gt).notify({mutation:this,type:"updated",action:n})})},OT);function u2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pn,uc,DT,c2=(DT=class extends $f{constructor(e={}){super();Oe(this,pn);Oe(this,uc);this.config=e,we(this,pn,new Map),we(this,uc,Date.now())}build(e,n,r){const s=new l2({mutationCache:this,mutationId:++Bc(this,uc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=cd(e),r=P(this,pn).get(n)??[];r.push(e),P(this,pn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=cd(e);if(P(this,pn).has(n)){const s=(r=P(this,pn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?P(this,pn).delete(n):P(this,pn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=P(this,pn).get(cd(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=P(this,pn).get(cd(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...P(this,pn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>cE(n,r))}findAll(e={}){return this.getAll().filter(n=>cE(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(zn))))}},pn=new WeakMap,uc=new WeakMap,DT);function cd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function fE(t){return{onFetch:(e,n)=>{var c,d,h,f,_;const r=e.options,s=(h=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=mC(e.options,e.fetchOptions),m=async(E,x,T)=>{if(g)return Promise.reject();if(x==null&&E.pages.length)return Promise.resolve(E);const C={queryKey:e.queryKey,pageParam:x,direction:T?"backward":"forward",meta:e.options.meta};w(C);const b=await v(C),{maxPages:R}=e.options,j=T?XV:ZV;return{pages:j(E.pages,b,R),pageParams:j(E.pageParams,x,R)}};if(s&&i.length){const E=s==="backward",x=E?d2:pE,T={pages:i,pageParams:o},C=x(r,T);a=await m(T,C,E)}else{const E=t??i.length;do{const x=l===0?o[0]??r.initialPageParam:pE(r,a);if(l>0&&x==null)break;a=await m(a,x),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function pE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function d2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var nt,Bs,zs,wa,Ea,Ws,xa,Ta,MT,h2=(MT=class{constructor(t={}){Oe(this,nt);Oe(this,Bs);Oe(this,zs);Oe(this,wa);Oe(this,Ea);Oe(this,Ws);Oe(this,xa);Oe(this,Ta);we(this,nt,t.queryCache||new a2),we(this,Bs,t.mutationCache||new c2),we(this,zs,t.defaultOptions||{}),we(this,wa,new Map),we(this,Ea,new Map),we(this,Ws,0)}mount(){Bc(this,Ws)._++,P(this,Ws)===1&&(we(this,xa,gC.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,nt).onFocus())})),we(this,Ta,Ch.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,nt).onOnline())})))}unmount(){var t,e;Bc(this,Ws)._--,P(this,Ws)===0&&((t=P(this,xa))==null||t.call(this),we(this,xa,void 0),(e=P(this,Ta))==null||e.call(this),we(this,Ta,void 0))}isFetching(t){return P(this,nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,Bs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=P(this,nt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(lE(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return P(this,nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=P(this,nt).get(r.queryHash),i=s==null?void 0:s.state.data,o=HV(e,i);if(o!==void 0)return P(this,nt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zt.batch(()=>P(this,nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=P(this,nt);Zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,nt),r={type:"active",...t};return Zt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Zt.batch(()=>P(this,nt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zn).catch(zn)}invalidateQueries(t={},e={}){return Zt.batch(()=>{if(P(this,nt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Zt.batch(()=>P(this,nt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=P(this,nt).build(this,e);return n.isStaleByTime(lE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zn).catch(zn)}fetchInfiniteQuery(t){return t.behavior=fE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zn).catch(zn)}ensureInfiniteQueryData(t){return t.behavior=fE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ch.isOnline()?P(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,nt)}getMutationCache(){return P(this,Bs)}getDefaultOptions(){return P(this,zs)}setDefaultOptions(t){we(this,zs,t)}setQueryDefaults(t,e){P(this,wa).set(Iu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,wa).values()];let n={};return e.forEach(r=>{Su(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){P(this,Ea).set(Iu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,Ea).values()];let n={};return e.forEach(r=>{Su(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,zs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=t_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===n_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,zs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,nt).clear(),P(this,Bs).clear()}},nt=new WeakMap,Bs=new WeakMap,zs=new WeakMap,wa=new WeakMap,Ea=new WeakMap,Ws=new WeakMap,xa=new WeakMap,Ta=new WeakMap,MT),f2=y.createContext(void 0),p2=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(f2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}var Ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ks||(Ks={}));const mE="popstate";function m2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Jg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bh(s)}return y2(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g2(){return Math.random().toString(36).substr(2,8)}function gE(t,e){return{usr:t.state,key:t.key,idx:e}}function Jg(t,e,n,r){return n===void 0&&(n=null),Cu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xa(e):e,{state:n,key:e&&e.key||r||g2()})}function bh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function y2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ks.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Cu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Ks.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:v})}function h(w,v){a=Ks.Push;let m=Jg(g.location,w,v);u=c()+1;let E=gE(m,u),x=g.createHref(m);try{o.pushState(E,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(x)}i&&l&&l({action:a,location:g.location,delta:1})}function f(w,v){a=Ks.Replace;let m=Jg(g.location,w,v);u=c();let E=gE(m,u),x=g.createHref(m);o.replaceState(E,"",x),i&&l&&l({action:a,location:g.location,delta:0})}function _(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:bh(w);return m=m.replace(/ $/,"%20"),at(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let g={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(mE,d),l=w,()=>{s.removeEventListener(mE,d),l=null}},createHref(w){return e(s,w)},createURL:_,encodeLocation(w){let v=_(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(w){return o.go(w)}};return g}var yE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yE||(yE={}));function v2(t,e,n){return n===void 0&&(n="/"),_2(t,e,n,!1)}function _2(t,e,n,r){let s=typeof e=="string"?Xa(e):e,i=r_(s.pathname||"/",n);if(i==null)return null;let o=xC(t);w2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=P2(i);a=R2(o[l],u,r)}return a}function xC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ri([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xC(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:b2(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of TC(i.path))s(i,o,l)}),e}function TC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=TC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function w2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:A2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const E2=/^:[\w-]+$/,x2=3,T2=2,I2=1,S2=10,C2=-2,vE=t=>t==="*";function b2(t,e){let n=t.split("/"),r=n.length;return n.some(vE)&&(r+=C2),e&&(r+=T2),n.filter(s=>!vE(s)).reduce((s,i)=>s+(E2.test(i)?x2:i===""?I2:S2),r)}function A2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function R2(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=_E({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=_E({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ri([i,d.pathname]),pathnameBase:M2(ri([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=ri([i,d.pathnameBase]))}return o}function _E(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const _=a[d];return f&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function k2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),EC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function P2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return EC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function r_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function N2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xa(t):t;return{pathname:n?n.startsWith("/")?n:O2(n,e):e,search:L2(r),hash:V2(s)}}function O2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function s_(t,e){let n=D2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function i_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xa(t):(s=Cu({},t),at(!s.pathname||!s.pathname.includes("?"),fm("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),fm("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),fm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=N2(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ri=t=>t.join("/").replace(/\/\/+/g,"/"),M2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IC=["post","put","patch","delete"];new Set(IC);const j2=["get",...IC];new Set(j2);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}const o_=y.createContext(null),$2=y.createContext(null),Ci=y.createContext(null),Bf=y.createContext(null),Ur=y.createContext({outlet:null,matches:[],isDataRoute:!1}),SC=y.createContext(null);function U2(t,e){let{relative:n}=e===void 0?{}:e;Ja()||at(!1);let{basename:r,navigator:s}=y.useContext(Ci),{hash:i,pathname:o,search:a}=bC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ri([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ja(){return y.useContext(Bf)!=null}function bi(){return Ja()||at(!1),y.useContext(Bf).location}function CC(t){y.useContext(Ci).static||y.useLayoutEffect(t)}function _o(){let{isDataRoute:t}=y.useContext(Ur);return t?rF():B2()}function B2(){Ja()||at(!1);let t=y.useContext(o_),{basename:e,future:n,navigator:r}=y.useContext(Ci),{matches:s}=y.useContext(Ur),{pathname:i}=bi(),o=JSON.stringify(s_(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return CC(()=>{a.current=!0}),y.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=i_(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ri([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,i,t])}const z2=y.createContext(null);function W2(t){let e=y.useContext(Ur).outlet;return e&&y.createElement(z2.Provider,{value:t},e)}function H2(){let{matches:t}=y.useContext(Ur),e=t[t.length-1];return e?e.params:{}}function bC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Ci),{matches:s}=y.useContext(Ur),{pathname:i}=bi(),o=JSON.stringify(s_(s,r.v7_relativeSplatPath));return y.useMemo(()=>i_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function q2(t,e){return K2(t,e)}function K2(t,e,n,r){Ja()||at(!1);let{navigator:s}=y.useContext(Ci),{matches:i}=y.useContext(Ur),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=bi(),c;if(e){var d;let w=typeof e=="string"?Xa(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||at(!1),c=w}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=v2(t,{pathname:f}),g=X2(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ri([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ri([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&g?y.createElement(Bf.Provider,{value:{location:bu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ks.Pop}},g):g}function G2(){let t=nF(),e=F2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const Q2=y.createElement(G2,null);class Y2 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Ur.Provider,{value:this.props.routeContext},y.createElement(SC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z2(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(o_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ur.Provider,{value:e},r)}function X2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||at(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,_=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,_=!1,g=null,w=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||Q2,l&&(u<0&&h===0?(_=!0,w=null):u===h&&(_=!0,w=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),m=()=>{let E;return f?E=g:_?E=w:d.route.Component?E=y.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=c,y.createElement(Z2,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(Y2,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var AC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AC||{}),Ah=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ah||{});function J2(t){let e=y.useContext(o_);return e||at(!1),e}function eF(t){let e=y.useContext($2);return e||at(!1),e}function tF(t){let e=y.useContext(Ur);return e||at(!1),e}function RC(t){let e=tF(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function nF(){var t;let e=y.useContext(SC),n=eF(Ah.UseRouteError),r=RC(Ah.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rF(){let{router:t}=J2(AC.UseNavigateStable),e=RC(Ah.UseNavigateStable),n=y.useRef(!1);return CC(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,bu({fromRouteId:e},i)))},[t,e])}function wE(t){let{to:e,replace:n,state:r,relative:s}=t;Ja()||at(!1);let{future:i,static:o}=y.useContext(Ci),{matches:a}=y.useContext(Ur),{pathname:l}=bi(),u=_o(),c=i_(e,s_(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return y.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function sF(t){return W2(t.context)}function Gr(t){at(!1)}function iF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ks.Pop,navigator:i,static:o=!1,future:a}=t;Ja()&&at(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:o,future:bu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Xa(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:_="default"}=r,g=y.useMemo(()=>{let w=r_(c,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:_},navigationType:s}},[l,c,d,h,f,_,s]);return g==null?null:y.createElement(Ci.Provider,{value:u},y.createElement(Bf.Provider,{children:n,value:g}))}function oF(t){let{children:e,location:n}=t;return q2(ey(e),n)}new Promise(()=>{});function ey(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,ey(r.props.children,i));return}r.type!==Gr&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ey(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(this,arguments)}function aF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function lF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uF(t,e){return t.button===0&&(!e||e==="_self")&&!lF(t)}const cF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dF="6";try{window.__reactRouterVersion=dF}catch{}const hF="startTransition",EE=KT[hF];function fF(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=m2({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=y.useCallback(d=>{u&&EE?EE(()=>l(d)):l(d)},[l,u]);return y.useLayoutEffect(()=>o.listen(c),[o,c]),y.createElement(iF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const pF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Au=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=aF(e,cF),{basename:f}=y.useContext(Ci),_,g=!1;if(typeof u=="string"&&mF.test(u)&&(_=u,pF))try{let E=new URL(window.location.href),x=u.startsWith("//")?new URL(E.protocol+u):new URL(u),T=r_(x.pathname,f);x.origin===E.origin&&T!=null?u=T+x.search+x.hash:g=!0}catch{}let w=U2(u,{relative:s}),v=gF(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function m(E){r&&r(E),E.defaultPrevented||v(E)}return y.createElement("a",ty({},h,{href:_||w,onClick:g||i?r:m,ref:n,target:l}))});var xE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xE||(xE={}));var TE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(TE||(TE={}));function gF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=_o(),u=bi(),c=bC(t,{relative:o});return y.useCallback(d=>{if(uF(d,n)){d.preventDefault();let h=r!==void 0?r:bh(u)===bh(c);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,r,s,n,t,i,o,a])}var IE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},PC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new vF;const h=i<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _F=function(t){const e=kC(t);return PC.encodeByteArray(e,!0)},Rh=function(t){return _F(t).replace(/\./g,"")},NC=function(t){try{return PC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=()=>wF().__FIREBASE_DEFAULTS__,xF=()=>{if(typeof process>"u"||typeof IE>"u")return;const t=IE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NC(t[1]);return e&&JSON.parse(e)},a_=()=>{try{return EF()||xF()||TF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OC=t=>{var e,n;return(n=(e=a_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DC=t=>{const e=OC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MC=()=>{var t;return(t=a_())===null||t===void 0?void 0:t.config},LC=t=>{var e;return(e=a_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function CF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AF(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RF(){try{return typeof indexedDB=="object"}catch{return!1}}function kF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="FirebaseError";class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PF,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?NF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Br(s,a,r)}}function NF(t,e){return t.replace(OF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const OF=/\{\$([^}]+)}/g;function DF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(SE(i)&&SE(o)){if(!kh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function SE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MF(t,e){const n=new LF(t,e);return n.subscribe.bind(n)}class LF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=pm),s.error===void 0&&(s.error=pm),s.complete===void 0&&(s.complete=pm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($F(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jF(t){return t===Mi?void 0:t}function $F(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const BF={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},zF=Se.INFO,WF={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},HF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l_{constructor(e){this.name=e,this._logLevel=zF,this._logHandler=HF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const qF=(t,e)=>e.some(n=>t instanceof n);let CE,bE;function KF(){return CE||(CE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GF(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FC=new WeakMap,ny=new WeakMap,jC=new WeakMap,mm=new WeakMap,u_=new WeakMap;function QF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(si(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FC.set(n,t)}).catch(()=>{}),u_.set(e,t),e}function YF(t){if(ny.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ny.set(t,e)}let ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZF(t){ry=t(ry)}function XF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gm(this),e,...n);return jC.set(r,e.sort?e.sort():[e]),si(r)}:GF().includes(t)?function(...e){return t.apply(gm(this),e),si(FC.get(this))}:function(...e){return si(t.apply(gm(this),e))}}function JF(t){return typeof t=="function"?XF(t):(t instanceof IDBTransaction&&YF(t),qF(t,KF())?new Proxy(t,ry):t)}function si(t){if(t instanceof IDBRequest)return QF(t);if(mm.has(t))return mm.get(t);const e=JF(t);return e!==t&&(mm.set(t,e),u_.set(e,t)),e}const gm=t=>u_.get(t);function ej(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",l=>{r(si(o.result),l.oldVersion,l.newVersion,si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tj=["get","getKey","getAll","getAllKeys","count"],nj=["put","add","delete","clear"],ym=new Map;function AE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tj.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return ym.set(e,i),i}ZF(t=>({...t,get:(e,n,r)=>AE(e,n)||t.get(e,n,r),has:(e,n)=>!!AE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sy="@firebase/app",RE="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new l_("@firebase/app"),ij="@firebase/app-compat",oj="@firebase/analytics-compat",aj="@firebase/analytics",lj="@firebase/app-check-compat",uj="@firebase/app-check",cj="@firebase/auth",dj="@firebase/auth-compat",hj="@firebase/database",fj="@firebase/database-compat",pj="@firebase/functions",mj="@firebase/functions-compat",gj="@firebase/installations",yj="@firebase/installations-compat",vj="@firebase/messaging",_j="@firebase/messaging-compat",wj="@firebase/performance",Ej="@firebase/performance-compat",xj="@firebase/remote-config",Tj="@firebase/remote-config-compat",Ij="@firebase/storage",Sj="@firebase/storage-compat",Cj="@firebase/firestore",bj="@firebase/firestore-compat",Aj="firebase",Rj="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="[DEFAULT]",kj={[sy]:"fire-core",[ij]:"fire-core-compat",[aj]:"fire-analytics",[oj]:"fire-analytics-compat",[uj]:"fire-app-check",[lj]:"fire-app-check-compat",[cj]:"fire-auth",[dj]:"fire-auth-compat",[hj]:"fire-rtdb",[fj]:"fire-rtdb-compat",[pj]:"fire-fn",[mj]:"fire-fn-compat",[gj]:"fire-iid",[yj]:"fire-iid-compat",[vj]:"fire-fcm",[_j]:"fire-fcm-compat",[wj]:"fire-perf",[Ej]:"fire-perf-compat",[xj]:"fire-rc",[Tj]:"fire-rc-compat",[Ij]:"fire-gcs",[Sj]:"fire-gcs-compat",[Cj]:"fire-fst",[bj]:"fire-fst-compat","fire-js":"fire-js",[Aj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,oy=new Map;function Pj(t,e){try{t.container.addComponent(e)}catch(n){io.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oo(t){const e=t.name;if(oy.has(e))return io.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,t);for(const n of Ph.values())Pj(n,t);return!0}function zf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ii=new yc("app","Firebase",Nj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=Rj;function $C(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:iy,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ii.create("bad-app-name",{appName:String(s)});if(n||(n=MC()),!n)throw ii.create("no-options");const i=Ph.get(s);if(i){if(kh(n,i.options)&&kh(r,i.config))return i;throw ii.create("duplicate-app",{appName:s})}const o=new UF(s);for(const l of oy.values())o.addComponent(l);const a=new Oj(n,r,o);return Ph.set(s,a),a}function c_(t=iy){const e=Ph.get(t);if(!e&&t===iy&&MC())return $C();if(!e)throw ii.create("no-app",{appName:t});return e}function Ar(t,e,n){var r;let s=(r=kj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),io.warn(a.join(" "));return}oo(new mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="firebase-heartbeat-database",Mj=1,Ru="firebase-heartbeat-store";let vm=null;function UC(){return vm||(vm=ej(Dj,Mj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ru)}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),vm}async function Lj(t){try{return await(await UC()).transaction(Ru).objectStore(Ru).get(BC(t))}catch(e){if(e instanceof Br)io.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});io.warn(n.message)}}}async function kE(t,e){try{const r=(await UC()).transaction(Ru,"readwrite");await r.objectStore(Ru).put(e,BC(t)),await r.done}catch(n){if(n instanceof Br)io.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});io.warn(r.message)}}}function BC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=1024,Fj=30*24*60*60*1e3;class jj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Fj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PE(),{heartbeatsToSend:r,unsentEntries:s}=$j(this._heartbeatsCache.heartbeats),i=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function PE(){return new Date().toISOString().substring(0,10)}function $j(t,e=Vj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),NE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),NE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Uj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RF()?kF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function NE(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){oo(new mi("platform-logger",e=>new rj(e),"PRIVATE")),oo(new mi("heartbeat",e=>new jj(e),"PRIVATE")),Ar(sy,RE,t),Ar(sy,RE,"esm2017"),Ar("fire-js","")}Bj("");var _r=function(){return _r=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_r.apply(this,arguments)};function _c(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zj(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function zC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wj=zC,WC=new yc("auth","Firebase",zC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new l_("@firebase/auth");function Hj(t,...e){Nh.logLevel<=Se.WARN&&Nh.warn(`Auth (${wo}): ${t}`,...e)}function Ud(t,...e){Nh.logLevel<=Se.ERROR&&Nh.error(`Auth (${wo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,...e){throw d_(t,...e)}function Rr(t,...e){return d_(t,...e)}function qj(t,e,n){const r=Object.assign(Object.assign({},Wj()),{[e]:n});return new yc("auth","Firebase",r).create(e,{appName:t.name})}function d_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WC.create(t,...e)}function de(t,e,...n){if(!t)throw d_(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ud(e),new Error(e)}function hs(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Kj(){return OE()==="http:"||OE()==="https:"}function OE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kj()||CF()||"connection"in navigator)?navigator.onLine:!0}function Qj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=SF()||bF()}get(){return Gj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new wc(3e4,6e4);function Eo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ai(t,e,n,r,s={}){return qC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=vc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),HC.fetch()(KC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function qC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yj),e);try{const s=new Jj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw dd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qj(t,c,u);rr(t,c)}}catch(s){if(s instanceof Br)throw s;rr(t,"network-request-failed",{message:String(s)})}}async function Wf(t,e,n,r,s={}){const i=await Ai(t,e,n,r,s);return"mfaPendingCredential"in i&&rr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function KC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?h_(t.config,s):`${t.config.apiScheme}://${s}`}function Xj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),Zj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}function DE(t){return t!==void 0&&t.enterprise!==void 0}class e${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Xj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function t$(t,e){return Ai(t,"GET","/v2/recaptchaConfig",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n$(t,e){return Ai(t,"POST","/v1/accounts:delete",e)}async function r$(t,e){return Ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s$(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=f_(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Yl(_m(s.auth_time)),issuedAtTime:Yl(_m(s.iat)),expirationTime:Yl(_m(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function _m(t){return Number(t)*1e3}function f_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{const s=NC(n);return s?JSON.parse(s):(Ud("Failed to decode base64 JWT payload"),null)}catch(s){return Ud("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function i$(t){const e=f_(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Br&&o$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function o$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ku(t,r$(n,{idToken:r}));de(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?c$(i.providerUserInfo):[],a=u$(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new GC(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function l$(t){const e=mt(t);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function c$(t){return t.map(e=>{var{providerId:n}=e,r=_c(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(t,e){const n=await qC(t,{},async()=>{const r=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=KC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",HC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h$(t,e){return Ai(t,"POST","/v2/accounts:revokeToken",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await d$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Pu;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=_c(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new GC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ku(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s$(this,e)}reload(){return l$(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ku(this,n$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:x,isAnonymous:T,providerData:C,stsTokenManager:b}=n;de(E&&b,e,"internal-error");const R=Pu.fromJSON(this.name,b);de(typeof E=="string",e,"internal-error"),bs(d,e.name),bs(h,e.name),de(typeof x=="boolean",e,"internal-error"),de(typeof T=="boolean",e,"internal-error"),bs(f,e.name),bs(_,e.name),bs(g,e.name),bs(w,e.name),bs(v,e.name),bs(m,e.name);const j=new Qi({uid:E,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:T,photoURL:_,phoneNumber:f,tenantId:g,stsTokenManager:R,createdAt:v,lastLoginAt:m});return C&&Array.isArray(C)&&(j.providerData=C.map(L=>Object.assign({},L))),w&&(j._redirectEventId=w),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new Pu;s.updateFromServerResponse(n);const i=new Qi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Oh(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function ts(t){hs(t instanceof Function,"Expected a class definition");let e=ME.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ME.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QC.type="NONE";const LE=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Bd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Bd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new aa(ts(LE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ts(LE);const o=Bd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Qi._fromJSON(e,c);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new aa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new aa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eb(e))return"Blackberry";if(tb(e))return"Webos";if(p_(e))return"Safari";if((e.includes("chrome/")||ZC(e))&&!e.includes("edge/"))return"Chrome";if(JC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YC(t=Wt()){return/firefox\//i.test(t)}function p_(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZC(t=Wt()){return/crios\//i.test(t)}function XC(t=Wt()){return/iemobile/i.test(t)}function JC(t=Wt()){return/android/i.test(t)}function eb(t=Wt()){return/blackberry/i.test(t)}function tb(t=Wt()){return/webos/i.test(t)}function Hf(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f$(t=Wt()){var e;return Hf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p$(){return AF()&&document.documentMode===10}function nb(t=Wt()){return Hf(t)||JC(t)||tb(t)||eb(t)||/windows phone/i.test(t)||XC(t)}function m$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t,e=[]){let n;switch(t){case"Browser":n=VE(Wt());break;case"Worker":n=`${VE(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,e={}){return Ai(t,"GET","/v2/passwordPolicy",Eo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=6;class _${constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:v$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new g$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Qj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?mt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y$(this),n=new _$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await h$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Hj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function el(t){return mt(t)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=MF(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function sb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",E$().appendChild(r)})}function x$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const T$="https://www.google.com/recaptcha/enterprise.js?render=",I$="recaptcha-enterprise",S$="NO_RECAPTCHA";class C${constructor(e){this.type=I$,this.auth=el(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{t$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new e$(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;DE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(S$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&DE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}sb(T$+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function jE(t,e,n,r=!1){const s=new C$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $E(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await jE(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await jE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e){const n=zf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(kh(i,e??{}))return s;rr(s,"already-initialized")}return n.initialize({options:e})}function A$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function R$(t,e,n){const r=el(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=ib(e),{host:o,port:a}=k$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),P$()}function ib(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k$(t){const e=ib(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:UE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:UE(o)}}}function UE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function P$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function N$(t,e){return Ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e){return Wf(t,"POST","/v1/accounts:signInWithPassword",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t,e){return Wf(t,"POST","/v1/accounts:signInWithEmailLink",Eo(t,e))}async function M$(t,e){return Wf(t,"POST","/v1/accounts:signInWithEmailLink",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends m_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $E(e,n,"signInWithPassword",O$);case"emailLink":return D$(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $E(e,r,"signUpPassword",N$);case"emailLink":return M$(e,{idToken:n,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t,e){return Wf(t,"POST","/v1/accounts:signInWithIdp",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="http://localhost";class ao extends m_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=_c(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ao(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return la(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,la(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,la(e,n)}buildRequest(){const e={requestUri:L$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F$(t){const e=kl(Pl(t)).link,n=e?kl(Pl(e)).deep_link_id:null,r=kl(Pl(t)).deep_link_id;return(r?kl(Pl(r)).link:null)||r||n||e||t}class g_{constructor(e){var n,r,s,i,o,a;const l=kl(Pl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=V$((s=l.mode)!==null&&s!==void 0?s:null);de(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=F$(e);try{return new g_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(e,n){return Nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=g_.parseLink(n);return de(r,"argument-error"),Nu._fromEmailAndCode(e,r.code,r.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Ec{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Ec{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Ec{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qi._fromIdTokenResponse(e,r,s),o=BE(r);return new Oa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=BE(r);return new Oa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function BE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Br{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Dh(e,n,r,s)}}function ab(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(t,i,e,r):i})}async function j$(t,e,n=!1){const r=await ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await ku(t,ab(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=f_(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Oa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(t,e,n=!1){const r="signIn",s=await ab(t,r,e),i=await Oa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function U$(t,e){return lb(el(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t){const e=el(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function z$(t,e,n){return U$(mt(t),tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&B$(t),r})}function W$(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function H$(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function q$(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function zE(t){return mt(t).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(){const t=Wt();return p_(t)||Hf(t)}const G$=1e3,Q$=10;class cb extends ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=K$()&&m$(),this.fallbackToPolling=nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);p$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Q$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cb.type="LOCAL";const Y$=cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}db.type="SESSION";const hb=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new qf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await Z$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=y_("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function J$(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function e4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function n4(){return fb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebaseLocalStorageDb",r4=1,Lh="firebaseLocalStorage",mb="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kf(t,e){return t.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function s4(){const t=indexedDB.deleteDatabase(pb);return new xc(t).toPromise()}function ly(){const t=indexedDB.open(pb,r4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lh,{keyPath:mb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lh)?e(r):(r.close(),await s4(),e(await ly()))})})}async function WE(t,e,n){const r=Kf(t,!0).put({[mb]:e,value:n});return new xc(r).toPromise()}async function i4(t,e){const n=Kf(t,!1).get(e),r=await new xc(n).toPromise();return r===void 0?null:r.value}function HE(t,e){const n=Kf(t,!0).delete(e);return new xc(n).toPromise()}const o4=800,a4=3;class gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(n4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await e4(),!this.activeServiceWorker)return;this.sender=new X$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await WE(e,Mh,"1"),await HE(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Kf(s,!1).getAll();return new xc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gb.type="LOCAL";const l4=gb;new wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e){return e?ts(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends m_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,n){return la(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c4(t){return lb(t.auth,new v_(t),t.bypassAuthState)}function d4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),$$(n,new v_(t),t.bypassAuthState)}async function h4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),j$(n,new v_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c4;case"linkViaPopup":case"linkViaRedirect":return h4;case"reauthViaPopup":case"reauthViaRedirect":return d4;default:rr(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new wc(2e3,1e4);class Yo extends yb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=y_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f4.get())};e()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="pendingRedirect",zd=new Map;class m4 extends yb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zd.get(this.auth._key());if(!e){try{const r=await g4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g4(t,e){const n=_4(e),r=v4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function y4(t,e){zd.set(t._key(),e)}function v4(t){return ts(t._redirectPersistence)}function _4(t){return Bd(p4,t.config.apiKey,t.name)}async function w4(t,e,n=!1){const r=el(t),s=u4(r,e),o=await new m4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=10*60*1e3;class x4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E4&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e={}){return Ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C4=/^https?/;async function b4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I4(t);for(const n of e)try{if(A4(n))return}catch{}rr(t,"unauthorized-domain")}function A4(t){const e=ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!C4.test(n))return!1;if(S4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new wc(3e4,6e4);function KE(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k4(t){return new Promise((e,n)=>{var r,s,i;function o(){KE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KE(),n(Rr(t,"network-request-failed"))},timeout:R4.get()})}if(!((s=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=kr().gapi)===null||i===void 0)&&i.load)o();else{const a=x$("iframefcb");return kr()[a]=()=>{gapi.load?o():n(Rr(t,"network-request-failed"))},sb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wd=null,e})}let Wd=null;function P4(t){return Wd=Wd||k4(t),Wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new wc(5e3,15e3),O4="__/auth/iframe",D4="emulator/auth/iframe",M4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V4(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h_(e,D4):`https://${t.config.authDomain}/${O4}`,r={apiKey:e.apiKey,appName:t.name,v:wo},s=L4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vc(r).slice(1)}`}async function F4(t){const e=await P4(t),n=kr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:V4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),a=kr().setTimeout(()=>{i(o)},N4.get());function l(){kr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$4=500,U4=600,B4="_blank",z4="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W4(t,e,n,r=$4,s=U4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},j4),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Wt().toLowerCase();n&&(a=ZC(u)?B4:n),YC(u)&&(e=e||z4,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,_])=>`${h}${f}=${_},`,"");if(f$(u)&&a!=="_self")return H4(e||"",a),new GE(null);const d=window.open(e||"",a,c);de(d,t,"popup-blocked");try{d.focus()}catch{}return new GE(d)}function H4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="__/auth/handler",K4="emulator/auth/handler",G4=encodeURIComponent("fac");async function QE(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wo,eventId:s};if(e instanceof ob){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Ec){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${G4}=${encodeURIComponent(l)}`:"";return`${Q4(t)}?${vc(a).slice(1)}${u}`}function Q4({config:t}){return t.emulator?h_(t,K4):`https://${t.authDomain}/${q4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class Y4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hb,this._completeRedirectFn=w4,this._overrideRedirectResult=y4}async _openPopup(e,n,r,s){var i;hs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await QE(e,n,r,ay(),s);return W4(e,o,y_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await QE(e,n,r,ay(),s);return J$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await F4(e),r=new x4(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[wm];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nb()||p_()||Hf()}}const Z4=Y4;var YE="@firebase/auth",ZE="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function eU(t){oo(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rb(t)},u=new w$(r,s,i,l);return A$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oo(new mi("auth-internal",e=>{const n=el(e.getProvider("auth").getImmediate());return(r=>new X4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(YE,ZE,J4(t)),Ar(YE,ZE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=5*60,nU=LC("authIdTokenMaxAge")||tU;let XE=null;const rU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nU)return;const s=n==null?void 0:n.token;XE!==s&&(XE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sU(t=c_()){const e=zf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b$(t,{popupRedirectResolver:Z4,persistence:[l4,Y$,hb]}),r=LC("authTokenSyncURL");if(r){const i=rU(r);H$(n,i,()=>i(n.currentUser)),W$(n,o=>i(o))}const s=OC("auth");return s&&R$(n,`http://${s}`),n}eU("Browser");var iU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,__=__||{},fe=iU||self;function Gf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Qf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function oU(t){return Object.prototype.hasOwnProperty.call(t,Em)&&t[Em]||(t[Em]=++aU)}var Em="closure_uid_"+(1e9*Math.random()>>>0),aU=0;function lU(t,e,n){return t.call.apply(t.bind,arguments)}function uU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function $t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$t=lU:$t=uU,$t.apply(null,arguments)}function hd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Tt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Ri(){this.s=this.s,this.o=this.o}var cU=0;Ri.prototype.s=!1;Ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cU!=0)&&oU(this)};Ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _b=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function w_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function JE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var dU=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};fe.addEventListener("test",n,e),fe.removeEventListener("test",n,e)}catch{}return t}();function Ou(t){return/^[\s\xa0]*$/.test(t)}function Yf(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function wr(t){return Yf().indexOf(t)!=-1}function E_(t){return E_[" "](t),t}E_[" "]=function(){};function hU(t,e){var n=i9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var fU=wr("Opera"),Da=wr("Trident")||wr("MSIE"),wb=wr("Edge"),uy=wb||Da,Eb=wr("Gecko")&&!(Yf().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge"))&&!(wr("Trident")||wr("MSIE"))&&!wr("Edge"),pU=Yf().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge");function xb(){var t=fe.document;return t?t.documentMode:void 0}var cy;e:{var xm="",Tm=function(){var t=Yf();if(Eb)return/rv:([^\);]+)(\)|;)/.exec(t);if(wb)return/Edge\/([\d\.]+)/.exec(t);if(Da)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(pU)return/WebKit\/(\S+)/.exec(t);if(fU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tm&&(xm=Tm?Tm[1]:""),Da){var Im=xb();if(Im!=null&&Im>parseFloat(xm)){cy=String(Im);break e}}cy=xm}var dy;if(fe.document&&Da){var ex=xb();dy=ex||parseInt(cy,10)||void 0}else dy=void 0;var mU=dy;function Du(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Eb){e:{try{E_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Du.$.h.call(this)}}Tt(Du,Ut);var gU={2:"touch",3:"pen",4:"mouse"};Du.prototype.h=function(){Du.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zf="closure_listenable_"+(1e6*Math.random()|0),yU=0;function vU(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++yU,this.fa=this.ia=!1}function Xf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function x_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _U(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Tb(t){const e={};for(const n in t)e[n]=t[n];return e}const tx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ib(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<tx.length;i++)n=tx[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jf(t){this.src=t,this.g={},this.h=0}Jf.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=fy(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new vU(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function hy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=_b(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Xf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fy(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var T_="closure_lm_"+(1e6*Math.random()|0),Sm={};function Sb(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Sb(t,e[i],n,r,s);return null}return n=Ab(n),t&&t[Zf]?t.O(e,n,Qf(r)?!!r.capture:!!r,s):wU(t,e,n,!1,r,s)}function wU(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Qf(s)?!!s.capture:!!s,a=S_(t);if(a||(t[T_]=a=new Jf(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=EU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dU||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(bb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EU(){function t(n){return e.call(t.src,t.listener,n)}const e=xU;return t}function Cb(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Cb(t,e[i],n,r,s);else r=Qf(r)?!!r.capture:!!r,n=Ab(n),t&&t[Zf]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=fy(i,n,r,s),-1<n&&(Xf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=S_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fy(e,n,r,s)),(n=-1<t?e[t]:null)&&I_(n))}function I_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zf])hy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=S_(e))?(hy(n,t),n.h==0&&(n.src=null,e[T_]=null)):Xf(t)}}}function bb(t){return t in Sm?Sm[t]:Sm[t]="on"+t}function xU(t,e){if(t.fa)t=!0;else{e=new Du(e,this);var n=t.listener,r=t.la||t.src;t.ia&&I_(t),t=n.call(r,e)}return t}function S_(t){return t=t[T_],t instanceof Jf?t:null}var Cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ab(t){return typeof t=="function"?t:(t[Cm]||(t[Cm]=function(e){return t.handleEvent(e)}),t[Cm])}function xt(){Ri.call(this),this.i=new Jf(this),this.S=this,this.J=null}Tt(xt,Ri);xt.prototype[Zf]=!0;xt.prototype.removeEventListener=function(t,e,n,r){Cb(this,t,e,n,r)};function Rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var s=e;e=new Ut(r,t),Ib(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=fd(o,r,!0,e)&&s}if(o=e.g=t,s=fd(o,r,!0,e)&&s,s=fd(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=fd(o,r,!1,e)&&s}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xf(n[r]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function fd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&hy(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var C_=fe.JSON.stringify;class TU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function IU(){var t=b_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class SU{constructor(){this.h=this.g=null}add(e,n){const r=Rb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Rb=new TU(()=>new CU,t=>t.reset());class CU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function AU(t){fe.setTimeout(()=>{throw t},0)}let Mu,Lu=!1,b_=new SU,kb=()=>{const t=fe.Promise.resolve(void 0);Mu=()=>{t.then(RU)}};var RU=()=>{for(var t;t=IU();){try{t.h.call(t.g)}catch(n){AU(n)}var e=Rb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lu=!1};function ep(t,e){xt.call(this),this.h=t||1,this.g=e||fe,this.j=$t(this.qb,this),this.l=Date.now()}Tt(ep,xt);H=ep.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rt(this,"tick"),this.ga&&(A_(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function A_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){ep.$.N.call(this),A_(this),delete this.g};function R_(t,e,n){if(typeof t=="function")n&&(t=$t(t,n));else if(t&&typeof t.handleEvent=="function")t=$t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function Pb(t){t.g=R_(()=>{t.g=null,t.i&&(t.i=!1,Pb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class kU extends Ri{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pb(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vu(t){Ri.call(this),this.h=t,this.g={}}Tt(Vu,Ri);var nx=[];function Nb(t,e,n,r){Array.isArray(n)||(n&&(nx[0]=n.toString()),n=nx);for(var s=0;s<n.length;s++){var i=Sb(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Ob(t){x_(t.g,function(e,n){this.g.hasOwnProperty(n)&&I_(e)},t),t.g={}}Vu.prototype.N=function(){Vu.$.N.call(this),Ob(this)};Vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tp(){this.g=!0}tp.prototype.Ea=function(){this.g=!1};function PU(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function NU(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Zo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+DU(t,n)+(r?" "+r:"")})}function OU(t,e){t.info(function(){return"TIMEOUT: "+e})}tp.prototype.info=function(){};function DU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return C_(n)}catch{return e}}var xo={},rx=null;function np(){return rx=rx||new xt}xo.Ta="serverreachability";function Db(t){Ut.call(this,xo.Ta,t)}Tt(Db,Ut);function Fu(t){const e=np();Rt(e,new Db(e))}xo.STAT_EVENT="statevent";function Mb(t,e){Ut.call(this,xo.STAT_EVENT,t),this.stat=e}Tt(Mb,Ut);function Xt(t){const e=np();Rt(e,new Mb(e,t))}xo.Ua="timingevent";function Lb(t,e){Ut.call(this,xo.Ua,t),this.size=e}Tt(Lb,Ut);function Tc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var rp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function k_(){}k_.prototype.h=null;function sx(t){return t.h||(t.h=t.i())}function Fb(){}var Ic={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function P_(){Ut.call(this,"d")}Tt(P_,Ut);function N_(){Ut.call(this,"c")}Tt(N_,Ut);var py;function sp(){}Tt(sp,k_);sp.prototype.g=function(){return new XMLHttpRequest};sp.prototype.i=function(){return{}};py=new sp;function Sc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vu(this),this.P=MU,t=uy?125:void 0,this.V=new ep(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jb}function jb(){this.i=null,this.g="",this.h=!1}var MU=45e3,$b={},my={};H=Sc.prototype;H.setTimeout=function(t){this.P=t};function gy(t,e,n){t.L=1,t.A=op(fs(e)),t.u=n,t.S=!0,Ub(t,null)}function Ub(t,e){t.G=Date.now(),Cc(t),t.B=fs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Qb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new jb,t.g=gA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new kU($t(t.Pa,t,t.g),t.O)),Nb(t.U,t.g,"readystatechange",t.nb),e=t.I?Tb(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Fu(),PU(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&Tr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const c=Tr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||uy||this.g&&(this.h.h||this.g.ja()||lx(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Fu(3):Fu(2)),ip(this);var n=this.g.da();this.ca=n;t:if(Bb(this)){var r=lx(this.g);t="";var s=r.length,i=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),Zl(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,NU(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ou(a)){var u=a;break t}}u=null}if(n=u)Zo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yy(this,n);else{this.i=!1,this.s=3,Xt(12),ji(this),Zl(this);break e}}this.S?(zb(this,c,o),uy&&this.i&&c==3&&(Nb(this.U,this.V,"tick",this.mb),this.V.start())):(Zo(this.j,this.m,o,null),yy(this,o)),c==4&&ji(this),this.i&&!this.J&&(c==4?hA(this.l,this):(this.i=!1,Cc(this)))}else n9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),ji(this),Zl(this)}}}catch{}finally{}};function Bb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function zb(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=LU(t,n),s==my){e==4&&(t.s=4,Xt(14),r=!1),Zo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==$b){t.s=4,Xt(15),Zo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Zo(t.j,t.m,s,null),yy(t,s);Bb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),F_(e),e.M=!0,Xt(11))):(Zo(t.j,t.m,n,"[Invalid Chunked Response]"),ji(t),Zl(t))}H.mb=function(){if(this.g){var t=Tr(this.g),e=this.g.ja();this.o<e.length&&(ip(this),zb(this,t,e),this.i&&t!=4&&Cc(this))}};function LU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?my:(n=Number(e.substring(n,r)),isNaN(n)?$b:(r+=1,r+n>e.length?my:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,ji(this)};function Cc(t){t.Y=Date.now()+t.P,Wb(t,t.P)}function Wb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Tc($t(t.lb,t),e)}function ip(t){t.C&&(fe.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(OU(this.j,this.B),this.L!=2&&(Fu(),Xt(17)),ji(this),this.s=2,Zl(this)):Wb(this,this.Y-t)};function Zl(t){t.l.H==0||t.J||hA(t.l,t)}function ji(t){ip(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,A_(t.V),Ob(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vy(n.i,t))){if(!t.K&&vy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)jh(n),cp(n);else break e;V_(n),Xt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Tc($t(n.ib,n),6e3));if(1>=Xb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else $i(n,11)}else if((t.K||n.g==t)&&jh(n),!Ou(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const _=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(O_(i,i.h),i.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=mA(r,r.J?r.pa:null,r.Y),o.K){Jb(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(ip(a),Cc(a)),r.g=o}else cA(r);0<n.j.length&&dp(n)}else u[0]!="stop"&&u[0]!="close"||$i(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?$i(n,7):L_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Fu(4)}catch{}}function VU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Gf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function FU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Hb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Gf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=FU(t),r=VU(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var qb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Yi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yi){this.h=t.h,Vh(this,t.j),this.s=t.s,this.g=t.g,Fh(this,t.m),this.l=t.l;var e=t.i,n=new ju;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ix(this,n),this.o=t.o}else t&&(e=String(t).match(qb))?(this.h=!1,Vh(this,e[1]||"",!0),this.s=Nl(e[2]||""),this.g=Nl(e[3]||"",!0),Fh(this,e[4]),this.l=Nl(e[5]||"",!0),ix(this,e[6]||"",!0),this.o=Nl(e[7]||"")):(this.h=!1,this.i=new ju(null,this.h))}Yi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ol(e,ox,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ol(e,ox,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ol(n,n.charAt(0)=="/"?BU:UU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ol(n,WU)),t.join("")};function fs(t){return new Yi(t)}function Vh(t,e,n){t.j=n?Nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ix(t,e,n){e instanceof ju?(t.i=e,HU(t.i,t.h)):(n||(e=Ol(e,zU)),t.i=new ju(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function op(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ol(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$U),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $U(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ox=/[#\/\?@]/g,UU=/[#\?:]/g,BU=/[#\?]/g,zU=/[#\?@]/g,WU=/#/g;function ju(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ki(t){t.g||(t.g=new Map,t.h=0,t.i&&jU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=ju.prototype;H.add=function(t,e){ki(this),this.i=null,t=nl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Kb(t,e){ki(t),e=nl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Gb(t,e){return ki(t),e=nl(t,e),t.g.has(e)}H.forEach=function(t,e){ki(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};H.ta=function(){ki(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};H.Z=function(t){ki(this);let e=[];if(typeof t=="string")Gb(this,t)&&(e=e.concat(this.g.get(nl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return ki(this),this.i=null,t=nl(this,t),Gb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Qb(t,e,n){Kb(t,e),0<n.length&&(t.i=null,t.g.set(nl(t,e),w_(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function nl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function HU(t,e){e&&!t.j&&(ki(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Kb(this,r),Qb(this,s,n))},t)),t.j=e}var qU=class{constructor(t,e){this.g=t,this.map=e}};function Yb(t){this.l=t||KU,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KU=10;function Zb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Xb(t){return t.h?1:t.g?t.g.size:0}function vy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function O_(t,e){t.g?t.g.add(e):t.h=e}function Jb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Yb.prototype.cancel=function(){if(this.i=eA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function eA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return w_(t.i)}var GU=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function QU(){this.g=new GU}function YU(t,e,n){const r=n||"";try{Hb(t,function(s,i){let o=s;Qf(s)&&(o=C_(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function ZU(t,e){const n=new tp;if(fe.Image){const r=new Image;r.onload=hd(pd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hd(pd,n,r,"TestLoadImage: error",!1,e),r.onabort=hd(pd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hd(pd,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function pd(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ap(t){this.l=t.ec||null,this.j=t.ob||!1}Tt(ap,k_);ap.prototype.g=function(){return new lp(this.l,this.j)};ap.prototype.i=function(t){return function(){return t}}({});function lp(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=D_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tt(lp,xt);var D_=0;H=lp.prototype;H.open=function(t,e){if(this.readyState!=D_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$u(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bc(this)),this.readyState=D_};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$u(this)),this.g&&(this.readyState=3,$u(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function tA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?bc(this):$u(this),this.readyState==3&&tA(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,bc(this))};H.Ya=function(t){this.g&&(this.response=t,bc(this))};H.ka=function(){this.g&&bc(this)};function bc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$u(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function $u(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(lp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var XU=fe.JSON.parse;function it(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nA,this.L=this.M=!1}Tt(it,xt);var nA="",JU=/^https?$/i,e9=["POST","PUT"];H=it.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():py.g(),this.C=this.u?sx(this.u):sx(py),this.g.onreadystatechange=$t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){ax(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=fe.FormData&&t instanceof fe.FormData,!(0<=_b(e9,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iA(this),0<this.B&&((this.L=t9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$t(this.ua,this)):this.A=R_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){ax(this,i)}};function t9(t){return Da&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof __<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))};function ax(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,rA(t),up(t)}function rA(t){t.F||(t.F=!0,Rt(t,"complete"),Rt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),up(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),up(this,!0)),it.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?sA(this):this.kb())};H.kb=function(){sA(this)};function sA(t){if(t.h&&typeof __<"u"&&(!t.C[1]||Tr(t)!=4||t.da()!=2)){if(t.v&&Tr(t)==4)R_(t.La,0,t);else if(Rt(t,"readystatechange"),Tr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(qb)[1]||null;!s&&fe.self&&fe.self.location&&(s=fe.self.location.protocol.slice(0,-1)),r=!JU.test(s?s.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var i=2<Tr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",rA(t)}}finally{up(t)}}}}function up(t,e){if(t.g){iA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function iA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function Tr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),XU(e)}};function lx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case nA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function n9(t){const e={};t=(t.g&&2<=Tr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ou(t[r]))continue;var n=bU(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}_U(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function oA(t){let e="";return x_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function M_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=oA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function El(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function aA(t){this.Ga=0,this.j=[],this.l=new tp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=El("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=El("baseRetryDelayMs",5e3,t),this.hb=El("retryDelaySeedMs",1e4,t),this.eb=El("forwardChannelMaxRetries",2,t),this.xa=El("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Yb(t&&t.concurrentRequestLimit),this.Ja=new QU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=aA.prototype;H.ra=8;H.H=1;function L_(t){if(lA(t),t.H==3){var e=t.W++,n=fs(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),Ac(t,n),e=new Sc(t,t.l,e),e.L=2,e.A=op(fs(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.A,n=!0),n||(e.g=gA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Cc(e)}pA(t)}function cp(t){t.g&&(F_(t),t.g.cancel(),t.g=null)}function lA(t){cp(t),t.u&&(fe.clearTimeout(t.u),t.u=null),jh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function dp(t){if(!Zb(t.i)&&!t.m){t.m=!0;var e=t.Na;Mu||kb(),Lu||(Mu(),Lu=!0),b_.add(e,t),t.C=0}}function r9(t,e){return Xb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Tc($t(t.Na,t,e),fA(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Sc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Tb(i),Ib(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uA(this,s,e),n=fs(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),Ac(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(oA(i)))+"&"+e:this.o&&M_(n,this.o,i)),O_(this.i,s),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),s.aa=!0,gy(s,n,null)):gy(s,n,e),this.H=2}}else this.H==3&&(t?ux(this,t):this.j.length==0||Zb(this.i)||ux(this))};function ux(t,e){var n;e?n=e.m:n=t.W++;const r=fs(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),Ac(t,r),t.o&&t.s&&M_(r,t.o,t.s),n=new Sc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),O_(t.i,n),gy(n,r,e)}function Ac(t,e){t.na&&x_(t.na,function(n,r){qe(e,r,n)}),t.h&&Hb({},function(n,r){qe(e,r,n)})}function uA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$t(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const c=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{YU(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Mu||kb(),Lu||(Mu(),Lu=!0),b_.add(e,t),t.A=0}}function V_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Tc($t(t.Ma,t),fA(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,dA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Tc($t(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xt(10),cp(this),dA(this))};function F_(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function dA(t){t.g=new Sc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=fs(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),Ac(t,e),t.o&&t.s&&M_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=op(fs(e)),n.u=null,n.S=!0,Ub(n,t)}H.ib=function(){this.v!=null&&(this.v=null,cp(this),V_(this),Xt(19))};function jh(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function hA(t,e){var n=null;if(t.g==e){jh(t),F_(t),t.g=null;var r=2}else if(vy(t.i,e))n=e.F,Jb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=np(),Rt(r,new Lb(r,n)),dp(t)}else cA(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&r9(t,e)||r==2&&V_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:$i(t,5);break;case 4:$i(t,10);break;case 3:$i(t,6);break;default:$i(t,2)}}}function fA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function $i(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$t(t.pb,t);n||(n=new Yi("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||Vh(n,"https"),op(n)),ZU(n.toString(),r)}else Xt(2);t.H=0,t.h&&t.h.za(e),pA(t),lA(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xt(2)):(this.l.info("Failed to ping google.com"),Xt(1))};function pA(t){if(t.H=0,t.ma=[],t.h){const e=eA(t.i);(e.length!=0||t.j.length!=0)&&(JE(t.ma,e),JE(t.ma,t.j),t.i.i.length=0,w_(t.j),t.j.length=0),t.h.ya()}}function mA(t,e,n){var r=n instanceof Yi?fs(n):new Yi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Fh(r,r.m);else{var s=fe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Yi(null);r&&Vh(i,r),e&&(i.g=e),s&&Fh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),Ac(t,r),r}function gA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new it(new ap({ob:n})):new it(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function yA(){}H=yA.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function $h(){if(Da&&!(10<=Number(mU)))throw Error("Environmental error: no available transport.")}$h.prototype.g=function(t,e){return new Cn(t,e)};function Cn(t,e){xt.call(this),this.g=new aA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ou(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ou(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new rl(this)}Tt(Cn,xt);Cn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=mA(t,null,t.Y),dp(t)};Cn.prototype.close=function(){L_(this.g)};Cn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=C_(t),t=n);e.j.push(new qU(e.fb++,t)),e.H==3&&dp(e)};Cn.prototype.N=function(){this.g.h=null,delete this.j,L_(this.g),delete this.g,Cn.$.N.call(this)};function vA(t){P_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Tt(vA,P_);function _A(){N_.call(this),this.status=1}Tt(_A,N_);function rl(t){this.g=t}Tt(rl,yA);rl.prototype.Ba=function(){Rt(this.g,"a")};rl.prototype.Aa=function(t){Rt(this.g,new vA(t))};rl.prototype.za=function(t){Rt(this.g,new _A)};rl.prototype.ya=function(){Rt(this.g,"b")};function s9(){this.blockSize=-1}function sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Tt(sr,s9);sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}sr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)bm(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){bm(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){bm(this,r),s=0;break}}this.h=s,this.i+=e};sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Le(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var i9={};function j_(t){return-128<=t&&128>t?hU(t,function(e){return new Le([e|0],0>e?-1:0)}):new Le([t|0],0>t?-1:0)}function Ir(t){if(isNaN(t)||!isFinite(t))return ua;if(0>t)return Ct(Ir(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_y;return new Le(e,0)}function wA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ct(wA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ir(Math.pow(e,8)),r=ua,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Ir(Math.pow(e,i)),r=r.R(i).add(Ir(o))):(r=r.R(n),r=r.add(Ir(o)))}return r}var _y=4294967296,ua=j_(0),wy=j_(1),cx=j_(16777216);H=Le.prototype;H.ea=function(){if(Dn(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_y+r)*e,e*=_y}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ns(this))return"0";if(Dn(this))return"-"+Ct(this).toString(t);for(var e=Ir(Math.pow(t,6)),n=this,r="";;){var s=Bh(n,e).g;n=Uh(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,ns(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ns(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Dn(t){return t.h==-1}H.X=function(t){return t=Uh(this,t),Dn(t)?-1:ns(t)?0:1};function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Le(n,~t.h).add(wy)}H.abs=function(){return Dn(this)?Ct(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Le(n,n[n.length-1]&-2147483648?-1:0)};function Uh(t,e){return t.add(Ct(e))}H.R=function(t){if(ns(this)||ns(t))return ua;if(Dn(this))return Dn(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(Dn(t))return Ct(this.R(Ct(t)));if(0>this.X(cx)&&0>t.X(cx))return Ir(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,md(n,2*r+2*s),n[2*r+2*s+1]+=i*l,md(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,md(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,md(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Le(n,0)};function md(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xl(t,e){this.g=t,this.h=e}function Bh(t,e){if(ns(e))throw Error("division by zero");if(ns(t))return new xl(ua,ua);if(Dn(t))return e=Bh(Ct(t),e),new xl(Ct(e.g),Ct(e.h));if(Dn(e))return e=Bh(t,Ct(e)),new xl(Ct(e.g),e.h);if(30<t.g.length){if(Dn(t)||Dn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wy,r=e;0>=r.X(t);)n=dx(n),r=dx(r);var s=Ro(n,1),i=Ro(r,1);for(r=Ro(r,2),n=Ro(n,2);!ns(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Ro(r,1),n=Ro(n,1)}return e=Uh(t,s.R(e)),new xl(s,e)}for(s=ua;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ir(n),o=i.R(e);Dn(o)||0<o.X(t);)n-=r,i=Ir(n),o=i.R(e);ns(i)&&(i=wy),s=s.add(i),t=Uh(t,o)}return new xl(s,t)}H.gb=function(t){return Bh(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Le(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Le(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Le(n,this.h^t.h)};function dx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Le(n,t.h)}function Ro(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Le(s,t.h)}$h.prototype.createWebChannel=$h.prototype.g;Cn.prototype.send=Cn.prototype.u;Cn.prototype.open=Cn.prototype.m;Cn.prototype.close=Cn.prototype.close;rp.NO_ERROR=0;rp.TIMEOUT=8;rp.HTTP_ERROR=6;Vb.COMPLETE="complete";Fb.EventType=Ic;Ic.OPEN="a";Ic.CLOSE="b";Ic.ERROR="c";Ic.MESSAGE="d";xt.prototype.listen=xt.prototype.O;it.prototype.listenOnce=it.prototype.P;it.prototype.getLastError=it.prototype.Sa;it.prototype.getLastErrorCode=it.prototype.Ia;it.prototype.getStatus=it.prototype.da;it.prototype.getResponseJson=it.prototype.Wa;it.prototype.getResponseText=it.prototype.ja;it.prototype.send=it.prototype.ha;it.prototype.setWithCredentials=it.prototype.Oa;sr.prototype.digest=sr.prototype.l;sr.prototype.reset=sr.prototype.reset;sr.prototype.update=sr.prototype.j;Le.prototype.add=Le.prototype.add;Le.prototype.multiply=Le.prototype.R;Le.prototype.modulo=Le.prototype.gb;Le.prototype.compare=Le.prototype.X;Le.prototype.toNumber=Le.prototype.ea;Le.prototype.toString=Le.prototype.toString;Le.prototype.getBits=Le.prototype.D;Le.fromNumber=Ir;Le.fromString=wA;var o9=function(){return new $h},a9=function(){return np()},Am=rp,l9=Vb,u9=xo,hx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gd=Fb,c9=it,d9=sr,ca=Le;const fx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new l_("@firebase/firestore");function Tl(){return lo.logLevel}function te(t,...e){if(lo.logLevel<=Se.DEBUG){const n=e.map($_);lo.debug(`Firestore (${sl}): ${t}`,...n)}}function ps(t,...e){if(lo.logLevel<=Se.ERROR){const n=e.map($_);lo.error(`Firestore (${sl}): ${t}`,...n)}}function Ma(t,...e){if(lo.logLevel<=Se.WARN){const n=e.map($_);lo.warn(`Firestore (${sl}): ${t}`,...n)}}function $_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+t;throw ps(e),new Error(e)}function Ue(t,e){t||he()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class f9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p9{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new oi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new oi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new EA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Vt(e)}}class m9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class g9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new m9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new y9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=_9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function La(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new pt(0,0))}static max(){return new pe(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends Uu{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const w9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Uu{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return w9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ke.fromString(e))}static fromName(e){return new ie(Ke.fromString(e).popFirst(5))}static empty(){return new ie(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ke(e.slice()))}}function E9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new gi(s,ie.empty(),e)}function x9(t){return new gi(t.readTime,t.key,-1)}class gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gi(pe.min(),ie.empty(),-1)}static max(){return new gi(pe.max(),ie.empty(),-1)}}function T9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==I9)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function kc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}U_._e=-1;function hp(t){return t==null}function zh(t){return t===0&&1/t==-1/0}function C9(t){return typeof t=="number"&&Number.isInteger(t)&&!zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mx(this.data.getIterator())}getIteratorFrom(e){return new mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new kt(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IA("Invalid base64 string: "+i):i}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const b9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=b9.exec(t);if(Ue(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function z_(t){const e=t.mapValue.fields.__previous_value__;return B_(e)?z_(e):e}function Bu(t){const e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B_(t)?4:R9(t)?9007199254740991:10:he()}function Lr(t,e){if(t===e)return!0;const n=co(t);if(n!==co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=yi(s.timestampValue),a=yi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return uo(s.bytesValue).isEqual(uo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ct(s.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ct(s.integerValue)===ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ct(s.doubleValue),a=ct(i.doubleValue);return o===a?zh(o)===zh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(px(o)!==px(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Lr(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function Wu(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function Va(t,e){if(t===e)return 0;const n=co(t),r=co(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ct(i.integerValue||i.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return gx(t.timestampValue,e.timestampValue);case 4:return gx(Bu(t),Bu(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(i,o){const a=uo(i),l=uo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ne(a[u],l[u]);if(c!==0)return c}return Ne(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ne(ct(i.latitude),ct(o.latitude));return a!==0?a:Ne(ct(i.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Va(a[u],l[u]);if(c)return c}return Ne(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===vd.mapValue&&o===vd.mapValue)return 0;if(i===vd.mapValue)return 1;if(o===vd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ne(l[d],c[d]);if(h!==0)return h;const f=Va(a[l[d]],u[c[d]]);if(f!==0)return f}return Ne(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function gx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=yi(t),r=yi(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function Fa(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ey(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ey(n.fields[o])}`;return s+"}"}(t.mapValue):he()}function yx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xy(t){return!!t&&"integerValue"in t}function W_(t){return!!t&&"arrayValue"in t}function vx(t){return!!t&&"nullValue"in t}function _x(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hd(t){return!!t&&"mapValue"in t}function Xl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function R9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=bt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Xl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){To(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new un(Xl(this.value))}}function SA(t){const e=[];return To(t.fields,(n,r)=>{const s=new bt([n]);if(Hd(r)){const i=SA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,pe.min(),pe.min(),pe.min(),un.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,pe.min(),pe.min(),un.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,pe.min(),pe.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.position=e,this.inclusive=n}}function wx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=Va(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ex(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function k9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class ft extends CA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new N9(e,n,r):n==="array-contains"?new M9(e,r):n==="in"?new L9(e,r):n==="not-in"?new V9(e,r):n==="array-contains-any"?new F9(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new O9(e,r):new D9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Va(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(Va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends CA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ir(e,n)}matches(e){return bA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function bA(t){return t.op==="and"}function AA(t){return P9(t)&&bA(t)}function P9(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function Ty(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Fa(t.value);if(AA(t))return t.filters.map(e=>Ty(e)).join(",");{const e=t.filters.map(n=>Ty(n)).join(",");return`${t.op}(${e})`}}function RA(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Lr(r.value,s.value)}(t,e):t instanceof ir?function(r,s){return s instanceof ir&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&RA(o,s.filters[a]),!0):!1}(t,e):void he()}function kA(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(t):t instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(kA).join(" ,")+"}"}(t):"Filter"}class N9 extends ft{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class O9 extends ft{constructor(e,n){super(e,"in",n),this.keys=PA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class D9 extends ft{constructor(e,n){super(e,"not-in",n),this.keys=PA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class M9 extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return W_(n)&&Wu(n.arrayValue,this.value)}}class L9 extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}}class V9 extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wu(this.value.arrayValue,n)}}class F9 extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!W_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function xx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new j9(t,e,n,r,s,i,o)}function H_(t){const e=ge(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ty(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fa(r)).join(",")),e.ce=n}return e.ce}function q_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ex(t.startAt,e.startAt)&&Ex(t.endAt,e.endAt)}function Iy(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function $9(t,e,n,r,s,i,o,a){return new il(t,e,n,r,s,i,o,a)}function fp(t){return new il(t)}function Tx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NA(t){return t.collectionGroup!==null}function Jl(t){const e=ge(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(bt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Hu(i,r))}),n.has(bt.keyField().canonicalString())||e.le.push(new Hu(bt.keyField(),r))}return e.le}function Pr(t){const e=ge(t);return e.he||(e.he=U9(e,Jl(t))),e.he}function U9(t,e){if(t.limitType==="F")return xx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Hu(s.field,i)});const n=t.endAt?new Wh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wh(t.startAt.position,t.startAt.inclusive):null;return xx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sy(t,e){const n=t.filters.concat([e]);return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cy(t,e,n){return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pp(t,e){return q_(Pr(t),Pr(e))&&t.limitType===e.limitType}function OA(t){return`${H_(Pr(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>kA(s)).join(", ")}]`),hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fa(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function mp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=wx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Jl(r),s)||r.endAt&&!function(o,a,l){const u=wx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Jl(r),s))}(t,e)}function B9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DA(t){return(e,n)=>{let r=!1;for(const s of Jl(t)){const i=z9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function z9(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Va(l,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return TA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=new et(ie.comparator);function ms(){return W9}const MA=new et(ie.comparator);function Dl(...t){let e=MA;for(const n of t)e=e.insert(n.key,n);return e}function LA(t){let e=MA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ui(){return eu()}function VA(){return eu()}function eu(){return new ol(t=>t.toString(),(t,e)=>t.isEqual(e))}const H9=new et(ie.comparator),q9=new kt(ie.comparator);function Ie(...t){let e=q9;for(const n of t)e=e.add(n);return e}const K9=new kt(Ne);function G9(){return K9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function jA(t){return{integerValue:""+t}}function Q9(t,e){return C9(e)?jA(e):FA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this._=void 0}}function Y9(t,e,n){return t instanceof Hh?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&B_(i)&&(i=z_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof qu?UA(t,e):t instanceof Ku?BA(t,e):function(s,i){const o=$A(s,i),a=Ix(o)+Ix(s.Ie);return xy(o)&&xy(s.Ie)?jA(a):FA(s.serializer,a)}(t,e)}function Z9(t,e,n){return t instanceof qu?UA(t,e):t instanceof Ku?BA(t,e):n}function $A(t,e){return t instanceof qh?function(r){return xy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Hh extends gp{}class qu extends gp{constructor(e){super(),this.elements=e}}function UA(t,e){const n=zA(e);for(const r of t.elements)n.some(s=>Lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ku extends gp{constructor(e){super(),this.elements=e}}function BA(t,e){let n=zA(e);for(const r of t.elements)n=n.filter(s=>!Lr(s,r));return{arrayValue:{values:n}}}class qh extends gp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ix(t){return ct(t.integerValue||t.doubleValue)}function zA(t){return W_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function X9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof qu&&s instanceof qu||r instanceof Ku&&s instanceof Ku?La(r.elements,s.elements,Lr):r instanceof qh&&s instanceof qh?Lr(r.Ie,s.Ie):r instanceof Hh&&s instanceof Hh}(t.transform,e.transform)}class J9{constructor(e,n){this.version=e,this.transformResults=n}}class Nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yp{}function WA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qA(t.key,Nr.none()):new Pc(t.key,t.data,Nr.none());{const n=t.data,r=un.empty();let s=new kt(bt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Pi(t.key,r,new wn(s.toArray()),Nr.none())}}function e3(t,e,n){t instanceof Pc?function(s,i,o){const a=s.value.clone(),l=Cx(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(s,i,o){if(!qd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Cx(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(HA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tu(t,e,n,r){return t instanceof Pc?function(i,o,a,l){if(!qd(i.precondition,o))return a;const u=i.value.clone(),c=bx(i.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(i,o,a,l){if(!qd(i.precondition,o))return a;const u=bx(i.fieldTransforms,l,o),c=o.data;return c.setAll(HA(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return qd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function t3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=$A(r.transform,s||null);i!=null&&(n===null&&(n=un.empty()),n.set(r.field,i))}return n||null}function Sx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&La(r,s,(i,o)=>X9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pc extends yp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Pi extends yp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function HA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Cx(t,e,n){const r=new Map;Ue(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Z9(o,a,n[s]))}return r}function bx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Y9(i,o,e))}return r}class qA extends yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n3 extends yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&e3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=WA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,r)=>Sx(n,r))&&La(this.baseMutations,e.baseMutations,(n,r)=>Sx(n,r))}}class K_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ue(e.mutations.length===r.length);let s=function(){return H9}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new K_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ce;function o3(t){switch(t){default:return he();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function KA(t){if(t===void 0)return ps("GRPC error has no .code"),O.UNKNOWN;switch(t){case ut.OK:return O.OK;case ut.CANCELLED:return O.CANCELLED;case ut.UNKNOWN:return O.UNKNOWN;case ut.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ut.INTERNAL:return O.INTERNAL;case ut.UNAVAILABLE:return O.UNAVAILABLE;case ut.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ut.NOT_FOUND:return O.NOT_FOUND;case ut.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ut.ABORTED:return O.ABORTED;case ut.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ut.DATA_LOSS:return O.DATA_LOSS;default:return he()}}(Ce=ut||(ut={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new ca([4294967295,4294967295],0);function Ax(t){const e=a3().encode(t),n=new d9;return n.update(e),new Uint8Array(n.digest())}function Rx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ca([n,r],0),new ca([s,i],0)]}class G_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ca.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(ca.fromNumber(r)));return s.compare(l3)===1&&(s=new ca([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Ax(e),[r,s]=Rx(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new G_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Ax(e),[r,s]=Rx(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vp(pe.min(),s,new et(Ne),ms(),Ie())}}class Nc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class GA{constructor(e,n){this.targetId=e,this.fe=n}}class QA{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class kx{constructor(){this.ge=0,this.pe=Nx(),this.ye=Ht.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he()}}),new Nc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Nx()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ue(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class u3{constructor(e){this.Le=e,this.ke=new Map,this.qe=ms(),this.Qe=Px(),this.Ke=new et(Ne)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Iy(i))if(r===0){const o=new ie(i.path);this.We(n,o,jt.newNoDocument(o,pe.min()))}else Ue(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=uo(r).toUint8Array()}catch(l){if(l instanceof IA)return Ma("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new G_(o,s,i)}catch(l){return Ma(l instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Iy(a.target)){const l=new ie(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,jt.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=Ie();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new vp(e,n,this.Ke,this.qe,r);return this.qe=ms(),this.Qe=Px(),this.Ke=new et(Ne),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new kx,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new kt(Ne),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new kx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Px(){return new et(ie.comparator)}function Nx(){return new et(ie.comparator)}const c3={asc:"ASCENDING",desc:"DESCENDING"},d3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h3={and:"AND",or:"OR"};class f3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function by(t,e){return t.useProto3Json||hp(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p3(t,e){return Kh(t,e.toTimestamp())}function Or(t){return Ue(!!t),pe.fromTimestamp(function(n){const r=yi(n);return new pt(r.seconds,r.nanos)}(t))}function Q_(t,e){return function(r){return new Ke(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function ZA(t){const e=Ke.fromString(t);return Ue(tR(e)),e}function Ay(t,e){return Q_(t.databaseId,e.path)}function Rm(t,e){const n=ZA(e);if(n.get(1)!==t.databaseId.projectId)throw new J(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(XA(n))}function Ry(t,e){return Q_(t.databaseId,e)}function m3(t){const e=ZA(t);return e.length===4?Ke.emptyPath():XA(e)}function ky(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XA(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ox(t,e,n){return{name:Ay(t,e),fields:n.value.mapValue.fields}}function g3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(Ue(c===void 0||typeof c=="string"),Ht.fromBase64String(c||"")):(Ue(c===void 0||c instanceof Uint8Array),Ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?O.UNKNOWN:KA(u.code);return new J(c,u.message||"")}(o);n=new QA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Rm(t,r.document.name),i=Or(r.document.updateTime),o=r.document.createTime?Or(r.document.createTime):pe.min(),a=new un({mapValue:{fields:r.document.fields}}),l=jt.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Kd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Rm(t,r.document),i=r.readTime?Or(r.readTime):pe.min(),o=jt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Kd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Rm(t,r.document),i=r.removedTargetIds||[];n=new Kd([],i,s,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new i3(s,i),a=r.targetId;n=new GA(a,o)}}return n}function y3(t,e){let n;if(e instanceof Pc)n={update:Ox(t,e.key,e.value)};else if(e instanceof qA)n={delete:Ay(t,e.key)};else if(e instanceof Pi)n={update:Ox(t,e.key,e.data),updateMask:C3(e.fieldMask)};else{if(!(e instanceof n3))return he();n={verify:Ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Hh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:p3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function v3(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Or(s.updateTime):Or(i);return o.isEqual(pe.min())&&(o=Or(i)),new J9(o,s.transformResults||[])}(n,e))):[]}function _3(t,e){return{documents:[Ry(t,e.path)]}}function w3(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ry(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ry(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return eR(ir.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Mo(d.field),direction:T3(d.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=by(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function E3(t){let e=m3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(d){const h=JA(d);return h instanceof ir&&AA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(_){return new Hu(Lo(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,hp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Wh(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Wh(f,h)}(n.endAt)),$9(e,s,o,i,a,"F",l,u)}function x3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Lo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Lo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lo(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(Lo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(r=>JA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function T3(t){return c3[t]}function I3(t){return d3[t]}function S3(t){return h3[t]}function Mo(t){return{fieldPath:t.canonicalString()}}function Lo(t){return bt.fromServerFormat(t.fieldPath)}function eR(t){return t instanceof ft?function(n){if(n.op==="=="){if(_x(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(vx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_x(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(vx(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:I3(n.op),value:n.value}}}(t):t instanceof ir?function(n){const r=n.getFilters().map(s=>eR(s));return r.length===1?r[0]:{compositeFilter:{op:S3(n.op),filters:r}}}(t):he()}function C3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.ut=e}}function A3(t){const e=E3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.on=new k3}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(gi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class k3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new kt(Ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new kt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ja(0)}static Nn(){return new ja(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.changes=new ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&tu(r.mutation,s,wn.empty(),pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Ui();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Dl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ms();const o=eu(),a=function(){return eu()}();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof Pi)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),tu(c.mutation,u,c.mutation.getFieldMask(),pt.now())):o.set(u.key,wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new N3(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=eu();let s=new et((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||wn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=VA();c.forEach(h=>{if(!i.has(h)){const f=WA(n.get(h),r.get(h));f!==null&&d.set(h,f),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(Ui());let a=-1,l=i;return o.next(u=>M.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(c)?M.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ie())).next(c=>({batchId:a,changes:LA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=Dl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Dl();return this.indexManager.getCollectionParents(e,i).next(a=>M.forEach(a,l=>{const u=function(d,h){return new il(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,jt.newInvalidDocument(c)))});let a=Dl();return o.forEach((l,u)=>{const c=i.get(l);c!==void 0&&tu(c.mutation,u,wn.empty(),pt.now()),mp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Or(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:A3(s.bundledQuery),readTime:Or(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.overlays=new et(ie.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ui();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=Ui(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Ui(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ui(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return M.resolve(a)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s3(n,r));let i=this.lr.get(n);i===void 0&&(i=Ie(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.hr=new kt(_t.Pr),this.Ir=new kt(_t.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new _t(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ie(new Ke([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ie(new Ke([])),r=new _t(n,e),s=new _t(n,e+1);let i=Ie();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ie.comparator(e.key,n.key)||Ne(e.gr,n.gr)}static Tr(e,n){return Ne(e.gr,n.gr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new kt(_t.Pr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new r3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ne);return n.forEach(s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new _t(new ie(i),0);let a=new kt(Ne);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ue(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new _t(n,0),s=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.Cr=e,this.docs=function(){return new et(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ms();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||T9(x9(c),r)<=0||(s.has(c.key)||mp(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new F3(this)}getSize(e){return M.resolve(this.size)}}class F3 extends P3{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.persistence=e,this.Fr=new ol(n=>H_(n),q_),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Y_,this.targetCount=0,this.Nr=ja.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ja(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.Br={},this.overlays={},this.Lr=new U_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new j3(this),this.indexManager=new R3,this.remoteDocumentCache=function(s){return new V3(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new b3(n),this.Kr=new D3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new L3(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new U3(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class U3 extends S9{constructor(e){super(),this.currentSequenceNumber=e}}class Z_{constructor(e){this.persistence=e,this.Gr=new Y_,this.zr=null}static jr(e){return new Z_(e)}get Hr(){if(this.zr)return this.zr;throw he()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const s=ie.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new X_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new B3;return this.Hi(e,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Tl()<=Se.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(Tl()<=Se.DEBUG&&te("QueryEngine","Query:",Do(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Tl()<=Se.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):M.resolve())}zi(e,n){if(Tx(n))return M.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Cy(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Cy(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,s){return Tx(n)||s.isEqual(pe.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?M.resolve(null):(Tl()<=Se.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Do(n)),this.Xi(e,o,n,E9(s,-1)).next(a=>a))})}Yi(e,n){let r=new kt(DA(e));return n.forEach((s,i)=>{mp(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return Tl()<=Se.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Do(n)),this.Gi.getDocumentsMatchingQuery(e,n,gi.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new et(Ne),this.ns=new ol(i=>H_(i),q_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O3(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function H3(t,e,n,r){return new W3(t,e,n,r)}async function nR(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function q3(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=M.resolve();return h.forEach(_=>{f=f.next(()=>c.getEntry(l,_)).next(g=>{const w=u.docVersions.get(_);Ue(w!==null),g.version.compareTo(w)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rR(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function K3(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=s.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(i,c.addedDocuments,d)));let f=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Ht.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),s=s.insert(d,f),function(g,w,v){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(i,f))});let l=ms(),u=Ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(G3(i,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(pe.min())){const c=n.qr.getLastRemoteSnapshotVersion(i).next(d=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ts=s,i))}function G3(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ms();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:s}})}function Q3(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y3(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Gs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Py(t,e,n){const r=ge(t),s=r.ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!kc(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function Dx(t,e,n){const r=ge(t);let s=pe.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=ge(l),h=d.ns.get(c);return h!==void 0?M.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,Pr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:Ie())).next(a=>(Z3(r,B9(e),a),{documents:a,ls:i})))}function Z3(t,e,n){let r=t.rs.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.rs.set(e,r)}class Mx{constructor(){this.activeTargetIds=G9()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X3{constructor(){this.eo=new Mx,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Mx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function km(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class n5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=km(),l=this.So(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,i,o),this.Do(n,l,u,s).then(c=>(te("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ma("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",s),c})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=e5[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=km();return new Promise((o,a)=>{const l=new c9;l.setWithCredentials(!0),l.listenOnce(l9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Am.NO_ERROR:const c=l.getResponseJson();te(Mt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case Am.TIMEOUT:te(Mt,`RPC '${e}' ${i} timed out`),a(new J(O.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const d=l.getStatus();if(te(Mt,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const _=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(v)>=0?v:O.UNKNOWN}(f.status);a(new J(_,f.message))}else a(new J(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(O.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{te(Mt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);te(Mt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}vo(e,n,r){const s=km(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o9(),a=a9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");te(Mt,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const _=new t5({co:w=>{f?te(Mt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(h||(te(Mt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),te(Mt,`RPC '${e}' stream ${s} sending:`,w),d.send(w))},lo:()=>d.close()}),g=(w,v,m)=>{w.listen(v,E=>{try{m(E)}catch(x){setTimeout(()=>{throw x},0)}})};return g(d,gd.EventType.OPEN,()=>{f||te(Mt,`RPC '${e}' stream ${s} transport opened.`)}),g(d,gd.EventType.CLOSE,()=>{f||(f=!0,te(Mt,`RPC '${e}' stream ${s} transport closed`),_.Ro())}),g(d,gd.EventType.ERROR,w=>{f||(f=!0,Ma(Mt,`RPC '${e}' stream ${s} transport errored:`,w),_.Ro(new J(O.UNAVAILABLE,"The operation could not be completed")))}),g(d,gd.EventType.MESSAGE,w=>{var v;if(!f){const m=w.data[0];Ue(!!m);const E=m,x=E.error||((v=E[0])===null||v===void 0?void 0:v.error);if(x){te(Mt,`RPC '${e}' stream ${s} received error:`,x);const T=x.status;let C=function(j){const L=ut[j];if(L!==void 0)return KA(L)}(T),b=x.message;C===void 0&&(C=O.INTERNAL,b="Unknown error status: "+T+" with message "+x.message),f=!0,_.Ro(new J(C,b)),d.close()}else te(Mt,`RPC '${e}' stream ${s} received:`,m),_.Vo(m)}}),g(a,u9.STAT_EVENT,w=>{w.stat===hx.PROXY?te(Mt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===hx.NOPROXY&&te(Mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){return new f3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new sR(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new J(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r5 extends iR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=g3(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Or(o.readTime):pe.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=ky(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Iy(l)?{documents:_3(i,l)}:{query:w3(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=YA(i,o.resumeToken);const u=by(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=Kh(i,o.snapshotVersion.toTimestamp());const u=by(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=x3(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=ky(this.serializer),n.removeTarget=e,this.e_(n)}}class s5 extends iR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=v3(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.I_(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=ky(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>y3(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new J(O.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(O.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(O.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class o5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ps(n),this.f_=!1):te("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Io(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ge(l);u.C_.add(4),await Oc(u),u.M_.set("Unknown"),u.C_.delete(4),await wp(u)}(this))})}),this.M_=new o5(r,s)}}async function wp(t){if(Io(t))for(const e of t.v_)await e(!0)}async function Oc(t){for(const e of t.v_)await e(!1)}function oR(t,e){const n=ge(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),tw(n)?ew(n):al(n).Ho()&&J_(n,e))}function aR(t,e){const n=ge(t),r=al(n);n.D_.delete(e),r.Ho()&&lR(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Io(n)&&n.M_.set("Unknown"))}function J_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).u_(e)}function lR(t,e){t.x_.Oe(e),al(t).c_(e)}function ew(t){t.x_=new u3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),al(t).start(),t.M_.g_()}function tw(t){return Io(t)&&!al(t).jo()&&t.D_.size>0}function Io(t){return ge(t).C_.size===0}function uR(t){t.x_=void 0}async function l5(t){t.D_.forEach((e,n)=>{J_(t,e)})}async function u5(t,e){uR(t),tw(t)?(t.M_.w_(e),ew(t)):t.M_.set("Unknown")}async function c5(t,e,n){if(t.M_.set("Online"),e instanceof QA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gh(t,r)}else if(e instanceof Kd?t.x_.$e(e):e instanceof GA?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(pe.min()))try{const r=await rR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.D_.get(u);c&&i.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=i.D_.get(l);if(!c)return;i.D_.set(l,c.withResumeToken(Ht.EMPTY_BYTE_STRING,c.snapshotVersion)),lR(i,l);const d=new Gs(c.target,l,u,c.sequenceNumber);J_(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Gh(t,r)}}async function Gh(t,e,n){if(!kc(e))throw e;t.C_.add(1),await Oc(t),t.M_.set("Offline"),n||(n=()=>rR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await wp(t)})}function cR(t,e){return e().catch(n=>Gh(t,n,e))}async function Ep(t){const e=ge(t),n=vi(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;d5(e);)try{const s=await Q3(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,h5(e,s)}catch(s){await Gh(e,s)}dR(e)&&hR(e)}function d5(t){return Io(t)&&t.b_.length<10}function h5(t,e){t.b_.push(e);const n=vi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function dR(t){return Io(t)&&!vi(t).jo()&&t.b_.length>0}function hR(t){vi(t).start()}async function f5(t){vi(t).E_()}async function p5(t){const e=vi(t);for(const n of t.b_)e.P_(n.mutations)}async function m5(t,e,n){const r=t.b_.shift(),s=K_.from(r,e,n);await cR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ep(t)}async function g5(t,e){e&&vi(t).h_&&await async function(r,s){if(function(o){return o3(o)&&o!==O.ABORTED}(s.code)){const i=r.b_.shift();vi(r).Yo(),await cR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ep(r)}}(t,e),dR(t)&&hR(t)}async function Vx(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Io(n);n.C_.add(3),await Oc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await wp(n)}async function y5(t,e){const n=ge(t);e?(n.C_.delete(2),await wp(n)):e||(n.C_.add(2),await Oc(n),n.M_.set("Unknown"))}function al(t){return t.O_||(t.O_=function(n,r,s){const i=ge(n);return i.A_(),new r5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:l5.bind(null,t),Io:u5.bind(null,t),a_:c5.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),tw(t)?ew(t):t.M_.set("Unknown")):(await t.O_.stop(),uR(t))})),t.O_}function vi(t){return t.N_||(t.N_=function(n,r,s){const i=ge(n);return i.A_(),new s5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:f5.bind(null,t),Io:g5.bind(null,t),T_:p5.bind(null,t),I_:m5.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Ep(t)):(await t.N_.stop(),t.b_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new nw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rw(t,e){if(ps("AsyncQueue",`${e}: ${t}`),kc(t))return new J(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new da(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.B_=new et(ie.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):he():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $a{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $a(e,n,da.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.k_=void 0,this.listeners=[]}}class _5{constructor(){this.queries=new ol(e=>OA(e),pp),this.onlineState="Unknown",this.q_=new Set}}async function fR(t,e){const n=ge(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new v5),s)try{i.k_=await n.onListen(r)}catch(o){const a=rw(o,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Q_(n.onlineState),i.k_&&e.K_(i.k_)&&sw(n)}async function pR(t,e){const n=ge(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function w5(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&sw(n)}function E5(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function sw(t){t.q_.forEach(e=>{e.next()})}class mR{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new $a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.key=e}}class yR{constructor(e){this.key=e}}class x5{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ie(),this.mutatedKeys=Ie(),this._a=DA(e),this.aa=new da(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Fx,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,d)=>{const h=s.get(c),f=mp(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?_!==g&&(r.track({type:3,doc:f}),w=!0):this.ha(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),i=g?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,d)=>function(f,_){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return g(f)-g(_)}(c.type,d.type)||this._a(c.doc,d.doc)),this.Pa(r),s=s!=null&&s;const a=n&&!s?this.Ia():[],l=this.oa.size===0&&this.current&&!s?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new $a(this.query,e.aa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Fx,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ie(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new yR(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new gR(r))}),n}da(e){this.ia=e.ls,this.oa=Ie();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return $a.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class T5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I5{constructor(e){this.key=e,this.Ra=!1}}class S5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ol(a=>OA(a),pp),this.fa=new Map,this.ga=new Set,this.pa=new et(ie.comparator),this.ya=new Map,this.wa=new Y_,this.Sa={},this.ba=new Map,this.Da=ja.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function C5(t,e){const n=L5(t);let r,s;const i=n.ma.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await Y3(n.localStore,Pr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await b5(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&oR(n.remoteStore,o)}return s}async function b5(t,e,n,r,s){t.va=(d,h,f)=>async function(g,w,v,m){let E=w.view.ca(v);E.Zi&&(E=await Dx(g.localStore,w.query,!1).then(({documents:b})=>w.view.ca(b,E)));const x=m&&m.targetChanges.get(w.targetId),T=m&&m.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(E,g.isPrimaryClient,x,T);return $x(g,w.targetId,C.Ta),C.snapshot}(t,d,h,f);const i=await Dx(t.localStore,e,!0),o=new x5(e,i.ls),a=o.ca(i.documents),l=Nc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);$x(t,n,u.Ta);const c=new T5(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function A5(t,e){const n=ge(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!pp(i,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Py(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),aR(n.remoteStore,r.targetId),Ny(n,r.targetId)}).catch(Rc)):(Ny(n,r.targetId),await Py(n.localStore,r.targetId,!0))}async function R5(t,e,n){const r=V5(t);try{const s=await function(o,a){const l=ge(o),u=pt.now(),c=a.reduce((f,_)=>f.add(_.key),Ie());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let _=ms(),g=Ie();return l.ss.getEntries(f,c).next(w=>{_=w,_.forEach((v,m)=>{m.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,_)).next(w=>{d=w;const v=[];for(const m of a){const E=t3(m,d.get(m.key).overlayedDocument);E!=null&&v.push(new Pi(m.key,E,SA(E.value.mapValue),Nr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,v,a)}).next(w=>{h=w;const v=w.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,w.batchId,v)})}).then(()=>({batchId:h.batchId,changes:LA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new et(Ne)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,s.batchId,n),await Dc(r,s.changes),await Ep(r.remoteStore)}catch(s){const i=rw(s,"Failed to persist write");n.reject(i)}}async function vR(t,e){const n=ge(t);try{const r=await K3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Ue(o.Ra):s.removedDocuments.size>0&&(Ue(o.Ra),o.Ra=!1))}),await Dc(n,r,e)}catch(r){await Rc(r)}}function jx(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ge(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&sw(l)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k5(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),i=s&&s.key;if(i){let o=new et(ie.comparator);o=o.insert(i,jt.newNoDocument(i,pe.min()));const a=Ie().add(i),l=new vp(pe.min(),new Map,new et(Ne),o,a);await vR(r,l),r.pa=r.pa.remove(i),r.ya.delete(e),iw(r)}else await Py(r.localStore,e,!1).then(()=>Ny(r,e,n)).catch(Rc)}async function P5(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await q3(n.localStore,e);wR(n,r,null),_R(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dc(n,s)}catch(s){await Rc(s)}}async function N5(t,e,n){const r=ge(t);try{const s=await function(o,a){const l=ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ue(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);wR(r,e,n),_R(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dc(r,s)}catch(s){await Rc(s)}}function _R(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function wR(t,e,n){const r=ge(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function Ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||ER(t,r)})}function ER(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(aR(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),iw(t))}function $x(t,e,n){for(const r of n)r instanceof gR?(t.wa.addReference(r.key,e),O5(t,r)):r instanceof yR?(te("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||ER(t,r.key)):he()}function O5(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(te("SyncEngine","New document in limbo: "+n),t.ga.add(r),iw(t))}function iw(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ie(Ke.fromString(e)),r=t.Da.next();t.ya.set(r,new I5(n)),t.pa=t.pa.insert(n,r),oR(t.remoteStore,new Gs(Pr(fp(n.path)),r,"TargetPurposeLimboResolution",U_._e))}}async function Dc(t,e,n){const r=ge(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const c=X_.Qi(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.Va.a_(s),await async function(l,u){const c=ge(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>M.forEach(u,h=>M.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>M.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!kc(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),_=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(_);c.ts=c.ts.insert(h,g)}}}(r.localStore,i))}async function D5(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await nR(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(a=>{a.forEach(l=>{l.reject(new J(O.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dc(n,r._s)}}function M5(t,e){const n=ge(t),r=n.ya.get(e);if(r&&r.Ra)return Ie().add(r.key);{let s=Ie();const i=n.fa.get(e);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function L5(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k5.bind(null,e),e.Va.a_=w5.bind(null,e.eventManager),e.Va.Fa=E5.bind(null,e.eventManager),e}function V5(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N5.bind(null,e),e}class Ux{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_p(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return H3(this.persistence,new z3,e.initialUser,this.serializer)}createPersistence(e){return new $3(Z_.jr,this.serializer)}createSharedClientState(e){return new X3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class F5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D5.bind(null,this.syncEngine),await y5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _5}()}createDatastore(e){const n=_p(e.databaseInfo.databaseId),r=function(i){return new n5(i)}(e.databaseInfo);return function(i,o,a,l){return new i5(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new a5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jx(this.syncEngine,n,0),function(){return Lx.D()?new Lx:new J3}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,c){const d=new S5(s,i,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ge(n);te("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Oc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vt.UNAUTHENTICATED,this.clientId=xA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{te("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(te("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nm(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Bx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U5(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Vx(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Vx(e.remoteStore,i)),t._onlineComponents=e}function $5(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function U5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!$5(n))throw n;Ma("Error using user provided cache. Falling back to memory cache: "+n),await Nm(t,new Ux)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Nm(t,new Ux);return t._offlineComponents}async function TR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Bx(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Bx(t,new F5))),t._onlineComponents}function B5(t){return TR(t).then(e=>e.syncEngine)}async function Oy(t){const e=await TR(t),n=e.eventManager;return n.onListen=C5.bind(null,e.syncEngine),n.onUnlisten=A5.bind(null,e.syncEngine),n}function z5(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new xR({next:h=>{o.enqueueAndForget(()=>pR(i,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new J(O.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new J(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new mR(fp(a.path),c,{includeMetadataChanges:!0,J_:!0});return fR(i,d)}(await Oy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e,n){if(!n)throw new J(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W5(t,e,n,r){if(e===!0&&r===!0)throw new J(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Wx(t){if(!ie.isDocumentKey(t))throw new J(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hx(t){if(ie.isDocumentKey(t))throw new J(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function is(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xp(t);throw new J(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new h9;switch(r.type){case"firstParty":return new g9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zx.get(n);r&&(te("ComponentProvider","Removing Datastore"),zx.delete(n),r.terminate())}(this),Promise.resolve()}}function H5(t,e,n,r={}){var s;const i=(t=is(t,Tp))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Vt.MOCK_USER;else{a=VC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Vt(u)}t._authCredentials=new f9(new EA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class ai extends So{constructor(e,n,r){super(e,n,fp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ie(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function Kx(t,e,...n){if(t=mt(t),SR("collection","path",e),t instanceof Tp){const r=Ke.fromString(e,...n);return Hx(r),new ai(t,null,r)}{if(!(t instanceof en||t instanceof ai))throw new J(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return Hx(r),new ai(t.firestore,null,r)}}function Qh(t,e,...n){if(t=mt(t),arguments.length===1&&(e=xA.newId()),SR("doc","path",e),t instanceof Tp){const r=Ke.fromString(e,...n);return Wx(r),new en(t,null,new ie(r))}{if(!(t instanceof en||t instanceof ai))throw new J(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return Wx(r),new en(t.firestore,t instanceof ai?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new sR(this,"async_queue_retry"),this.iu=()=>{const n=Pm();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Pm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new oi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!kc(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ps("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=nw.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&he()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Gx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ua extends Tp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new q5}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||CR(this),this._firestoreClient.terminate()}}function K5(t,e){const n=typeof t=="object"?t:c_(),r=typeof t=="string"?t:"(default)",s=zf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=DC("firestore");i&&H5(s,...i)}return s}function ow(t){return t._firestoreClient||CR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function CR(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,c){return new A9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,IR(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new j5(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ba(Ht.fromBase64String(e))}catch(n){throw new J(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ba(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=/^__.*__$/;class Q5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(e,this.data,n,this.fieldTransforms)}}class bR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class uw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new uw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Yh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(AR(this.Iu)&&G5.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Y5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_p(e)}pu(e,n,r,s=!1){return new uw({Iu:e,methodName:n,gu:r,path:bt.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cw(t){const e=t._freezeSettings(),n=_p(t._databaseId);return new Y5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z5(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);dw("Data must be an object, but it was:",o,r);const a=RR(r,o);let l,u;if(i.merge)l=new wn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const h=Dy(e,d,n);if(!o.contains(h))throw new J(O.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);PR(c,h)||c.push(h)}l=new wn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Q5(new un(a),l,u)}class Sp extends aw{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sp}}function X5(t,e,n,r){const s=t.pu(1,e,n);dw("Data must be an object, but it was:",s,r);const i=[],o=un.empty();To(r,(l,u)=>{const c=hw(e,l,n);u=mt(u);const d=s.Ru(c);if(u instanceof Sp)i.push(c);else{const h=Mc(u,d);h!=null&&(i.push(c),o.set(c,h))}});const a=new wn(i);return new bR(o,a,s.fieldTransforms)}function J5(t,e,n,r,s,i){const o=t.pu(1,e,n),a=[Dy(e,r,n)],l=[s];if(i.length%2!=0)throw new J(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(Dy(e,i[h])),l.push(i[h+1]);const u=[],c=un.empty();for(let h=a.length-1;h>=0;--h)if(!PR(u,a[h])){const f=a[h];let _=l[h];_=mt(_);const g=o.Ru(f);if(_ instanceof Sp)u.push(f);else{const w=Mc(_,g);w!=null&&(u.push(f),c.set(f,w))}}const d=new wn(u);return new bR(c,d,o.fieldTransforms)}function eB(t,e,n,r=!1){return Mc(n,t.pu(r?4:3,e))}function Mc(t,e){if(kR(t=mt(t)))return dw("Unsupported field value:",e,t),RR(t,e);if(t instanceof aw)return function(r,s){if(!AR(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Mc(a,s.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=pt.fromDate(r);return{timestampValue:Kh(s.serializer,i)}}if(r instanceof pt){const i=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(s.serializer,i)}}if(r instanceof lw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ba)return{bytesValue:YA(s.serializer,r._byteString)};if(r instanceof en){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Q_(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${xp(r)}`)}(t,e)}function RR(t,e){const n={};return TA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,s)=>{const i=Mc(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function kR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof lw||t instanceof Ba||t instanceof en||t instanceof aw)}function dw(t,e,n){if(!kR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=xp(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function Dy(t,e,n){if((e=mt(e))instanceof Ip)return e._internalPath;if(typeof e=="string")return hw(t,e);throw Yh("Field path arguments must be of type string or ",t,!1,void 0,n)}const tB=new RegExp("[~\\*/\\[\\]]");function hw(t,e,n){if(e.search(tB)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ip(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J(O.INVALID_ARGUMENT,a+t+l)}function PR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nB extends NR{data(){return super.data()}}function fw(t,e){return typeof e=="string"?hw(t,e):e instanceof Ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pw{}class OR extends pw{}function sB(t,e,...n){let r=[];e instanceof pw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof gw).length,a=i.filter(l=>l instanceof mw).length;if(o>1||o>0&&a>0)throw new J(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class mw extends OR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mw(e,n,r)}_apply(e){const n=this._parse(e);return DR(e._query,n),new So(e.firestore,e.converter,Sy(e._query,n))}_parse(e){const n=cw(e.firestore);return function(i,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new J(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Yx(d,c);const f=[];for(const _ of d)f.push(Qx(l,i,_));h={arrayValue:{values:f}}}else h=Qx(l,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Yx(d,c),h=eB(a,o,d,c==="in"||c==="not-in");return ft.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class gw extends pw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)DR(o,l),o=Sy(o,l)}(e._query,n),new So(e.firestore,e.converter,Sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yw extends OR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new J(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hu(i,o)}(e._query,this._field,this._direction);return new So(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new il(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function iB(t,e="asc"){const n=e,r=fw("orderBy",t);return yw._create(r,n)}function Qx(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new J(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NA(e)&&n.indexOf("/")!==-1)throw new J(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!ie.isDocumentKey(r))throw new J(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yx(t,new ie(r))}if(n instanceof en)return yx(t,n._key);throw new J(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xp(n)}.`)}function Yx(t,e){if(!Array.isArray(t)||t.length===0)throw new J(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oB{convertValue(e,n="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new lw(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=z_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=yi(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Ue(tR(r));const s=new zu(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||ps(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MR extends NR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gd extends MR{data(e={}){return super.data(e)}}class lB{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ll(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gd(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Gd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Gd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:uB(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){t=is(t,en);const e=is(t.firestore,Ua);return z5(ow(e),t._key).then(n=>FR(e,t,n))}class LR extends oB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function cB(t,e,n,...r){t=is(t,en);const s=is(t.firestore,Ua),i=cw(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof Ip?J5(i,"updateDoc",t._key,e,n,r):X5(i,"updateDoc",t._key,e),VR(s,[o.toMutation(t._key,Nr.exists(!0))])}function dB(t,e){const n=is(t.firestore,Ua),r=Qh(t),s=aB(t.converter,e);return VR(n,[Z5(cw(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}function hB(t,...e){var n,r,s;t=mt(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Gx(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(Gx(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,u,c;if(t instanceof en)u=is(t.firestore,Ua),c=fp(t._key.path),l={next:d=>{e[o]&&e[o](FR(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=is(t,So);u=is(d.firestore,Ua),c=d._query;const h=new LR(u);l={next:f=>{e[o]&&e[o](new lB(u,h,d,f))},error:e[o+1],complete:e[o+2]},rB(t._query)}return function(h,f,_,g){const w=new xR(g),v=new mR(f,w,_);return h.asyncQueue.enqueueAndForget(async()=>fR(await Oy(h),v)),()=>{w.Na(),h.asyncQueue.enqueueAndForget(async()=>pR(await Oy(h),v))}}(ow(u),c,a,l)}function VR(t,e){return function(r,s){const i=new oi;return r.asyncQueue.enqueueAndForget(async()=>R5(await B5(r),s,i)),i.promise}(ow(t),e)}function FR(t,e,n){const r=n.docs.get(e._key),s=new LR(t);return new MR(t,s,e._key,r,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){sl=s})(wo),oo(new mi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ua(new p9(r.getProvider("auth-internal")),new v9(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(u.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ar(fx,"4.4.0",e),Ar(fx,"4.4.0","esm2017")})();var fB="firebase",pB="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(fB,pB,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebasestorage.googleapis.com",mB="storageBucket",gB=2*60*1e3,yB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Br{constructor(e,n,r=0){super(Om(e),`Firebase Storage: ${n} (${Om(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vr||(Vr={}));function Om(t){return"storage/"+t}function vB(){const t="An unknown error occurred, please check the error payload for server response.";return new zr(Vr.UNKNOWN,t)}function _B(){return new zr(Vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wB(){return new zr(Vr.CANCELED,"User canceled the upload/download.")}function EB(t){return new zr(Vr.INVALID_URL,"Invalid URL '"+t+"'.")}function xB(t){return new zr(Vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Xx(t){return new zr(Vr.INVALID_ARGUMENT,t)}function $R(){return new zr(Vr.APP_DELETED,"The Firebase app was deleted.")}function TB(t){return new zr(Vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qn.makeFromUrl(e,n)}catch{return new Qn(e,"")}if(r.path==="")return r;throw xB(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${s}/o${h}`,"i"),_={bucket:1,path:3},g=n===jR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${g}/${s}/${w}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:f,indices:_,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<E.length;x++){const T=E[x],C=T.regex.exec(e);if(C){const b=C[T.indices.bucket];let R=C[T.indices.path];R||(R=""),r=new Qn(b,R),T.postModify(r);break}}if(r==null)throw EB(e);return r}}class IB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){s=setTimeout(()=>{s=null,t(f,l())},w)}function h(){i&&clearTimeout(i)}function f(w,...v){if(u){h();return}if(w){h(),c.call(null,w,...v);return}if(l()||o){h(),c.call(null,w,...v);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,d(E)}let _=!1;function g(w){_||(_=!0,h(),!u&&(s!==null?(w||(a=2),clearTimeout(s),d(0)):w||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function CB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t){return t!==void 0}function Jx(t,e,n,r){if(r<e)throw Xx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Xx(`Invalid value for '${t}'. Expected ${n} or less.`)}function AB(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zh||(Zh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r,s,i,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,_)=>{this.resolve_=f,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new wd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Zh.NO_ERROR,l=i.getStatus();if(!a||RB(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===Zh.ABORT;r(!1,new wd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new wd(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bB(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=vB();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?$R():wB();o(l)}else{const l=_B();o(l)}};this.canceled_?n(!1,new wd(!1,null,!0)):this.backoffId_=SB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function DB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function MB(t,e,n,r,s,i,o=!0){const a=AB(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return OB(u,e),PB(u,n),NB(u,i),DB(u,r),new kB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this._service=e,n instanceof Qn?this._location=n:this._location=Qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xh(e,n)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VB(this._location.path)}get storage(){return this._service}get parent(){const e=LB(this._location.path);if(e===null)return null;const n=new Qn(this._location.bucket,e);return new Xh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw TB(e)}}function eT(t,e){const n=e==null?void 0:e[mB];return n==null?null:Qn.makeFromBucketSpec(n,t)}function FB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:VC(s,t.app.options.projectId))}class jB{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=jR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gB,this._maxUploadRetryTime=yB,this._requests=new Set,s!=null?this._bucket=Qn.makeFromBucketSpec(s,this._host):this._bucket=eT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=eT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new IB($R());{const o=MB(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const tT="@firebase/storage",nT="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="storage";function $B(t=c_(),e){t=mt(t);const r=zf(t,UR).getImmediate({identifier:e}),s=DC("storage");return s&&UB(r,...s),r}function UB(t,e,n,r={}){FB(t,e,n,r)}function BB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new jB(n,r,s,e,wo)}function zB(){oo(new mi(UR,BB,"PUBLIC").setMultipleInstances(!0)),Ar(tT,nT,""),Ar(tT,nT,"esm2017")}zB();const WB={apiKey:"AIzaSyD_QR6x-0ab_S7uTb0rTS01u9N62QNuq40",authDomain:"masruf-manager.firebaseapp.com",projectId:"masruf-manager",storageBucket:"masruf-manager.appspot.com",messagingSenderId:"153141113612",appId:"1:153141113612:web:ef0420214d096938e2cf29"},vw=$C(WB),Ed=sU(vw),nu=K5(vw);$B(vw);const Dm=[{id:"1",name:" ",email:"employee@example.com",password:"password123",role:"employee",department:""},{id:"2",name:" ",email:"manager@example.com",password:"password123",role:"manager",department:""}],BR=y.createContext({user:null,login:async()=>{},logout:()=>{},loading:!0});function HB({children:t}){const[e,n]=y.useState(null),[r,s]=y.useState(!0),i=_o();y.useEffect(()=>{const l=localStorage.getItem("user");if(l)try{n(JSON.parse(l)),s(!1)}catch{localStorage.removeItem("user")}},[]),y.useEffect(()=>{e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")},[e]),y.useEffect(()=>{const l=q$(Ed,async u=>{if(u)try{const c=await Zx(Qh(nu,"users",u.uid));if(c.exists()){const d=c.data(),h={id:u.uid,...d};n(h),localStorage.setItem("user",JSON.stringify(h))}else{const d=Dm.find(h=>h.email===u.email);if(d){const{password:h,...f}=d;n(f),localStorage.setItem("user",JSON.stringify(f))}else await zE(Ed),n(null)}}catch(c){console.error("Error fetching user data:",c),yn.error("     ")}else n(null);s(!1)});return()=>l()},[]);const o=async(l,u)=>{s(!0);try{const d=(await z$(Ed,l,u)).user,h=await Zx(Qh(nu,"users",d.uid));if(h.exists()){const f=h.data(),_={id:d.uid,...f};n(_),localStorage.setItem("user",JSON.stringify(_)),yn.success("   "),i("/")}else{const f=Dm.find(_=>_.email===l);if(f){const{password:_,...g}=f;n(g),localStorage.setItem("user",JSON.stringify(g)),yn.success("   "),i("/")}else yn.error("     ")}}catch(c){console.error("Login error:",c);const d=Dm.find(h=>h.email===l&&h.password===u);if(d){const{password:h,...f}=d;n(f),localStorage.setItem("user",JSON.stringify(f)),yn.success("   "),i("/")}else yn.error("      ")}finally{s(!1)}},a=async()=>{try{await zE(Ed),localStorage.removeItem("user"),n(null),yn.info("   "),i("/login")}catch(l){console.error("Logout error:",l),yn.error("    ")}};return p.jsx(BR.Provider,{value:{user:e,login:o,logout:a,loading:r},children:t})}const _s=()=>y.useContext(BR),zR=y.createContext({expenses:[],addExpense:async()=>{},updateStatus:async()=>{},loading:!0});function qB({children:t}){const[e,n]=y.useState([]),[r,s]=y.useState(!0);y.useEffect(()=>{const l=sB(Kx(nu,"expenses"),iB("createdAt","desc")),u=hB(l,c=>{const d=[];c.forEach(h=>{const f=h.data();d.push({id:h.id,...f})}),n(d),s(!1)});return()=>u()},[]);const{user:i}=_s(),o=async l=>{if(!(i!=null&&i.id)||!i.name||!i.department){yn.error("   ");return}try{await dB(Kx(nu,"expenses"),{...l,attachments:l.attachments||[],status:"pending",createdAt:pt.now(),createdBy:i.id,employeeName:i.name,department:i.department}),yn.success("   ")}catch(u){console.error(u),yn.error("   ")}},a=async(l,u)=>{try{await cB(Qh(nu,"expenses",l),{status:u}),n(c=>c.map(d=>d.id===l?{...d,status:u}:d)),yn.success("   ")}catch(c){console.error(c),yn.error("    ")}};return p.jsx(zR.Provider,{value:{expenses:e,addExpense:o,updateStatus:a,loading:r},children:t})}const Lc=()=>y.useContext(zR),KB=Df("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dt=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ro:"button";return p.jsx(o,{className:Ae(KB({variant:e,size:n,className:t})),ref:i,...s})});dt.displayName="Button";function GB(){const{user:t,logout:e}=_s();return p.jsx("header",{className:"border-b bg-white shadow-sm",children:p.jsxs("div",{className:"container flex items-center justify-between h-16 px-4",children:[p.jsx(Au,{to:"/",className:"flex items-center space-x-2 rtl:space-x-reverse",children:p.jsx("h1",{className:"text-xl font-bold text-primary",children:"   "})}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(dt,{variant:"ghost",size:"icon",children:p.jsx(tM,{className:"h-5 w-5"})}),p.jsx(dt,{variant:"ghost",size:"icon",children:p.jsx(bS,{className:"h-5 w-5"})}),t?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-sm font-medium",children:t.name}),p.jsx(dt,{variant:"ghost",size:"sm",onClick:e,children:" "}),p.jsx(dt,{variant:"ghost",size:"icon",children:p.jsx(rM,{className:"h-5 w-5"})})]}):p.jsx(Au,{to:"/login",children:p.jsx(dt,{variant:"outline",size:"sm",children:" "})})]})]})})}const QB={employee:"",section_manager:" ",manager:" "};function YB(){var r;const{user:t}=_s(),e=bi(),n=[{name:" ",href:"/",icon:eM},{name:" ",href:"/expenses",icon:AS},...["section_manager","manager"].includes((t==null?void 0:t.role)||"")?[{name:" ",href:"/pending",icon:bS}]:[],...(t==null?void 0:t.role)==="manager"?[{name:" ",href:"/users",icon:sM},{name:"",href:"/settings",icon:nM}]:[]];return p.jsxs("div",{className:"hidden md:flex w-64 flex-col bg-white border-l shadow-sm",children:[p.jsx("div",{className:"flex flex-col flex-1 p-4 gap-2",children:n.map(s=>p.jsxs(Au,{to:s.href,className:Ae("flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md transition-colors hover:bg-secondary",e.pathname===s.href?"bg-primary/10 text-primary":"text-gray-600 hover:text-primary"),children:[p.jsx(s.icon,{className:"h-5 w-5"}),p.jsx("span",{children:s.name})]},s.href))}),p.jsx("div",{className:"p-4 border-t",children:p.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center",children:((r=t==null?void 0:t.name)==null?void 0:r.charAt(0))||""}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:(t==null?void 0:t.name)||""}),p.jsx("p",{className:"text-xs text-muted-foreground",children:QB[(t==null?void 0:t.role)||"employee"]})]})]})})]})}function ZB(){return p.jsxs("div",{className:"min-h-screen bg-orange-50 flex flex-col",dir:"rtl",children:[p.jsx(GB,{}),p.jsxs("div",{className:"flex flex-1",children:[p.jsx(YB,{}),p.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:p.jsx(sF,{})})]}),p.jsx($S,{position:"top-left",closeButton:!0,richColors:!0})]})}const rT=({children:t,allowedRoles:e})=>{const{user:n,loading:r}=_s(),s=bi();return r?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),p.jsx("p",{className:"mt-4 text-lg",children:"  ..."})]})}):n?e&&!e.includes(n.role)?p.jsx(wE,{to:"/",replace:!0}):p.jsx(p.Fragment,{children:t}):p.jsx(wE,{to:"/login",state:{from:s},replace:!0})},Mn=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Mn.displayName="Card";const Er=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",t),...e}));Er.displayName="CardHeader";const xr=y.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));xr.displayName="CardTitle";const ho=y.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));ho.displayName="CardDescription";const Kn=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ae("p-6 pt-0",t),...e}));Kn.displayName="CardContent";const _w=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",t),...e}));_w.displayName="CardFooter";function XB(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function u(d){const{scope:h,children:f,..._}=d,g=(h==null?void 0:h[t][l])||a,w=y.useMemo(()=>_,Object.values(_));return p.jsx(g.Provider,{value:w,children:f})}function c(d,h){const f=(h==null?void 0:h[t][l])||a,_=y.useContext(f);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,JB(s,...e)]}function JB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ez=y.createContext(void 0);function WR(t){const e=y.useContext(ez);return t||e||"ltr"}var Mm="rovingFocusGroup.onEntryFocus",tz={bubbles:!1,cancelable:!0},Cp="RovingFocusGroup",[My,HR,nz]=eS(Cp),[rz,qR]=XB(Cp,[nz]),[sz,iz]=rz(Cp),KR=y.forwardRef((t,e)=>p.jsx(My.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(My.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(oz,{...t,ref:e})})}));KR.displayName=Cp;var oz=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...d}=t,h=y.useRef(null),f=zt(e,h),_=WR(i),[g=null,w]=kf({prop:o,defaultProp:a,onChange:l}),[v,m]=y.useState(!1),E=Sn(u),x=HR(n),T=y.useRef(!1),[C,b]=y.useState(0);return y.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Mm,E),()=>R.removeEventListener(Mm,E)},[E]),p.jsx(sz,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(R=>w(R),[w]),onItemShiftTab:y.useCallback(()=>m(!0),[]),onFocusableItemAdd:y.useCallback(()=>b(R=>R+1),[]),onFocusableItemRemove:y.useCallback(()=>b(R=>R-1),[]),children:p.jsx(Ve.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:ke(t.onMouseDown,()=>{T.current=!0}),onFocus:ke(t.onFocus,R=>{const j=!T.current;if(R.target===R.currentTarget&&j&&!v){const L=new CustomEvent(Mm,tz);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const re=x().filter(Z=>Z.focusable),D=re.find(Z=>Z.active),q=re.find(Z=>Z.id===g),se=[D,q,...re].filter(Boolean).map(Z=>Z.ref.current);YR(se,c)}}T.current=!1}),onBlur:ke(t.onBlur,()=>m(!1))})})}),GR="RovingFocusGroupItem",QR=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ql(),l=i||a,u=iz(GR,n),c=u.currentTabStopId===l,d=HR(n),{onFocusableItemAdd:h,onFocusableItemRemove:f}=u;return y.useEffect(()=>{if(r)return h(),()=>f()},[r,h,f]),p.jsx(My.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:p.jsx(Ve.span,{tabIndex:c?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ke(t.onMouseDown,_=>{r?u.onItemFocus(l):_.preventDefault()}),onFocus:ke(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ke(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const g=uz(_,u.orientation,u.dir);if(g!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let v=d().filter(m=>m.focusable).map(m=>m.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const m=v.indexOf(_.currentTarget);v=u.loop?cz(v,m+1):v.slice(m+1)}setTimeout(()=>YR(v))}})})})});QR.displayName=GR;var az={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function uz(t,e,n){const r=lz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return az[r]}function YR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function cz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var dz=KR,hz=QR,ww="Tabs",[fz,bH]=Af(ww,[qR]),ZR=qR(),[pz,Ew]=fz(ww),XR=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,c=WR(a),[d,h]=kf({prop:r,onChange:s,defaultProp:i});return p.jsx(pz,{scope:n,baseId:Ql(),value:d,onValueChange:h,orientation:o,dir:c,activationMode:l,children:p.jsx(Ve.div,{dir:c,"data-orientation":o,...u,ref:e})})});XR.displayName=ww;var JR="TabsList",ek=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Ew(JR,n),o=ZR(n);return p.jsx(dz,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:p.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});ek.displayName=JR;var tk="TabsTrigger",nk=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Ew(tk,n),a=ZR(n),l=ik(o.baseId,r),u=ok(o.baseId,r),c=r===o.value;return p.jsx(hz,{asChild:!0,...a,focusable:!s,active:c,children:p.jsx(Ve.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ke(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ke(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ke(t.onFocus,()=>{const d=o.activationMode!=="manual";!c&&!s&&d&&o.onValueChange(r)})})})});nk.displayName=tk;var rk="TabsContent",sk=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Ew(rk,n),l=ik(a.baseId,r),u=ok(a.baseId,r),c=r===a.value,d=y.useRef(c);return y.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),p.jsx(vo,{present:s||c,children:({present:h})=>p.jsx(Ve.div,{"data-state":c?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});sk.displayName=rk;function ik(t,e){return`${t}-trigger-${e}`}function ok(t,e){return`${t}-content-${e}`}var mz=XR,ak=ek,lk=nk,uk=sk;const gz=mz,ck=y.forwardRef(({className:t,...e},n)=>p.jsx(ak,{ref:n,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ck.displayName=ak.displayName;const Ly=y.forwardRef(({className:t,...e},n)=>p.jsx(lk,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ly.displayName=lk.displayName;const Vy=y.forwardRef(({className:t,...e},n)=>p.jsx(uk,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Vy.displayName=uk.displayName;const yz=()=>{const{expenses:t}=Lc(),{user:e}=_s(),n=(e==null?void 0:e.role)==="employee"?t.filter(u=>u.createdBy===e.id):t,r=n.filter(u=>u.status==="pending").length,s=n.filter(u=>u.status==="approved").length,i=n.filter(u=>u.status==="rejected").length,o=n.reduce((u,c)=>u+c.amount,0),a=n.filter(u=>u.status==="approved").reduce((u,c)=>u+c.amount,0),l=[...n].sort((u,c)=>{var d,h;return((d=c.createdAt)==null?void 0:d.seconds)-((h=u.createdAt)==null?void 0:h.seconds)}).slice(0,5);return p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:[" ",e==null?void 0:e.name]}),p.jsx("p",{className:"text-muted-foreground",children:"      -     "}),(e==null?void 0:e.role)==="employee"&&p.jsx("div",{className:"mt-4",children:p.jsxs(Au,{to:"/expenses/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition",children:[p.jsx(JD,{className:"w-4 h-4"}),p.jsx("span",{children:"  "})]})})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[p.jsxs(Mn,{children:[p.jsx(Er,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:p.jsx(xr,{className:"text-sm font-medium",children:" "})}),p.jsxs(Kn,{children:[p.jsx("div",{className:"text-2xl font-bold",children:n.length}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[r,"   ",s,"    ",i," "]})]})]}),p.jsxs(Mn,{children:[p.jsx(Er,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:p.jsx(xr,{className:"text-sm font-medium",children:" "})}),p.jsxs(Kn,{children:[p.jsxs("div",{className:"text-2xl font-bold",children:[o.toLocaleString()," "]}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.toLocaleString(),"    "]})]})]}),p.jsxs(Mn,{children:[p.jsx(Er,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:p.jsx(xr,{className:"text-sm font-medium",children:"  "})}),p.jsxs(Kn,{children:[p.jsx("div",{className:"text-2xl font-bold",children:r}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["  ",n.length," "]})]})]})]}),p.jsxs(gz,{defaultValue:"recent",className:"space-y-4",children:[p.jsxs(ck,{children:[p.jsx(Ly,{value:"recent",children:" "}),p.jsx(Ly,{value:"pending",children:" "})]}),p.jsx(Vy,{value:"recent",className:"space-y-4",children:p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-1",children:p.jsxs(Mn,{children:[p.jsxs(Er,{children:[p.jsx(xr,{children:" "}),p.jsx(ho,{children:" 5     "})]}),p.jsx(Kn,{className:"space-y-4",children:l.length>0?l.map(u=>{var c;return p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:u.expenseType||u.title}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.employeeName||""," "," ",(c=u.createdAt)!=null&&c.seconds?new Date(u.createdAt.seconds*1e3).toLocaleDateString("ar-SA"):""]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"font-medium",children:[u.amount.toLocaleString()," "]}),p.jsx("div",{className:`px-2 py-1 text-xs rounded-full ${u.status==="approved"?"bg-green-100 text-green-800":u.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:u.status==="approved"?" ":u.status==="rejected"?"":""})]})]},u.id)}):p.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"    "})})]})})}),p.jsx(Vy,{value:"pending",className:"space-y-4",children:p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-1",children:p.jsxs(Mn,{children:[p.jsxs(Er,{children:[p.jsx(xr,{children:" "}),p.jsx(ho,{children:"     "})]}),p.jsx(Kn,{className:"space-y-4",children:n.filter(u=>u.status==="pending").length>0?n.filter(u=>u.status==="pending").map(u=>{var c;return p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:u.expenseType||u.title}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.employeeName||""," "," ",(c=u.createdAt)!=null&&c.seconds?new Date(u.createdAt.seconds*1e3).toLocaleDateString("ar-SA"):""]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"font-medium",children:[u.amount.toLocaleString()," "]}),p.jsx("div",{className:"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800",children:""})]})]},u.id)}):p.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"   "})})]})})})]})]})},vz=Df("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _z({className:t,variant:e,...n}){return p.jsx("div",{className:Ae(vz({variant:e}),t),...n})}function wz({className:t,...e}){return p.jsx("div",{className:Ae("animate-pulse rounded-md bg-muted",t),...e})}function Ez(){const{expenses:t,loading:e}=Lc(),{user:n}=_s(),r=t.filter(o=>o.createdBy===(n==null?void 0:n.id)),s=o=>{switch(o){case"pending":return"";case"approved_by_department":return" ";case"waiting_executive":return" ";case"approved":return"";case"rejected":return"";default:return o}},i=o=>{switch(o){case"approved":return"success";case"rejected":return"destructive";case"pending":case"approved_by_department":case"waiting_executive":return"secondary";default:return"outline"}};return p.jsxs("div",{className:"max-w-3xl mx-auto mt-10",children:[p.jsx("h1",{className:"text-2xl font-bold mb-6",children:"   "}),e?p.jsx("div",{className:"space-y-4",children:[...Array(3)].map((o,a)=>p.jsx(wz,{className:"h-20 w-full rounded-xl"},a))}):r.length===0?p.jsx("p",{className:"text-gray-500",children:"     ."}):r.map(o=>p.jsx(Au,{to:`/expenses/${o.id}`,children:p.jsx(Mn,{className:"mb-4 cursor-pointer hover:shadow-md transition",children:p.jsxs(Kn,{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("h2",{className:"text-lg font-semibold",children:o.title}),p.jsx(_z,{variant:i(o.status),children:s(o.status)})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:o.description}),p.jsxs("p",{className:"mt-1 font-medium text-orange-600",children:[o.amount.toLocaleString()," ."]})]})})},o.id))]})}const ha=y.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ha.displayName="Input";const xw=y.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));xw.displayName="Textarea";function xz(){const t=_o(),{addExpense:e}=Lc(),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[l,u]=y.useState(null),[c,d]=y.useState(!1),h=async f=>{if(f.preventDefault(),!n||!s||!o)return;d(!0);const _=l&&l.length>0?Array.from(l).map(g=>`mock://file/${g.name}`):[];await e({title:n,amount:parseFloat(s),description:o,attachments:_}),d(!1),t("/")};return p.jsx("div",{className:"max-w-xl mx-auto mt-10",children:p.jsx(Mn,{children:p.jsxs(Kn,{className:"p-6",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),p.jsxs("form",{onSubmit:h,className:"space-y-4",children:[p.jsx(ha,{placeholder:"",value:n,onChange:f=>r(f.target.value)}),p.jsx(ha,{placeholder:"",type:"number",value:s,onChange:f=>i(f.target.value)}),p.jsx(xw,{placeholder:"",value:o,onChange:f=>a(f.target.value)}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:" ( / ):"}),p.jsx(ha,{type:"file",multiple:!0,accept:"image/*,.pdf",onChange:f=>u(f.target.files)})]}),p.jsx(dt,{type:"submit",disabled:c,children:c?" ...":" "})]})]})})})}var Tz="Separator",sT="horizontal",Iz=["horizontal","vertical"],dk=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=sT,...s}=t,i=Sz(r)?r:sT,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return p.jsx(Ve.div,{"data-orientation":i,...a,...s,ref:e})});dk.displayName=Tz;function Sz(t){return Iz.includes(t)}var hk=dk;const fk=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>p.jsx(hk,{ref:s,decorative:n,orientation:e,className:Ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));fk.displayName=hk.displayName;const Cz=()=>{var u,c,d;const{id:t}=H2(),{expenses:e,updateStatus:n}=Lc(),{user:r}=_s(),s=_o(),i=e.find(h=>h.id===t);if(!i)return p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"    "}),p.jsx("p",{className:"text-muted-foreground mb-4",children:"        "}),p.jsx(dt,{onClick:()=>s("/expenses"),children:"   "})]});const o=(u=i.createdAt)!=null&&u.seconds?new Date(i.createdAt.seconds*1e3).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"}):"",a=i.status==="approved"?"bg-green-100 text-green-800":i.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",l=i.status==="approved"?" ":i.status==="rejected"?"":"";return p.jsx("div",{className:"max-w-3xl mx-auto py-6 animate-fade-in",children:p.jsxs(Mn,{children:[p.jsx(Er,{className:"border-b pb-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsxs(xr,{className:"text-2xl",children:["  #",(c=i.id)==null?void 0:c.substring(0,5)]}),p.jsxs(ho,{children:["   ",o]})]}),p.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${a}`,children:l})]})}),p.jsxs(Kn,{className:"py-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:" "}),p.jsx("p",{className:"mt-1",children:i.employeeName||""})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:""}),p.jsx("p",{className:"mt-1",children:i.department||""})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:" "}),p.jsx("p",{className:"mt-1",children:i.expenseType||""})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:""}),p.jsxs("p",{className:"mt-1 text-lg font-bold",children:[i.amount.toLocaleString()," "]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:" "}),p.jsx("p",{className:"mt-1",children:o})]}),((d=i.updatedAt)==null?void 0:d.seconds)&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:" "}),p.jsx("p",{className:"mt-1",children:new Date(i.updatedAt.seconds*1e3).toLocaleDateString("ar-SA")})]})]})]}),p.jsx(fk,{className:"my-6"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:""}),p.jsx("p",{className:"mt-2 p-3 bg-muted/30 rounded-md",children:i.description})]}),i.attachments&&i.attachments.length>0&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:""}),p.jsx("ul",{className:"mt-2 space-y-2",children:i.attachments.map((h,f)=>p.jsxs("li",{className:"flex items-center gap-2 p-2 bg-muted/30 rounded-md",children:[p.jsx(AS,{className:"h-4 w-4"}),p.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600 hover:text-blue-800",children:["  ",f+1]})]},f))})]}),i.comments&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:""}),p.jsx("p",{className:"mt-2 p-3 bg-muted/30 rounded-md",children:i.comments})]})]})]}),p.jsxs(_w,{className:"border-t pt-6 flex justify-between",children:[p.jsx(dt,{variant:"outline",onClick:()=>s("/expenses"),children:" "}),(r==null?void 0:r.role)==="manager"&&i.status==="pending"&&p.jsxs("div",{className:"space-x-2 rtl:space-x-reverse",children:[p.jsx(dt,{variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>{n(i.id,"rejected"),s("/expenses")},children:" "}),p.jsx(dt,{className:"bg-green-600 hover:bg-green-700",onClick:()=>{n(i.id,"approved"),s("/expenses")},children:"  "})]})]})]})})};var Lm="focusScope.autoFocusOnMount",Vm="focusScope.autoFocusOnUnmount",iT={bubbles:!1,cancelable:!0},bz="FocusScope",pk=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),u=Sn(s),c=Sn(i),d=y.useRef(null),h=zt(e,g=>l(g)),f=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(E){if(f.paused||!a)return;const x=E.target;a.contains(x)?d.current=x:Rs(d.current,{select:!0})},w=function(E){if(f.paused||!a)return;const x=E.relatedTarget;x!==null&&(a.contains(x)||Rs(d.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&Rs(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const m=new MutationObserver(v);return a&&m.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),m.disconnect()}}},[r,a,f.paused]),y.useEffect(()=>{if(a){aT.add(f);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Lm,iT);a.addEventListener(Lm,u),a.dispatchEvent(v),v.defaultPrevented||(Az(Oz(mk(a)),{select:!0}),document.activeElement===g&&Rs(a))}return()=>{a.removeEventListener(Lm,u),setTimeout(()=>{const v=new CustomEvent(Vm,iT);a.addEventListener(Vm,c),a.dispatchEvent(v),v.defaultPrevented||Rs(g??document.body,{select:!0}),a.removeEventListener(Vm,c),aT.remove(f)},0)}}},[a,u,c,f]);const _=y.useCallback(g=>{if(!n&&!r||f.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(w&&v){const m=g.currentTarget,[E,x]=Rz(m);E&&x?!g.shiftKey&&v===x?(g.preventDefault(),n&&Rs(E,{select:!0})):g.shiftKey&&v===E&&(g.preventDefault(),n&&Rs(x,{select:!0})):v===m&&g.preventDefault()}},[n,r,f.paused]);return p.jsx(Ve.div,{tabIndex:-1,...o,ref:h,onKeyDown:_})});pk.displayName=bz;function Az(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Rs(r,{select:e}),document.activeElement!==n)return}function Rz(t){const e=mk(t),n=oT(e,t),r=oT(e.reverse(),t);return[n,r]}function mk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function oT(t,e){for(const n of t)if(!kz(n,{upTo:e}))return n}function kz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Pz(t){return t instanceof HTMLInputElement&&"select"in t}function Rs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Pz(t)&&e&&t.select()}}var aT=Nz();function Nz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=lT(t,e),t.unshift(e)},remove(e){var n;t=lT(t,e),(n=t[0])==null||n.resume()}}}function lT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Oz(t){return t.filter(e=>e.tagName!=="A")}var Fm=0;function Dz(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uT()),document.body.insertAdjacentElement("beforeend",t[1]??uT()),Fm++,()=>{Fm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fm--}},[])}function uT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Qd="right-scroll-bar-position",Yd="width-before-scroll-bar",Mz="with-scroll-bars-hidden",Lz="--removed-body-scroll-bar-size";function jm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Vz(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Fz=typeof window<"u"?y.useLayoutEffect:y.useEffect,cT=new WeakMap;function jz(t,e){var n=Vz(null,function(r){return t.forEach(function(s){return jm(s,r)})});return Fz(function(){var r=cT.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||jm(a,null)}),i.forEach(function(a){s.has(a)||jm(a,o)})}cT.set(n,t)},[t]),n}function $z(t){return t}function Uz(t,e){e===void 0&&(e=$z);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var c=o;o=[],c.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return s}function Bz(t){t===void 0&&(t={});var e=Uz(null);return e.options=_r({async:!0,ssr:!1},t),e}var gk=function(t){var e=t.sideCar,n=_c(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,_r({},n))};gk.isSideCarExport=!0;function zz(t,e){return t.useMedium(e),gk}var yk=Bz(),$m=function(){},bp=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:$m,onWheelCapture:$m,onTouchMoveCapture:$m}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,_=t.inert,g=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,m=t.gapMode,E=_c(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,T=jz([n,e]),C=_r(_r({},E),s);return y.createElement(y.Fragment,null,c&&y.createElement(x,{sideCar:yk,removeScrollBar:u,shards:d,noIsolation:f,inert:_,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:m}),o?y.cloneElement(y.Children.only(a),_r(_r({},C),{ref:T})):y.createElement(v,_r({},C,{className:l,ref:T}),a))});bp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bp.classNames={fullWidth:Yd,zeroRight:Qd};var Wz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Wz();return e&&t.setAttribute("nonce",e),t}function qz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Kz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Gz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Hz())&&(qz(e,n),Kz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Qz=function(){var t=Gz();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vk=function(){var t=Qz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Yz={left:0,top:0,right:0,gap:0},Um=function(t){return parseInt(t||"",10)||0},Zz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Um(n),Um(r),Um(s)]},Xz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Yz;var e=Zz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Jz=vk(),fa="data-scroll-locked",e6=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Mz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(fa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Qd," .").concat(Qd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fa,`] {
    `).concat(Lz,": ").concat(a,`px;
  }
`)},dT=function(){var t=parseInt(document.body.getAttribute(fa)||"0",10);return isFinite(t)?t:0},t6=function(){y.useEffect(function(){return document.body.setAttribute(fa,(dT()+1).toString()),function(){var t=dT()-1;t<=0?document.body.removeAttribute(fa):document.body.setAttribute(fa,t.toString())}},[])},n6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;t6();var i=y.useMemo(function(){return Xz(s)},[s]);return y.createElement(Jz,{styles:e6(i,!e,s,n?"":"!important")})},Fy=!1;if(typeof window<"u")try{var xd=Object.defineProperty({},"passive",{get:function(){return Fy=!0,!0}});window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Fy=!1}var ko=Fy?{passive:!1}:!1,r6=function(t){return t.tagName==="TEXTAREA"},_k=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!r6(t)&&n[e]==="visible")},s6=function(t){return _k(t,"overflowY")},i6=function(t){return _k(t,"overflowX")},hT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=wk(t,r);if(s){var i=Ek(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},o6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},a6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wk=function(t,e){return t==="v"?s6(e):i6(e)},Ek=function(t,e){return t==="v"?o6(e):a6(e)},l6=function(t,e){return t==="h"&&e==="rtl"?-1:1},u6=function(t,e,n,r,s){var i=l6(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,c=o>0,d=0,h=0;do{var f=Ek(t,a),_=f[0],g=f[1],w=f[2],v=g-w-i*_;(_||v)&&wk(t,a)&&(d+=v,h+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(c&&(Math.abs(d)<1||!s)||!c&&(Math.abs(h)<1||!s))&&(u=!0),u},Td=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fT=function(t){return[t.deltaX,t.deltaY]},pT=function(t){return t&&"current"in t?t.current:t},c6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},d6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},h6=0,Po=[];function f6(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(h6++)[0],i=y.useState(vk)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=zj([t.lockRef.current],(t.shards||[]).map(pT),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Td(g),m=n.current,E="deltaX"in g?g.deltaX:m[0]-v[0],x="deltaY"in g?g.deltaY:m[1]-v[1],T,C=g.target,b=Math.abs(E)>Math.abs(x)?"h":"v";if("touches"in g&&b==="h"&&C.type==="range")return!1;var R=hT(b,C);if(!R)return!0;if(R?T=b:(T=b==="v"?"h":"v",R=hT(b,C)),!R)return!1;if(!r.current&&"changedTouches"in g&&(E||x)&&(r.current=T),!T)return!0;var j=r.current||T;return u6(j,w,g,j==="h"?E:x,!0)},[]),l=y.useCallback(function(g){var w=g;if(!(!Po.length||Po[Po.length-1]!==i)){var v="deltaY"in w?fT(w):Td(w),m=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&c6(T.delta,v)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var E=(o.current.shards||[]).map(pT).filter(Boolean).filter(function(T){return T.contains(w.target)}),x=E.length>0?a(w,E[0]):!o.current.noIsolation;x&&w.cancelable&&w.preventDefault()}}},[]),u=y.useCallback(function(g,w,v,m){var E={name:g,delta:w,target:v,should:m,shadowParent:p6(v)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(x){return x!==E})},1)},[]),c=y.useCallback(function(g){n.current=Td(g),r.current=void 0},[]),d=y.useCallback(function(g){u(g.type,fT(g),g.target,a(g,t.lockRef.current))},[]),h=y.useCallback(function(g){u(g.type,Td(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return Po.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ko),document.addEventListener("touchmove",l,ko),document.addEventListener("touchstart",c,ko),function(){Po=Po.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,ko),document.removeEventListener("touchmove",l,ko),document.removeEventListener("touchstart",c,ko)}},[]);var f=t.removeScrollBar,_=t.inert;return y.createElement(y.Fragment,null,_?y.createElement(i,{styles:d6(s)}):null,f?y.createElement(n6,{gapMode:t.gapMode}):null)}function p6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const m6=zz(yk,f6);var xk=y.forwardRef(function(t,e){return y.createElement(bp,_r({},t,{ref:e,sideCar:m6}))});xk.classNames=bp.classNames;var g6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},No=new WeakMap,Id=new WeakMap,Sd={},Bm=0,Tk=function(t){return t&&(t.host||Tk(t.parentNode))},y6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Tk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},v6=function(t,e,n,r){var s=y6(e,Array.isArray(t)?t:[t]);Sd[n]||(Sd[n]=new WeakMap);var i=Sd[n],o=[],a=new Set,l=new Set(s),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};s.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))c(h);else try{var f=h.getAttribute(r),_=f!==null&&f!=="false",g=(No.get(h)||0)+1,w=(i.get(h)||0)+1;No.set(h,g),i.set(h,w),o.push(h),g===1&&_&&Id.set(h,!0),w===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return c(e),a.clear(),Bm++,function(){o.forEach(function(d){var h=No.get(d)-1,f=i.get(d)-1;No.set(d,h),i.set(d,f),h||(Id.has(d)||d.removeAttribute(r),Id.delete(d)),f||d.removeAttribute(n)}),Bm--,Bm||(No=new WeakMap,No=new WeakMap,Id=new WeakMap,Sd={})}},_6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=g6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),v6(r,s,n,"aria-hidden")):function(){return null}},Tw="Dialog",[Ik,AH]=Af(Tw),[w6,ar]=Ik(Tw),Sk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u=!1,c]=kf({prop:r,defaultProp:s,onChange:i});return p.jsx(w6,{scope:e,triggerRef:a,contentRef:l,contentId:Ql(),titleId:Ql(),descriptionId:Ql(),open:u,onOpenChange:c,onOpenToggle:y.useCallback(()=>c(d=>!d),[c]),modal:o,children:n})};Sk.displayName=Tw;var Ck="DialogTrigger",E6=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(Ck,n),i=zt(e,s.triggerRef);return p.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Cw(s.open),...r,ref:i,onClick:ke(t.onClick,s.onOpenToggle)})});E6.displayName=Ck;var Iw="DialogPortal",[x6,bk]=Ik(Iw,{forceMount:void 0}),Ak=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ar(Iw,e);return p.jsx(x6,{scope:e,forceMount:n,children:y.Children.map(r,o=>p.jsx(vo,{present:n||i.open,children:p.jsx(Bv,{asChild:!0,container:s,children:o})}))})};Ak.displayName=Iw;var Jh="DialogOverlay",Rk=y.forwardRef((t,e)=>{const n=bk(Jh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ar(Jh,t.__scopeDialog);return i.modal?p.jsx(vo,{present:r||i.open,children:p.jsx(T6,{...s,ref:e})}):null});Rk.displayName=Jh;var T6=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(Jh,n);return p.jsx(xk,{as:ro,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(Ve.div,{"data-state":Cw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),fo="DialogContent",kk=y.forwardRef((t,e)=>{const n=bk(fo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ar(fo,t.__scopeDialog);return p.jsx(vo,{present:r||i.open,children:i.modal?p.jsx(I6,{...s,ref:e}):p.jsx(S6,{...s,ref:e})})});kk.displayName=fo;var I6=y.forwardRef((t,e)=>{const n=ar(fo,t.__scopeDialog),r=y.useRef(null),s=zt(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return _6(i)},[]),p.jsx(Pk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ke(t.onFocusOutside,i=>i.preventDefault())})}),S6=y.forwardRef((t,e)=>{const n=ar(fo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return p.jsx(Pk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Pk=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ar(fo,n),l=y.useRef(null),u=zt(e,l);return Dz(),p.jsxs(p.Fragment,{children:[p.jsx(pk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(Rf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Cw(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(C6,{titleId:a.titleId}),p.jsx(A6,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Sw="DialogTitle",Nk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(Sw,n);return p.jsx(Ve.h2,{id:s.titleId,...r,ref:e})});Nk.displayName=Sw;var Ok="DialogDescription",Dk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(Ok,n);return p.jsx(Ve.p,{id:s.descriptionId,...r,ref:e})});Dk.displayName=Ok;var Mk="DialogClose",Lk=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(Mk,n);return p.jsx(Ve.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,()=>s.onOpenChange(!1))})});Lk.displayName=Mk;function Cw(t){return t?"open":"closed"}var Vk="DialogTitleWarning",[RH,Fk]=fD(Vk,{contentName:fo,titleName:Sw,docsSlug:"dialog"}),C6=({titleId:t})=>{const e=Fk(Vk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},b6="DialogDescriptionWarning",A6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fk(b6).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},R6=Sk,k6=Ak,jk=Rk,$k=kk,Uk=Nk,Bk=Dk,P6=Lk;const N6=R6,O6=k6,zk=y.forwardRef(({className:t,...e},n)=>p.jsx(jk,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));zk.displayName=jk.displayName;const Wk=y.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(O6,{children:[p.jsx(zk,{}),p.jsxs($k,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(P6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(RS,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wk.displayName=$k.displayName;const Hk=({className:t,...e})=>p.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Hk.displayName="DialogHeader";const qk=({className:t,...e})=>p.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});qk.displayName="DialogFooter";const Kk=y.forwardRef(({className:t,...e},n)=>p.jsx(Uk,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...e}));Kk.displayName=Uk.displayName;const Gk=y.forwardRef(({className:t,...e},n)=>p.jsx(Bk,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));Gk.displayName=Bk.displayName;const D6=()=>{var h;const{expenses:t,updateStatus:e}=Lc(),{user:n}=_s(),r=_o(),[s,i]=y.useState(null),[o,a]=y.useState(""),[l,u]=y.useState(null);if(!n||n.role!=="section_manager"&&n.role!=="manager")return p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"  "}),p.jsx("p",{className:"text-muted-foreground mb-4",children:"      "}),p.jsx(dt,{onClick:()=>r("/"),children:"   "})]});const c=t.filter(f=>n.role==="manager"?f.status==="waiting_executive":n.role==="section_manager"?f.status==="pending"&&f.department===n.department:!1),d=()=>{s!=null&&s.id&&(e(s.id,"rejected"),i(null),a(""),u(null))};return p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:" "}),p.jsx("p",{className:"text-muted-foreground",children:"       "})]}),p.jsx("div",{className:"grid gap-6",children:c.length>0?c.map(f=>{var _,g,w,v;return p.jsxs(Mn,{className:"overflow-hidden",children:[p.jsx(Er,{className:"pb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(xr,{children:f.title}),p.jsxs(ho,{children:[" #",(_=f.id)==null?void 0:_.substring(0,5)," - "," ",p.jsx("strong",{children:f.employeeName||""})," (",f.department||"",")"]})]}),p.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-800",children:f.status==="waiting_executive"?" ":""})]})}),p.jsxs(Kn,{children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),p.jsxs("p",{className:"font-bold",children:[((g=f.amount)==null?void 0:g.toLocaleString())??""," "]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),p.jsx("p",{children:(w=f.createdAt)!=null&&w.seconds?new Date(f.createdAt.seconds*1e3).toLocaleDateString("ar-SA"):""})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),p.jsxs("p",{children:[((v=f.attachments)==null?void 0:v.length)||0," "]})]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:":"}),p.jsx("p",{className:"p-3 bg-muted/30 rounded-md",children:f.description||""})]}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx(dt,{onClick:()=>r(`/expenses/${f.id}`),variant:"outline",children:"  "}),n.role==="section_manager"&&p.jsxs(p.Fragment,{children:[p.jsx(dt,{onClick:()=>e(f.id,"approved"),className:"bg-green-600 hover:bg-green-700",children:" "}),p.jsx(dt,{onClick:()=>e(f.id,"waiting_executive"),variant:"default",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"  "})]}),n.role==="manager"&&p.jsx(dt,{onClick:()=>e(f.id,"approved"),className:"bg-green-700 hover:bg-green-800 text-white",children:" "}),p.jsx(dt,{onClick:()=>{i(f),u("reject")},variant:"destructive",children:" "})]})]})]},f.id)}):p.jsx(Mn,{children:p.jsxs(Er,{children:[p.jsx(xr,{children:"   "}),p.jsx(ho,{children:"        ."})]})})}),p.jsx(N6,{open:!!s,onOpenChange:f=>!f&&i(null),children:p.jsxs(Wk,{className:"sm:max-w-md",children:[p.jsxs(Hk,{children:[p.jsx(Kk,{children:"  "}),p.jsxs(Gk,{children:[" #",(h=s==null?void 0:s.id)==null?void 0:h.substring(0,5)," - ",s==null?void 0:s.title]})]}),p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium mb-1",children:"  ():"}),p.jsx(xw,{placeholder:"  ",value:o,onChange:f=>a(f.target.value)})]})}),p.jsxs(qk,{children:[p.jsx(dt,{variant:"outline",onClick:()=>{i(null),u(null)},children:""}),p.jsx(dt,{variant:"destructive",onClick:d,children:" "})]})]})})]})};var Vc=t=>t.type==="checkbox",Bi=t=>t instanceof Date,Yt=t=>t==null;const Qk=t=>typeof t=="object";var lt=t=>!Yt(t)&&!Array.isArray(t)&&Qk(t)&&!Bi(t),Yk=t=>lt(t)&&t.target?Vc(t.target)?t.target.checked:t.target.value:t,M6=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Zk=(t,e)=>t.has(M6(e)),L6=t=>{const e=t.constructor&&t.constructor.prototype;return lt(e)&&e.hasOwnProperty("isPrototypeOf")},bw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function on(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(bw&&(t instanceof Blob||t instanceof FileList))&&(n||lt(t)))if(e=n?[]:{},!n&&!L6(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=on(t[r]));else return t;return e}var Ap=t=>Array.isArray(t)?t.filter(Boolean):[],st=t=>t===void 0,z=(t,e,n)=>{if(!e||!lt(t))return n;const r=Ap(e.split(/[,[\].]+?/)).reduce((s,i)=>Yt(s)?s:s[i],t);return st(r)||r===t?st(t[e])?n:t[e]:r},Pn=t=>typeof t=="boolean",Aw=t=>/^\w*$/.test(t),Xk=t=>Ap(t.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(t,e,n)=>{let r=-1;const s=Aw(e)?[e]:Xk(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=lt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const ef={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Jk=N.createContext(null),Rp=()=>N.useContext(Jk),V6=t=>{const{children:e,...n}=t;return N.createElement(Jk.Provider,{value:n},e)};var eP=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Gn.all&&(e._proxyFormState[o]=!r||Gn.all),n&&(n[o]=!0),t[o]}});return s},an=t=>lt(t)&&!Object.keys(t).length,tP=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return an(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Gn.all))},ru=t=>Array.isArray(t)?t:[t],nP=(t,e,n)=>!t||!e||t===e||ru(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Rw(t){const e=N.useRef(t);e.current=t,N.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function F6(t){const e=Rp(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=N.useState(n._formState),l=N.useRef(!0),u=N.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=N.useRef(s);return c.current=s,Rw({disabled:r,next:d=>l.current&&nP(c.current,d.name,i)&&tP(d,u.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),N.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),eP(o,n,u.current,!1)}var Sr=t=>typeof t=="string",rP=(t,e,n,r,s)=>Sr(t)?(r&&e.watch.add(t),z(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),z(n,i))):(r&&(e.watchAll=!0),n);function j6(t){const e=Rp(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=N.useRef(r);a.current=r,Rw({disabled:i,subject:n._subjects.values,next:c=>{nP(a.current,c.name,o)&&u(on(rP(a.current,n._names,c.values||n._formValues,!1,s)))}});const[l,u]=N.useState(n._getWatch(r,s));return N.useEffect(()=>n._removeUnmounted()),l}function $6(t){const e=Rp(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=Zk(s._names.array,n),a=j6({control:s,name:n,defaultValue:z(s._formValues,n,z(s._defaultValues,n,t.defaultValue)),exact:!0}),l=F6({control:s,name:n,exact:!0}),u=N.useRef(s.register(n,{...t.rules,value:a,...Pn(t.disabled)?{disabled:t.disabled}:{}}));return N.useEffect(()=>{const c=s._options.shouldUnregister||i,d=(h,f)=>{const _=z(s._fields,h);_&&_._f&&(_._f.mount=f)};if(d(n,!0),c){const h=on(z(s._options.defaultValues,n));De(s._defaultValues,n,h),st(z(s._formValues,n))&&De(s._formValues,n,h)}return()=>{(o?c&&!s._state.action:c)?s.unregister(n):d(n,!1)}},[n,s,o,i]),N.useEffect(()=>{z(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:z(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...Pn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:N.useCallback(c=>u.current.onChange({target:{value:Yk(c),name:n},type:ef.CHANGE}),[n]),onBlur:N.useCallback(()=>u.current.onBlur({target:{value:z(s._formValues,n),name:n},type:ef.BLUR}),[n,s]),ref:N.useCallback(c=>{const d=z(s._fields,n);d&&c&&(d._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:h=>c.setCustomValidity(h),reportValidity:()=>c.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!z(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!z(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!z(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!z(l.validatingFields,n)},error:{enumerable:!0,get:()=>z(l.errors,n)}})}}const U6=t=>t.render($6(t));var sP=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},mT=t=>({isOnSubmit:!t||t===Gn.onSubmit,isOnBlur:t===Gn.onBlur,isOnChange:t===Gn.onChange,isOnAll:t===Gn.all,isOnTouch:t===Gn.onTouched}),gT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const su=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=z(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(su(a,e))break}else if(lt(a)&&su(a,e))break}}};var B6=(t,e,n)=>{const r=ru(z(t,n));return De(r,"root",e[n]),De(t,n,r),t},kw=t=>t.type==="file",rs=t=>typeof t=="function",tf=t=>{if(!bw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Zd=t=>Sr(t),Pw=t=>t.type==="radio",nf=t=>t instanceof RegExp;const yT={value:!1,isValid:!1},vT={value:!0,isValid:!0};var iP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!st(t[0].attributes.value)?st(t[0].value)||t[0].value===""?vT:{value:t[0].value,isValid:!0}:vT:yT}return yT};const _T={isValid:!1,value:null};var oP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,_T):_T;function wT(t,e,n="validate"){if(Zd(t)||Array.isArray(t)&&t.every(Zd)||Pn(t)&&!t)return{type:n,message:Zd(t)?t:"",ref:e}}var Oo=t=>lt(t)&&!nf(t)?t:{value:t,message:""},ET=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:f,name:_,valueAsNumber:g,mount:w,disabled:v}=t._f,m=z(e,_);if(!w||v)return{};const E=o?o[0]:i,x=D=>{r&&E.reportValidity&&(E.setCustomValidity(Pn(D)?"":D||""),E.reportValidity())},T={},C=Pw(i),b=Vc(i),R=C||b,j=(g||kw(i))&&st(i.value)&&st(m)||tf(i)&&i.value===""||m===""||Array.isArray(m)&&!m.length,L=sP.bind(null,_,n,T),re=(D,q,$,se=qr.maxLength,Z=qr.minLength)=>{const le=D?q:$;T[_]={type:D?se:Z,message:le,ref:i,...L(D?se:Z,le)}};if(s?!Array.isArray(m)||!m.length:a&&(!R&&(j||Yt(m))||Pn(m)&&!m||b&&!iP(o).isValid||C&&!oP(o).isValid)){const{value:D,message:q}=Zd(a)?{value:!!a,message:a}:Oo(a);if(D&&(T[_]={type:qr.required,message:q,ref:E,...L(qr.required,q)},!n))return x(q),T}if(!j&&(!Yt(c)||!Yt(d))){let D,q;const $=Oo(d),se=Oo(c);if(!Yt(m)&&!isNaN(m)){const Z=i.valueAsNumber||m&&+m;Yt($.value)||(D=Z>$.value),Yt(se.value)||(q=Z<se.value)}else{const Z=i.valueAsDate||new Date(m),le=ee=>new Date(new Date().toDateString()+" "+ee),A=i.type=="time",B=i.type=="week";Sr($.value)&&m&&(D=A?le(m)>le($.value):B?m>$.value:Z>new Date($.value)),Sr(se.value)&&m&&(q=A?le(m)<le(se.value):B?m<se.value:Z<new Date(se.value))}if((D||q)&&(re(!!D,$.message,se.message,qr.max,qr.min),!n))return x(T[_].message),T}if((l||u)&&!j&&(Sr(m)||s&&Array.isArray(m))){const D=Oo(l),q=Oo(u),$=!Yt(D.value)&&m.length>+D.value,se=!Yt(q.value)&&m.length<+q.value;if(($||se)&&(re($,D.message,q.message),!n))return x(T[_].message),T}if(h&&!j&&Sr(m)){const{value:D,message:q}=Oo(h);if(nf(D)&&!m.match(D)&&(T[_]={type:qr.pattern,message:q,ref:i,...L(qr.pattern,q)},!n))return x(q),T}if(f){if(rs(f)){const D=await f(m,e),q=wT(D,E);if(q&&(T[_]={...q,...L(qr.validate,q.message)},!n))return x(q.message),T}else if(lt(f)){let D={};for(const q in f){if(!an(D)&&!n)break;const $=wT(await f[q](m,e),E,q);$&&(D={...$,...L(q,$.message)},x($.message),n&&(T[_]=D))}if(!an(D)&&(T[_]={ref:E,...D},!n))return T}}return x(!0),T};function z6(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=st(t)?r++:t[e[r++]];return t}function W6(t){for(const e in t)if(t.hasOwnProperty(e)&&!st(t[e]))return!1;return!0}function gt(t,e){const n=Array.isArray(e)?e:Aw(e)?[e]:Xk(e),r=n.length===1?t:z6(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(lt(r)&&an(r)||Array.isArray(r)&&W6(r))&&gt(t,n.slice(0,-1)),t}var zm=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},jy=t=>Yt(t)||!Qk(t);function Fs(t,e){if(jy(t)||jy(e))return t===e;if(Bi(t)&&Bi(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Bi(i)&&Bi(o)||lt(i)&&lt(o)||Array.isArray(i)&&Array.isArray(o)?!Fs(i,o):i!==o)return!1}}return!0}var aP=t=>t.type==="select-multiple",H6=t=>Pw(t)||Vc(t),Wm=t=>tf(t)&&t.isConnected,lP=t=>{for(const e in t)if(rs(t[e]))return!0;return!1};function rf(t,e={}){const n=Array.isArray(t);if(lt(t)||n)for(const r in t)Array.isArray(t[r])||lt(t[r])&&!lP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},rf(t[r],e[r])):Yt(t[r])||(e[r]=!0);return e}function uP(t,e,n){const r=Array.isArray(t);if(lt(t)||r)for(const s in t)Array.isArray(t[s])||lt(t[s])&&!lP(t[s])?st(e)||jy(n[s])?n[s]=Array.isArray(t[s])?rf(t[s],[]):{...rf(t[s])}:uP(t[s],Yt(e)?{}:e[s],n[s]):n[s]=!Fs(t[s],e[s]);return n}var Il=(t,e)=>uP(t,e,rf(e)),cP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>st(t)?t:e?t===""?NaN:t&&+t:n&&Sr(t)?new Date(t):r?r(t):t;function Hm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return kw(e)?e.files:Pw(e)?oP(t.refs).value:aP(e)?[...e.selectedOptions].map(({value:n})=>n):Vc(e)?iP(t.refs).value:cP(st(e.value)?t.ref.value:e.value,t)}var q6=(t,e,n,r)=>{const s={};for(const i of t){const o=z(e,i);o&&De(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Sl=t=>st(t)?t:nf(t)?t.source:lt(t)?nf(t.value)?t.value.source:t.value:t;const xT="AsyncFunction";var K6=t=>(!t||!t.validate)&&!!(rs(t.validate)&&t.validate.constructor.name===xT||lt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===xT)),G6=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function TT(t,e,n){const r=z(t,n);if(r||Aw(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=z(e,i),a=z(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var Q6=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Y6=(t,e)=>!Ap(z(t,e)).length&&gt(t,e);const Z6={mode:Gn.onSubmit,reValidateMode:Gn.onChange,shouldFocusError:!0};function X6(t={}){let e={...Z6,...t},n={submitCount:0,isDirty:!1,isLoading:rs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=lt(e.defaultValues)||lt(e.values)?on(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:on(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:zm(),array:zm(),state:zm()},h=mT(e.mode),f=mT(e.reValidateMode),_=e.criteriaMode===Gn.all,g=I=>S=>{clearTimeout(u),u=setTimeout(I,S)},w=async I=>{if(!t.disabled&&(c.isValid||I)){const S=e.resolver?an((await R()).errors):await L(r,!0);S!==n.isValid&&d.state.next({isValid:S})}},v=(I,S)=>{!t.disabled&&(c.isValidating||c.validatingFields)&&((I||Array.from(a.mount)).forEach(k=>{k&&(S?De(n.validatingFields,k,S):gt(n.validatingFields,k))}),d.state.next({validatingFields:n.validatingFields,isValidating:!an(n.validatingFields)}))},m=(I,S=[],k,K,W=!0,U=!0)=>{if(K&&k&&!t.disabled){if(o.action=!0,U&&Array.isArray(z(r,I))){const ae=k(z(r,I),K.argA,K.argB);W&&De(r,I,ae)}if(U&&Array.isArray(z(n.errors,I))){const ae=k(z(n.errors,I),K.argA,K.argB);W&&De(n.errors,I,ae),Y6(n.errors,I)}if(c.touchedFields&&U&&Array.isArray(z(n.touchedFields,I))){const ae=k(z(n.touchedFields,I),K.argA,K.argB);W&&De(n.touchedFields,I,ae)}c.dirtyFields&&(n.dirtyFields=Il(s,i)),d.state.next({name:I,isDirty:D(I,S),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else De(i,I,S)},E=(I,S)=>{De(n.errors,I,S),d.state.next({errors:n.errors})},x=I=>{n.errors=I,d.state.next({errors:n.errors,isValid:!1})},T=(I,S,k,K)=>{const W=z(r,I);if(W){const U=z(i,I,st(k)?z(s,I):k);st(U)||K&&K.defaultChecked||S?De(i,I,S?U:Hm(W._f)):se(I,U),o.mount&&w()}},C=(I,S,k,K,W)=>{let U=!1,ae=!1;const ye={name:I};if(!t.disabled){const tt=!!(z(r,I)&&z(r,I)._f&&z(r,I)._f.disabled);if(!k||K){c.isDirty&&(ae=n.isDirty,n.isDirty=ye.isDirty=D(),U=ae!==ye.isDirty);const Be=tt||Fs(z(s,I),S);ae=!!(!tt&&z(n.dirtyFields,I)),Be||tt?gt(n.dirtyFields,I):De(n.dirtyFields,I,!0),ye.dirtyFields=n.dirtyFields,U=U||c.dirtyFields&&ae!==!Be}if(k){const Be=z(n.touchedFields,I);Be||(De(n.touchedFields,I,k),ye.touchedFields=n.touchedFields,U=U||c.touchedFields&&Be!==k)}U&&W&&d.state.next(ye)}return U?ye:{}},b=(I,S,k,K)=>{const W=z(n.errors,I),U=c.isValid&&Pn(S)&&n.isValid!==S;if(t.delayError&&k?(l=g(()=>E(I,k)),l(t.delayError)):(clearTimeout(u),l=null,k?De(n.errors,I,k):gt(n.errors,I)),(k?!Fs(W,k):W)||!an(K)||U){const ae={...K,...U&&Pn(S)?{isValid:S}:{},errors:n.errors,name:I};n={...n,...ae},d.state.next(ae)}},R=async I=>{v(I,!0);const S=await e.resolver(i,e.context,q6(I||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(I),S},j=async I=>{const{errors:S}=await R(I);if(I)for(const k of I){const K=z(S,k);K?De(n.errors,k,K):gt(n.errors,k)}else n.errors=S;return S},L=async(I,S,k={valid:!0})=>{for(const K in I){const W=I[K];if(W){const{_f:U,...ae}=W;if(U){const ye=a.array.has(U.name),tt=W._f&&K6(W._f);tt&&c.validatingFields&&v([K],!0);const Be=await ET(W,i,_,e.shouldUseNativeValidation&&!S,ye);if(tt&&c.validatingFields&&v([K]),Be[U.name]&&(k.valid=!1,S))break;!S&&(z(Be,U.name)?ye?B6(n.errors,Be,U.name):De(n.errors,U.name,Be[U.name]):gt(n.errors,U.name))}!an(ae)&&await L(ae,S,k)}}return k.valid},re=()=>{for(const I of a.unMount){const S=z(r,I);S&&(S._f.refs?S._f.refs.every(k=>!Wm(k)):!Wm(S._f.ref))&&Re(I)}a.unMount=new Set},D=(I,S)=>!t.disabled&&(I&&S&&De(i,I,S),!Fs(Y(),s)),q=(I,S,k)=>rP(I,a,{...o.mount?i:st(S)?s:Sr(I)?{[I]:S}:S},k,S),$=I=>Ap(z(o.mount?i:s,I,t.shouldUnregister?z(s,I,[]):[])),se=(I,S,k={})=>{const K=z(r,I);let W=S;if(K){const U=K._f;U&&(!U.disabled&&De(i,I,cP(S,U)),W=tf(U.ref)&&Yt(S)?"":S,aP(U.ref)?[...U.ref.options].forEach(ae=>ae.selected=W.includes(ae.value)):U.refs?Vc(U.ref)?U.refs.length>1?U.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(W)?!!W.find(ye=>ye===ae.value):W===ae.value)):U.refs[0]&&(U.refs[0].checked=!!W):U.refs.forEach(ae=>ae.checked=ae.value===W):kw(U.ref)?U.ref.value="":(U.ref.value=W,U.ref.type||d.values.next({name:I,values:{...i}})))}(k.shouldDirty||k.shouldTouch)&&C(I,W,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&ee(I)},Z=(I,S,k)=>{for(const K in S){const W=S[K],U=`${I}.${K}`,ae=z(r,U);(a.array.has(I)||lt(W)||ae&&!ae._f)&&!Bi(W)?Z(U,W,k):se(U,W,k)}},le=(I,S,k={})=>{const K=z(r,I),W=a.array.has(I),U=on(S);De(i,I,U),W?(d.array.next({name:I,values:{...i}}),(c.isDirty||c.dirtyFields)&&k.shouldDirty&&d.state.next({name:I,dirtyFields:Il(s,i),isDirty:D(I,U)})):K&&!K._f&&!Yt(U)?Z(I,U,k):se(I,U,k),gT(I,a)&&d.state.next({...n}),d.values.next({name:o.mount?I:void 0,values:{...i}})},A=async I=>{o.mount=!0;const S=I.target;let k=S.name,K=!0;const W=z(r,k),U=()=>S.type?Hm(W._f):Yk(I),ae=ye=>{K=Number.isNaN(ye)||Bi(ye)&&isNaN(ye.getTime())||Fs(ye,z(i,k,ye))};if(W){let ye,tt;const Be=U(),cr=I.type===ef.BLUR||I.type===ef.FOCUS_OUT,xs=!G6(W._f)&&!e.resolver&&!z(n.errors,k)&&!W._f.deps||Q6(cr,z(n.touchedFields,k),n.isSubmitted,f,h),Co=gT(k,a,cr);De(i,k,Be),cr?(W._f.onBlur&&W._f.onBlur(I),l&&l(0)):W._f.onChange&&W._f.onChange(I);const ul=C(k,Be,cr,!1),$c=!an(ul)||Co;if(!cr&&d.values.next({name:k,type:I.type,values:{...i}}),xs)return c.isValid&&(t.mode==="onBlur"?cr&&w():w()),$c&&d.state.next({name:k,...Co?{}:ul});if(!cr&&Co&&d.state.next({...n}),e.resolver){const{errors:cl}=await R([k]);if(ae(Be),K){const Np=TT(n.errors,r,k),bo=TT(cl,r,Np.name||k);ye=bo.error,k=bo.name,tt=an(cl)}}else v([k],!0),ye=(await ET(W,i,_,e.shouldUseNativeValidation))[k],v([k]),ae(Be),K&&(ye?tt=!1:c.isValid&&(tt=await L(r,!0)));K&&(W._f.deps&&ee(W._f.deps),b(k,tt,ye,ul))}},B=(I,S)=>{if(z(n.errors,S)&&I.focus)return I.focus(),1},ee=async(I,S={})=>{let k,K;const W=ru(I);if(e.resolver){const U=await j(st(I)?I:W);k=an(U),K=I?!W.some(ae=>z(U,ae)):k}else I?(K=(await Promise.all(W.map(async U=>{const ae=z(r,U);return await L(ae&&ae._f?{[U]:ae}:ae)}))).every(Boolean),!(!K&&!n.isValid)&&w()):K=k=await L(r);return d.state.next({...!Sr(I)||c.isValid&&k!==n.isValid?{}:{name:I},...e.resolver||!I?{isValid:k}:{},errors:n.errors}),S.shouldFocus&&!K&&su(r,B,I?W:a.mount),K},Y=I=>{const S={...o.mount?i:s};return st(I)?S:Sr(I)?z(S,I):I.map(k=>z(S,k))},oe=(I,S)=>({invalid:!!z((S||n).errors,I),isDirty:!!z((S||n).dirtyFields,I),error:z((S||n).errors,I),isValidating:!!z(n.validatingFields,I),isTouched:!!z((S||n).touchedFields,I)}),xe=I=>{I&&ru(I).forEach(S=>gt(n.errors,S)),d.state.next({errors:I?n.errors:{}})},Fe=(I,S,k)=>{const K=(z(r,I,{_f:{}})._f||{}).ref,W=z(n.errors,I)||{},{ref:U,message:ae,type:ye,...tt}=W;De(n.errors,I,{...tt,...S,ref:K}),d.state.next({name:I,errors:n.errors,isValid:!1}),k&&k.shouldFocus&&K&&K.focus&&K.focus()},Kt=(I,S)=>rs(I)?d.values.subscribe({next:k=>I(q(void 0,S),k)}):q(I,S,!0),Re=(I,S={})=>{for(const k of I?ru(I):a.mount)a.mount.delete(k),a.array.delete(k),S.keepValue||(gt(r,k),gt(i,k)),!S.keepError&&gt(n.errors,k),!S.keepDirty&&gt(n.dirtyFields,k),!S.keepTouched&&gt(n.touchedFields,k),!S.keepIsValidating&&gt(n.validatingFields,k),!e.shouldUnregister&&!S.keepDefaultValue&&gt(s,k);d.values.next({values:{...i}}),d.state.next({...n,...S.keepDirty?{isDirty:D()}:{}}),!S.keepIsValid&&w()},sn=({disabled:I,name:S,field:k,fields:K,value:W})=>{if(Pn(I)&&o.mount||I){const U=I?void 0:st(W)?Hm(k?k._f:z(K,S)._f):W;De(i,S,U),C(S,U,!1,!1,!0)}},Rn=(I,S={})=>{let k=z(r,I);const K=Pn(S.disabled)||Pn(t.disabled);return De(r,I,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:I}},name:I,mount:!0,...S}}),a.mount.add(I),k?sn({field:k,disabled:Pn(S.disabled)?S.disabled:t.disabled,name:I,value:S.value}):T(I,!0,S.value),{...K?{disabled:S.disabled||t.disabled}:{},...e.progressive?{required:!!S.required,min:Sl(S.min),max:Sl(S.max),minLength:Sl(S.minLength),maxLength:Sl(S.maxLength),pattern:Sl(S.pattern)}:{},name:I,onChange:A,onBlur:A,ref:W=>{if(W){Rn(I,S),k=z(r,I);const U=st(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,ae=H6(U),ye=k._f.refs||[];if(ae?ye.find(tt=>tt===U):U===k._f.ref)return;De(r,I,{_f:{...k._f,...ae?{refs:[...ye.filter(Wm),U,...Array.isArray(z(s,I))?[{}]:[]],ref:{type:U.type,name:I}}:{ref:U}}}),T(I,!1,void 0,U)}else k=z(r,I,{}),k._f&&(k._f.mount=!1),(e.shouldUnregister||S.shouldUnregister)&&!(Zk(a.array,I)&&o.action)&&a.unMount.add(I)}}},$n=()=>e.shouldFocusError&&su(r,B,a.mount),lr=I=>{Pn(I)&&(d.state.next({disabled:I}),su(r,(S,k)=>{const K=z(r,k);K&&(S.disabled=K._f.disabled||I,Array.isArray(K._f.refs)&&K._f.refs.forEach(W=>{W.disabled=K._f.disabled||I}))},0,!1))},Ni=(I,S)=>async k=>{let K;k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let W=on(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:U,values:ae}=await R();n.errors=U,W=ae}else await L(r);if(gt(n.errors,"root"),an(n.errors)){d.state.next({errors:{}});try{await I(W,k)}catch(U){K=U}}else S&&await S({...n.errors},k),$n(),setTimeout($n);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:an(n.errors)&&!K,submitCount:n.submitCount+1,errors:n.errors}),K)throw K},ws=(I,S={})=>{z(r,I)&&(st(S.defaultValue)?le(I,on(z(s,I))):(le(I,S.defaultValue),De(s,I,on(S.defaultValue))),S.keepTouched||gt(n.touchedFields,I),S.keepDirty||(gt(n.dirtyFields,I),n.isDirty=S.defaultValue?D(I,on(z(s,I))):D()),S.keepError||(gt(n.errors,I),c.isValid&&w()),d.state.next({...n}))},ur=(I,S={})=>{const k=I?on(I):s,K=on(k),W=an(I),U=W?s:K;if(S.keepDefaultValues||(s=k),!S.keepValues){if(S.keepDirtyValues){const ae=new Set([...a.mount,...Object.keys(Il(s,i))]);for(const ye of Array.from(ae))z(n.dirtyFields,ye)?De(U,ye,z(i,ye)):le(ye,z(U,ye))}else{if(bw&&st(I))for(const ae of a.mount){const ye=z(r,ae);if(ye&&ye._f){const tt=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(tf(tt)){const Be=tt.closest("form");if(Be){Be.reset();break}}}}r={}}i=t.shouldUnregister?S.keepDefaultValues?on(s):{}:on(U),d.array.next({values:{...U}}),d.values.next({values:{...U}})}a={mount:S.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!S.keepIsValid||!!S.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:S.keepSubmitCount?n.submitCount:0,isDirty:W?!1:S.keepDirty?n.isDirty:!!(S.keepDefaultValues&&!Fs(I,s)),isSubmitted:S.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:W?{}:S.keepDirtyValues?S.keepDefaultValues&&i?Il(s,i):n.dirtyFields:S.keepDefaultValues&&I?Il(s,I):S.keepDirty?n.dirtyFields:{},touchedFields:S.keepTouched?n.touchedFields:{},errors:S.keepErrors?n.errors:{},isSubmitSuccessful:S.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Es=(I,S)=>ur(rs(I)?I(i):I,S);return{control:{register:Rn,unregister:Re,getFieldState:oe,handleSubmit:Ni,setError:Fe,_executeSchema:R,_getWatch:q,_getDirty:D,_updateValid:w,_removeUnmounted:re,_updateFieldArray:m,_updateDisabledField:sn,_getFieldArray:$,_reset:ur,_resetDefaultValues:()=>rs(e.defaultValues)&&e.defaultValues().then(I=>{Es(I,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:I=>{n={...n,...I}},_disableForm:lr,_subjects:d,_proxyFormState:c,_setErrors:x,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(I){o=I},get _defaultValues(){return s},get _names(){return a},set _names(I){a=I},get _formState(){return n},set _formState(I){n=I},get _options(){return e},set _options(I){e={...e,...I}}},trigger:ee,register:Rn,handleSubmit:Ni,watch:Kt,setValue:le,getValues:Y,reset:Es,resetField:ws,clearErrors:xe,unregister:Re,setError:Fe,setFocus:(I,S={})=>{const k=z(r,I),K=k&&k._f;if(K){const W=K.refs?K.refs[0]:K.ref;W.focus&&(W.focus(),S.shouldSelect&&W.select())}},getFieldState:oe}}function J6(t={}){const e=N.useRef(),n=N.useRef(),[r,s]=N.useState({isDirty:!1,isValidating:!1,isLoading:rs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:rs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...X6(t),formState:r});const i=e.current.control;return i._options=t,Rw({subject:i._subjects.state,next:o=>{tP(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),N.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),N.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),N.useEffect(()=>{t.values&&!Fs(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),N.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),N.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),N.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),N.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=eP(r,i),e.current}var be;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(be||(be={}));var $y;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})($y||($y={}));const Q=be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),js=t=>{switch(typeof t){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return isNaN(t)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(t)?Q.array:t===null?Q.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Q.promise:typeof Map<"u"&&t instanceof Map?Q.map:typeof Set<"u"&&t instanceof Set?Q.set:typeof Date<"u"&&t instanceof Date?Q.date:Q.object;default:return Q.unknown}},F=be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eW=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Tn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof Tn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Tn.create=t=>new Tn(t);const za=(t,e)=>{let n;switch(t.code){case F.invalid_type:t.received===Q.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case F.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,be.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:n=`Unrecognized key(s) in object: ${be.joinValues(t.keys,", ")}`;break;case F.invalid_union:n="Invalid input";break;case F.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${be.joinValues(t.options)}`;break;case F.invalid_enum_value:n=`Invalid enum value. Expected ${be.joinValues(t.options)}, received '${t.received}'`;break;case F.invalid_arguments:n="Invalid function arguments";break;case F.invalid_return_type:n="Invalid function return type";break;case F.invalid_date:n="Invalid date";break;case F.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:be.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case F.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case F.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case F.custom:n="Invalid input";break;case F.invalid_intersection_types:n="Intersection results could not be merged";break;case F.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case F.not_finite:n="Number must be finite";break;default:n=e.defaultError,be.assertNever(t)}return{message:n}};let dP=za;function tW(t){dP=t}function sf(){return dP}const of=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},nW=[];function G(t,e){const n=sf(),r=of({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===za?void 0:za].filter(s=>!!s)});t.common.issues.push(r)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ce;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return qt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ce=Object.freeze({status:"aborted"}),Xo=t=>({status:"dirty",value:t}),tn=t=>({status:"valid",value:t}),Uy=t=>t.status==="aborted",By=t=>t.status==="dirty",Gu=t=>t.status==="valid",Qu=t=>typeof Promise<"u"&&t instanceof Promise;function af(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function hP(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ne||(ne={}));var Vl,Fl;class Fr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const IT=(t,e)=>{if(Gu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Tn(t.common.issues);return this._error=n,this._error}}};function me(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,u;const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class Ee{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return js(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:js(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qt,ctx:{common:e.parent.common,data:e.data,parsedType:js(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Qu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:js(e)},i=this._parseSync({data:e,path:s.path,parent:s});return IT(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:js(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Qu(s)?s:Promise.resolve(s));return IT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:F.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new or({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Dr.create(this,this._def)}nullable(){return xi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jn.create(this,this._def)}promise(){return Ha.create(this,this._def)}or(e){return Ju.create([this,e],this._def)}and(e){return ec.create(this,e,this._def)}transform(e){return new or({...me(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ic({...me(this._def),innerType:this,defaultValue:n,typeName:ue.ZodDefault})}brand(){return new Nw({typeName:ue.ZodBranded,type:this,...me(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new oc({...me(this._def),innerType:this,catchValue:n,typeName:ue.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Fc.create(this,e)}readonly(){return ac.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rW=/^c[^\s-]{8,}$/i,sW=/^[0-9a-z]+$/,iW=/^[0-9A-HJKMNP-TV-Z]{26}$/,oW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aW=/^[a-z0-9_-]{21}$/i,lW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qm;const dW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hW=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pW=new RegExp(`^${fP}$`);function pP(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function mW(t){return new RegExp(`^${pP(t)}$`)}function mP(t){let e=`${fP}T${pP(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function gW(t,e){return!!((e==="v4"||!e)&&dW.test(t)||(e==="v6"||!e)&&hW.test(t))}class Yn extends Ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Q.string){const i=this._getOrReturnCtx(e);return G(i,{code:F.invalid_type,expected:Q.string,received:i.parsedType}),ce}const r=new qt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:F.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:F.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?G(s,{code:F.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&G(s,{code:F.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")uW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"email",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")qm||(qm=new RegExp(cW,"u")),qm.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"emoji",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")oW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"uuid",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")aW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"nanoid",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")rW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")sW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid2",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")iW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ulid",code:F.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),G(s,{validation:"url",code:F.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"regex",code:F.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?mP(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?pW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?mW(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:F.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?lW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"duration",code:F.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?gW(e.data,i.version)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ip",code:F.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?fW.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"base64",code:F.invalid_string,message:i.message}),r.dirty()):be.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:F.invalid_string,...ne.errToObj(r)})}_addCheck(e){return new Yn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ne.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ne.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ne.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ne.errToObj(n)})}nonempty(e){return this.min(1,ne.errToObj(e))}trim(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Yn.create=t=>{var e;return new Yn({checks:[],typeName:ue.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...me(t)})};function yW(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class _i extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Q.number){const i=this._getOrReturnCtx(e);return G(i,{code:F.invalid_type,expected:Q.number,received:i.parsedType}),ce}let r;const s=new qt;for(const i of this._def.checks)i.kind==="int"?be.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),G(r,{code:F.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:F.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:F.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?yW(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),G(r,{code:F.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),G(r,{code:F.not_finite,message:i.message}),s.dirty()):be.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ne.toString(n))}setLimit(e,n,r,s){return new _i({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ne.toString(s)}]})}_addCheck(e){return new _i({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&be.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}_i.create=t=>new _i({checks:[],typeName:ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...me(t)});class wi extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Q.bigint){const i=this._getOrReturnCtx(e);return G(i,{code:F.invalid_type,expected:Q.bigint,received:i.parsedType}),ce}let r;const s=new qt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:F.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),G(r,{code:F.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),G(r,{code:F.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):be.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ne.toString(n))}setLimit(e,n,r,s){return new wi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ne.toString(s)}]})}_addCheck(e){return new wi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}wi.create=t=>{var e;return new wi({checks:[],typeName:ue.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...me(t)})};class Yu extends Ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Q.boolean){const r=this._getOrReturnCtx(e);return G(r,{code:F.invalid_type,expected:Q.boolean,received:r.parsedType}),ce}return tn(e.data)}}Yu.create=t=>new Yu({typeName:ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...me(t)});class po extends Ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Q.date){const i=this._getOrReturnCtx(e);return G(i,{code:F.invalid_type,expected:Q.date,received:i.parsedType}),ce}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return G(i,{code:F.invalid_date}),ce}const r=new qt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:F.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:F.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):be.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}po.create=t=>new po({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ue.ZodDate,...me(t)});class lf extends Ee{_parse(e){if(this._getType(e)!==Q.symbol){const r=this._getOrReturnCtx(e);return G(r,{code:F.invalid_type,expected:Q.symbol,received:r.parsedType}),ce}return tn(e.data)}}lf.create=t=>new lf({typeName:ue.ZodSymbol,...me(t)});class Zu extends Ee{_parse(e){if(this._getType(e)!==Q.undefined){const r=this._getOrReturnCtx(e);return G(r,{code:F.invalid_type,expected:Q.undefined,received:r.parsedType}),ce}return tn(e.data)}}Zu.create=t=>new Zu({typeName:ue.ZodUndefined,...me(t)});class Xu extends Ee{_parse(e){if(this._getType(e)!==Q.null){const r=this._getOrReturnCtx(e);return G(r,{code:F.invalid_type,expected:Q.null,received:r.parsedType}),ce}return tn(e.data)}}Xu.create=t=>new Xu({typeName:ue.ZodNull,...me(t)});class Wa extends Ee{constructor(){super(...arguments),this._any=!0}_parse(e){return tn(e.data)}}Wa.create=t=>new Wa({typeName:ue.ZodAny,...me(t)});class Zi extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tn(e.data)}}Zi.create=t=>new Zi({typeName:ue.ZodUnknown,...me(t)});class gs extends Ee{_parse(e){const n=this._getOrReturnCtx(e);return G(n,{code:F.invalid_type,expected:Q.never,received:n.parsedType}),ce}}gs.create=t=>new gs({typeName:ue.ZodNever,...me(t)});class uf extends Ee{_parse(e){if(this._getType(e)!==Q.undefined){const r=this._getOrReturnCtx(e);return G(r,{code:F.invalid_type,expected:Q.void,received:r.parsedType}),ce}return tn(e.data)}}uf.create=t=>new uf({typeName:ue.ZodVoid,...me(t)});class Jn extends Ee{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Q.array)return G(n,{code:F.invalid_type,expected:Q.array,received:n.parsedType}),ce;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(G(n,{code:o?F.too_big:F.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(G(n,{code:F.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(G(n,{code:F.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Fr(n,o,n.path,a)))).then(o=>qt.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Fr(n,o,n.path,a)));return qt.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Jn({...this._def,minLength:{value:e,message:ne.toString(n)}})}max(e,n){return new Jn({...this._def,maxLength:{value:e,message:ne.toString(n)}})}length(e,n){return new Jn({...this._def,exactLength:{value:e,message:ne.toString(n)}})}nonempty(e){return this.min(1,e)}}Jn.create=(t,e)=>new Jn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...me(e)});function Vo(t){if(t instanceof Ye){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Dr.create(Vo(r))}return new Ye({...t._def,shape:()=>e})}else return t instanceof Jn?new Jn({...t._def,type:Vo(t.element)}):t instanceof Dr?Dr.create(Vo(t.unwrap())):t instanceof xi?xi.create(Vo(t.unwrap())):t instanceof jr?jr.create(t.items.map(e=>Vo(e))):t}class Ye extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=be.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Q.object){const u=this._getOrReturnCtx(e);return G(u,{code:F.invalid_type,expected:Q.object,received:u.parsedType}),ce}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof gs&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const c=i[u],d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Fr(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof gs){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")a.length>0&&(G(s,{code:F.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Fr(s,d,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>qt.mergeObjectSync(r,u)):qt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ne.errToObj,new Ye({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ne.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ye({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ye({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ue.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ye({...this._def,catchall:e})}pick(e){const n={};return be.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}omit(e){const n={};return be.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ye({...this._def,shape:()=>n})}deepPartial(){return Vo(this)}partial(e){const n={};return be.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ye({...this._def,shape:()=>n})}required(e){const n={};return be.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Dr;)i=i._def.innerType;n[r]=i}}),new Ye({...this._def,shape:()=>n})}keyof(){return gP(be.objectKeys(this.shape))}}Ye.create=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strip",catchall:gs.create(),typeName:ue.ZodObject,...me(e)});Ye.strictCreate=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strict",catchall:gs.create(),typeName:ue.ZodObject,...me(e)});Ye.lazycreate=(t,e)=>new Ye({shape:t,unknownKeys:"strip",catchall:gs.create(),typeName:ue.ZodObject,...me(e)});class Ju extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Tn(a.ctx.common.issues));return G(n,{code:F.invalid_union,unionErrors:o}),ce}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Tn(l));return G(n,{code:F.invalid_union,unionErrors:a}),ce}}get options(){return this._def.options}}Ju.create=(t,e)=>new Ju({options:t,typeName:ue.ZodUnion,...me(e)});const Qr=t=>t instanceof nc?Qr(t.schema):t instanceof or?Qr(t.innerType()):t instanceof rc?[t.value]:t instanceof Ei?t.options:t instanceof sc?be.objectValues(t.enum):t instanceof ic?Qr(t._def.innerType):t instanceof Zu?[void 0]:t instanceof Xu?[null]:t instanceof Dr?[void 0,...Qr(t.unwrap())]:t instanceof xi?[null,...Qr(t.unwrap())]:t instanceof Nw||t instanceof ac?Qr(t.unwrap()):t instanceof oc?Qr(t._def.innerType):[];class kp extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.object)return G(n,{code:F.invalid_type,expected:Q.object,received:n.parsedType}),ce;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(G(n,{code:F.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Qr(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new kp({typeName:ue.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...me(r)})}}function zy(t,e){const n=js(t),r=js(e);if(t===e)return{valid:!0,data:t};if(n===Q.object&&r===Q.object){const s=be.objectKeys(e),i=be.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=zy(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===Q.array&&r===Q.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=zy(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===Q.date&&r===Q.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ec extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Uy(i)||Uy(o))return ce;const a=zy(i.value,o.value);return a.valid?((By(i)||By(o))&&n.dirty(),{status:n.value,value:a.data}):(G(r,{code:F.invalid_intersection_types}),ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ec.create=(t,e,n)=>new ec({left:t,right:e,typeName:ue.ZodIntersection,...me(n)});class jr extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.array)return G(r,{code:F.invalid_type,expected:Q.array,received:r.parsedType}),ce;if(r.data.length<this._def.items.length)return G(r,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&r.data.length>this._def.items.length&&(G(r,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Fr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>qt.mergeArray(n,o)):qt.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new jr({...this._def,rest:e})}}jr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jr({items:t,typeName:ue.ZodTuple,rest:null,...me(e)})};class tc extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.object)return G(r,{code:F.invalid_type,expected:Q.object,received:r.parsedType}),ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Fr(r,a,r.path,a)),value:o._parse(new Fr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?qt.mergeObjectAsync(n,s):qt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ee?new tc({keyType:e,valueType:n,typeName:ue.ZodRecord,...me(r)}):new tc({keyType:Yn.create(),valueType:e,typeName:ue.ZodRecord,...me(n)})}}class cf extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.map)return G(r,{code:F.invalid_type,expected:Q.map,received:r.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Fr(r,a,r.path,[u,"key"])),value:i._parse(new Fr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return ce;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return ce;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}cf.create=(t,e,n)=>new cf({valueType:e,keyType:t,typeName:ue.ZodMap,...me(n)});class mo extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Q.set)return G(r,{code:F.invalid_type,expected:Q.set,received:r.parsedType}),ce;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(G(r,{code:F.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(G(r,{code:F.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const c of l){if(c.status==="aborted")return ce;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Fr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new mo({...this._def,minSize:{value:e,message:ne.toString(n)}})}max(e,n){return new mo({...this._def,maxSize:{value:e,message:ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}mo.create=(t,e)=>new mo({valueType:t,minSize:null,maxSize:null,typeName:ue.ZodSet,...me(e)});class pa extends Ee{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.function)return G(n,{code:F.invalid_type,expected:Q.function,received:n.parsedType}),ce;function r(a,l){return of({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sf(),za].filter(u=>!!u),issueData:{code:F.invalid_arguments,argumentsError:l}})}function s(a,l){return of({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sf(),za].filter(u=>!!u),issueData:{code:F.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ha){const a=this;return tn(async function(...l){const u=new Tn([]),c=await a._def.args.parseAsync(l,i).catch(f=>{throw u.addIssue(r(l,f)),u}),d=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(d,i).catch(f=>{throw u.addIssue(s(d,f)),u})})}else{const a=this;return tn(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new Tn([r(l,u.error)]);const c=Reflect.apply(o,this,u.data),d=a._def.returns.safeParse(c,i);if(!d.success)throw new Tn([s(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new pa({...this._def,args:jr.create(e).rest(Zi.create())})}returns(e){return new pa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new pa({args:e||jr.create([]).rest(Zi.create()),returns:n||Zi.create(),typeName:ue.ZodFunction,...me(r)})}}class nc extends Ee{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nc.create=(t,e)=>new nc({getter:t,typeName:ue.ZodLazy,...me(e)});class rc extends Ee{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return G(n,{received:n.data,code:F.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}rc.create=(t,e)=>new rc({value:t,typeName:ue.ZodLiteral,...me(e)});function gP(t,e){return new Ei({values:t,typeName:ue.ZodEnum,...me(e)})}class Ei extends Ee{constructor(){super(...arguments),Vl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return G(n,{expected:be.joinValues(r),received:n.parsedType,code:F.invalid_type}),ce}if(af(this,Vl)||hP(this,Vl,new Set(this._def.values)),!af(this,Vl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return G(n,{received:n.data,code:F.invalid_enum_value,options:r}),ce}return tn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ei.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ei.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Vl=new WeakMap;Ei.create=gP;class sc extends Ee{constructor(){super(...arguments),Fl.set(this,void 0)}_parse(e){const n=be.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Q.string&&r.parsedType!==Q.number){const s=be.objectValues(n);return G(r,{expected:be.joinValues(s),received:r.parsedType,code:F.invalid_type}),ce}if(af(this,Fl)||hP(this,Fl,new Set(be.getValidEnumValues(this._def.values))),!af(this,Fl).has(e.data)){const s=be.objectValues(n);return G(r,{received:r.data,code:F.invalid_enum_value,options:s}),ce}return tn(e.data)}get enum(){return this._def.values}}Fl=new WeakMap;sc.create=(t,e)=>new sc({values:t,typeName:ue.ZodNativeEnum,...me(e)});class Ha extends Ee{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.promise&&n.common.async===!1)return G(n,{code:F.invalid_type,expected:Q.promise,received:n.parsedType}),ce;const r=n.parsedType===Q.promise?n.data:Promise.resolve(n.data);return tn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ha.create=(t,e)=>new Ha({type:t,typeName:ue.ZodPromise,...me(e)});class or extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{G(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ce;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ce:l.status==="dirty"||n.value==="dirty"?Xo(l.value):l});{if(n.value==="aborted")return ce;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ce:a.status==="dirty"||n.value==="dirty"?Xo(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ce:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Gu(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Gu(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);be.assertNever(s)}}or.create=(t,e,n)=>new or({schema:t,typeName:ue.ZodEffects,effect:e,...me(n)});or.createWithPreprocess=(t,e,n)=>new or({schema:e,effect:{type:"preprocess",transform:t},typeName:ue.ZodEffects,...me(n)});class Dr extends Ee{_parse(e){return this._getType(e)===Q.undefined?tn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dr.create=(t,e)=>new Dr({innerType:t,typeName:ue.ZodOptional,...me(e)});class xi extends Ee{_parse(e){return this._getType(e)===Q.null?tn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xi.create=(t,e)=>new xi({innerType:t,typeName:ue.ZodNullable,...me(e)});class ic extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Q.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ic.create=(t,e)=>new ic({innerType:t,typeName:ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...me(e)});class oc extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Qu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Tn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Tn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}oc.create=(t,e)=>new oc({innerType:t,typeName:ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...me(e)});class df extends Ee{_parse(e){if(this._getType(e)!==Q.nan){const r=this._getOrReturnCtx(e);return G(r,{code:F.invalid_type,expected:Q.nan,received:r.parsedType}),ce}return{status:"valid",value:e.data}}}df.create=t=>new df({typeName:ue.ZodNaN,...me(t)});const vW=Symbol("zod_brand");class Nw extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Fc extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ce:i.status==="dirty"?(n.dirty(),Xo(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Fc({in:e,out:n,typeName:ue.ZodPipeline})}}class ac extends Ee{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Gu(s)&&(s.value=Object.freeze(s.value)),s);return Qu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}ac.create=(t,e)=>new ac({innerType:t,typeName:ue.ZodReadonly,...me(e)});function yP(t,e={},n){return t?Wa.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:l})}}):Wa.create()}const _W={object:Ye.lazycreate};var ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ue||(ue={}));const wW=(t,e={message:`Input not instance of ${t.name}`})=>yP(n=>n instanceof t,e),vP=Yn.create,_P=_i.create,EW=df.create,xW=wi.create,wP=Yu.create,TW=po.create,IW=lf.create,SW=Zu.create,CW=Xu.create,bW=Wa.create,AW=Zi.create,RW=gs.create,kW=uf.create,PW=Jn.create,NW=Ye.create,OW=Ye.strictCreate,DW=Ju.create,MW=kp.create,LW=ec.create,VW=jr.create,FW=tc.create,jW=cf.create,$W=mo.create,UW=pa.create,BW=nc.create,zW=rc.create,WW=Ei.create,HW=sc.create,qW=Ha.create,ST=or.create,KW=Dr.create,GW=xi.create,QW=or.createWithPreprocess,YW=Fc.create,ZW=()=>vP().optional(),XW=()=>_P().optional(),JW=()=>wP().optional(),eH={string:t=>Yn.create({...t,coerce:!0}),number:t=>_i.create({...t,coerce:!0}),boolean:t=>Yu.create({...t,coerce:!0}),bigint:t=>wi.create({...t,coerce:!0}),date:t=>po.create({...t,coerce:!0})},tH=ce;var Km=Object.freeze({__proto__:null,defaultErrorMap:za,setErrorMap:tW,getErrorMap:sf,makeIssue:of,EMPTY_PATH:nW,addIssueToContext:G,ParseStatus:qt,INVALID:ce,DIRTY:Xo,OK:tn,isAborted:Uy,isDirty:By,isValid:Gu,isAsync:Qu,get util(){return be},get objectUtil(){return $y},ZodParsedType:Q,getParsedType:js,ZodType:Ee,datetimeRegex:mP,ZodString:Yn,ZodNumber:_i,ZodBigInt:wi,ZodBoolean:Yu,ZodDate:po,ZodSymbol:lf,ZodUndefined:Zu,ZodNull:Xu,ZodAny:Wa,ZodUnknown:Zi,ZodNever:gs,ZodVoid:uf,ZodArray:Jn,ZodObject:Ye,ZodUnion:Ju,ZodDiscriminatedUnion:kp,ZodIntersection:ec,ZodTuple:jr,ZodRecord:tc,ZodMap:cf,ZodSet:mo,ZodFunction:pa,ZodLazy:nc,ZodLiteral:rc,ZodEnum:Ei,ZodNativeEnum:sc,ZodPromise:Ha,ZodEffects:or,ZodTransformer:or,ZodOptional:Dr,ZodNullable:xi,ZodDefault:ic,ZodCatch:oc,ZodNaN:df,BRAND:vW,ZodBranded:Nw,ZodPipeline:Fc,ZodReadonly:ac,custom:yP,Schema:Ee,ZodSchema:Ee,late:_W,get ZodFirstPartyTypeKind(){return ue},coerce:eH,any:bW,array:PW,bigint:xW,boolean:wP,date:TW,discriminatedUnion:MW,effect:ST,enum:WW,function:UW,instanceof:wW,intersection:LW,lazy:BW,literal:zW,map:jW,nan:EW,nativeEnum:HW,never:RW,null:CW,nullable:GW,number:_P,object:NW,oboolean:JW,onumber:XW,optional:KW,ostring:ZW,pipeline:YW,preprocess:QW,promise:qW,record:FW,set:$W,strictObject:OW,string:vP,symbol:IW,transformer:ST,tuple:VW,undefined:SW,union:DW,unknown:AW,void:kW,NEVER:tH,ZodIssueCode:F,quotelessJson:eW,ZodError:Tn});const CT=(t,e,n)=>{if(t&&"reportValidity"in t){const r=z(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},EP=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?CT(r.ref,n,t):r.refs&&r.refs.forEach(s=>CT(s,n,t))}},nH=(t,e)=>{e.shouldUseNativeValidation&&EP(t,e);const n={};for(const r in t){const s=z(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(rH(e.names||Object.keys(t),r)){const o=Object.assign({},z(n,r));De(o,"root",i),De(n,r,o)}else De(n,r,i)}return n},rH=(t,e)=>t.some(n=>n.startsWith(e+"."));var sH=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(d){return t.push(d)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=sP(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},iH=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&EP({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:nH(sH(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},oH="Label",xP=y.forwardRef((t,e)=>p.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xP.displayName=oH;var TP=xP;const aH=Df("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),IP=y.forwardRef(({className:t,...e},n)=>p.jsx(TP,{ref:n,className:Ae(aH(),t),...e}));IP.displayName=TP.displayName;const lH=V6,SP=y.createContext({}),bT=({...t})=>p.jsx(SP.Provider,{value:{name:t.name},children:p.jsx(U6,{...t})}),Pp=()=>{const t=y.useContext(SP),e=y.useContext(CP),{getFieldState:n,formState:r}=Rp(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},CP=y.createContext({}),Wy=y.forwardRef(({className:t,...e},n)=>{const r=y.useId();return p.jsx(CP.Provider,{value:{id:r},children:p.jsx("div",{ref:n,className:Ae("space-y-2",t),...e})})});Wy.displayName="FormItem";const Hy=y.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Pp();return p.jsx(IP,{ref:n,className:Ae(r&&"text-destructive",t),htmlFor:s,...e})});Hy.displayName="FormLabel";const qy=y.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Pp();return p.jsx(ro,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});qy.displayName="FormControl";const uH=y.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Pp();return p.jsx("p",{ref:n,id:r,className:Ae("text-sm text-muted-foreground",t),...e})});uH.displayName="FormDescription";const Ky=y.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Pp(),o=s?String(s==null?void 0:s.message):e;return o?p.jsx("p",{ref:r,id:i,className:Ae("text-sm font-medium text-destructive",t),...n,children:o}):null});Ky.displayName="FormMessage";const cH=Km.object({email:Km.string().email({message:"   "}),password:Km.string().min(6,{message:"     6   "})}),dH=()=>{const{login:t,loading:e}=_s();_o();const n=J6({resolver:iH(cH),defaultValues:{email:"",password:""}}),r=async s=>{await t(s.email,s.password)};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",dir:"rtl",children:p.jsxs("div",{className:"w-full max-w-md space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-primary",children:"  "}),p.jsx("p",{className:"mt-2 text-gray-600",children:"     "})]}),p.jsxs(Mn,{className:"animate-fade-in",children:[p.jsxs(Er,{children:[p.jsx(xr,{className:"text-xl",children:" "}),p.jsx(ho,{children:"     "})]}),p.jsx(lH,{...n,children:p.jsxs("form",{onSubmit:n.handleSubmit(r),children:[p.jsxs(Kn,{className:"space-y-4",children:[p.jsx(bT,{control:n.control,name:"email",render:({field:s})=>p.jsxs(Wy,{children:[p.jsx(Hy,{children:" "}),p.jsx(qy,{children:p.jsx(ha,{placeholder:"  ",...s})}),p.jsx(Ky,{})]})}),p.jsx(bT,{control:n.control,name:"password",render:({field:s})=>p.jsxs(Wy,{children:[p.jsx(Hy,{children:" "}),p.jsx(qy,{children:p.jsx(ha,{type:"password",placeholder:"  ",...s})}),p.jsx(Ky,{})]})})]}),p.jsx(_w,{children:p.jsx(dt,{type:"submit",className:"w-full",disabled:e,children:e?"  ...":" "})})]})})]}),p.jsx("div",{className:"text-center text-sm text-gray-500",children:p.jsxs("div",{children:[p.jsx("p",{children:"   :"}),p.jsx("p",{children:": employee@example.com / password123"}),p.jsx("p",{children:": manager@example.com / password123"})]})})]})})},hH=()=>{const t=bi();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},fH=new h2,pH=()=>p.jsx(p2,{client:fH,children:p.jsxs(zV,{children:[p.jsx($M,{}),p.jsx($S,{}),p.jsx(fF,{children:p.jsx(HB,{children:p.jsx(qB,{children:p.jsxs(oF,{children:[p.jsx(Gr,{path:"/login",element:p.jsx(dH,{})}),p.jsxs(Gr,{path:"/",element:p.jsx(rT,{children:p.jsx(ZB,{})}),children:[p.jsx(Gr,{index:!0,element:p.jsx(yz,{})}),p.jsx(Gr,{path:"expenses",element:p.jsx(Ez,{})}),p.jsx(Gr,{path:"expenses/new",element:p.jsx(xz,{})}),p.jsx(Gr,{path:"expenses/:id",element:p.jsx(Cz,{})}),p.jsx(Gr,{path:"pending",element:p.jsx(rT,{allowedRoles:["manager","section_manager"],children:p.jsx(D6,{})})})]}),p.jsx(Gr,{path:"*",element:p.jsx(hH,{})})]})})})})]})});ZI(document.getElementById("root")).render(p.jsx(pH,{}));
